"use strict";$(function(){function a(){u.hide(),l.hide(),i.show(),g.show()}function e(){return y[Math.floor(Math.random()*y.length)]}function c(){var a=v[k-1];return q=a.map(function(a){return S[a]})}function d(a){var e=a.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):a}function b(){console.log("In play round",k);e();c(),console.log("roundArray",q),q.shuffle(),console.log("shuffledArray",C),$(".square").each(function(a,e){$(e).css("backgroundColor",C[a])})}function o(a){var e=$(a.target).index(".square"),c=$(".square").length;0!==e&&e!==c-1&&(0===A?(B=$(this),I=B.css("backgroundColor")):1===A&&(B.css("backgroundColor",$(this).css("backgroundColor")),$(this).css("backgroundColor",I),A=-1,t()),A+=1)}function t(){var a=[];$(".square").each(function(e,c){var d=$(c).css("backgroundColor");a.push(d)}),console.log("userRgb",a);var e=a.map(d);console.log("userSortedArray",e),console.log("roundArray",q),e.length===q.length&&e.every(function(a,e){return a===q[e]})?(console.log("It's a match, well done"),p.play(),alert("Round Complete, press Next Round to continue"),h.show()):console.log("Not quite, have another go")}function n(){m+=1,k+=1,r.append('<div class="square"></div>'),nextButton.hide()}function f(){m=1,k=1,i.hide(),h.hide(),w.hide(),g.hide(),u.show(),l.show()}console.log("Igor, JavaScript' alive!");var r=$(".gameBoard"),s=$(".difficulty"),u=$(".easyButton"),l=$(".hardButton"),i=$(".resetButton"),h=$(".nextButton"),g=($(".quickTime"),$(".roundDisplay")),p=($(".soundOnOff"),$("audio")[0]),y=($("audio")[1],[["#3db5f9","#48a8e8","#539ad7","#5e8dc6","#697fb5","#7472a4","#7e6493","#895782","#944a71","#9f3c60","#aa2f4f","#b5213e","#c0142d"],["#44f267","#4bdf68","#51cd69","#58ba6a","#5ea76b","#65956c","#6b826d","#726f6e","#795d6f","#7f4a70","#863771","#8c2572","#931273"],["#553e13","#5a3c1c","#5f3a25","#65382f","#6a3638","#6f3441","#74324b","#7a3054","#7f2e5d","#842c66","#8a2a6f","#8f2879","#942682"],["#5c2c2d","#623a35","#68483d","#6d5745","#73654e","#797356","#7e815e","#849066","#8a9e6e","#90ac77","#95ba7f","#9bc987","#a1d78f"],["#148ea9","#278faa","#3a90ab","#4d90ab","#6091ac","#7392ad","#8692ae","#9993ae","#ac94af","#bf95b0","#d295b1","#e596b1","#f897b2"],["#493582","#524586","#5b568b","#63668f","#6c7693","#758798","#7e979c","#86a7a0","#8fb8a5","#98c8a9","#a1d8ad","#a9e9b2","#b2f9b6"],["#6746f2","#7241e3","#7d3bd4","#8735c5","#9230b6","#9d2ba7","#a72597","#b21f88","#bd1a79","#c8156a","#d30f5b","#dd094c","#e8043d"],["#23184c","#321e4c","#40244d","#4f2a4d","#5e2f4d","#6c354d","#7b3b4e","#8a414e","#98474e","#a74d4e","#b6524e","#c4584f","#d35e4f"],["#78a0d8","#7ca1cd","#80a2c2","#84a4b7","#89a5ad","#8da6a2","#91a797","#95a98c","#99aa81","#9cab77","#a2ad6c","#a6ae61","#aaaf56"],["#1fe876","#29e268","#34dc60","#3ed658","#49d051","#53ca49","#5ec441","#68bd39","#72b731","#7db12a","#87ab22","#92a51a","#9c9f12"],["#3f4887","#4c4885","#5a4884","#674982","#754981","#82497f","#904a7e","#9d4a7c","#aa4a7a","#b84a79","#c54b77","#d34b76","#e04b74"],["#1a57e8","#255dd6","#3062c4","#3b68b3","#456da1","#50738f","#5b787d","#667e6b","#718459","#7b8948","#868f36","#919424","#929a12"],["#05a83e","#18ad4e","#2bb35e","#3fb86e","#52bd7e","#65c28e","#78c79e","#8ccdaf","#9fd2bf","#b2d7cf","#c5dddf","#d9e2ef","#ece7ff"],["#2fded8","#3ae0ca","#45e2bb","#50e4ad","#5be69f","#66e890","#71ea82","#7beb74","#86ed65","#91ef57","#9cf149","#a7f33a","#b2f52c"],["#462e75","#523d73","#5d4d70","#695c6e","#746b6c","#807b69","#8b8a67","#979965","#a3a962","#aeb860","#bac75e","#c5d75b","#d1e659"],["#5ddac3","#69d3a7","#76cc9a","#82c48e","#8fbd81","#9bb674","#a7af68","#b4a85b","#c0a14f","#cd9a42","#d99236","#c68b2a","#f2841d"],["#052e3d","#123c4c","#20495c","#2d576b","#3b647a","#48728a","#558099","#638da8","#709bb8","#7ea8c7","#8bb6d6","#99c3e6","#a6d1f5"],["#2c08ba","#380baf","#440ea3","#501298","#5c158d","#661881","#741b76","#801e6b","#8c215f","#982554","#a42849","#b02b3d","#bc2e32"],["#06bf79","#12b37d","#1fa880","#2b9c84","#389187","#44858b","#517a8e","#5d6e91","#696295","#765798","#824b9c","#8f40a0","#9b34a3"],["#3d770e","#4a8214","#578e1b","#649921","#72a427","#7fb02d","#8cbb34","#99c63a","#a6d240","#b4dd46","#c1e84d","#cef435","#dbff59"],["#5ca10e","#679b16","#72941d","#7d8e25","#88872c","#938134","#9e7a3b","#a87443","#b36d4b","#be6752","#c9605a","#d45a61","#df5369"],["#7bc9e5","#82c5d5","#8ac2c6","#91beb7","#98bba7","#9fb797","#a7b488","#aeb078","#b5ac69","#bca95a","#c4a54a","#cba32b","#d29e2b"],["#71d72f","#7bc82e","#85b92c","#8faa2b","#999b2a","#a38c28","#ad7d27","#b66d26","#c05e24","#ca4f23","#d44022","#de3120","#e8221f"],["#d5870b","#c58514","#b5821d","#a58026","#957e2f","#857b38","#747941","#647749","#547452","#44725b","#347064","#246d6d","#146b76"],["#f23f8e","#e4408d","#d6418b","#c8438a","#ba4489","#ac4588","#9e4787","#8f4885","#814984","#734a83","#654b81","#574d80","#494e7f"],["#dab2f6","#cfaae2","#c4a2ce","#b99bb9","#ae93a5","#a38b91","#98837d","#8e7b68","#837354","#786b40","#6d642b","#625c17","#575403"],["#da87ce","#d28dc0","#ca93b2","#c299a4","#ba9f96","#b29588","#abab7a","#93b26b","#9bb85d","#93be4f","#8bc441","#83ca33","#7bd025"],["#f89951","#ed915b","#e28a66","#d78270","#cc7a7a","#c17285","#b66b8f","#ab6399","#a05ba4","#9553ae","#8a4bb8","#7f44c3","#743ccd"],["#f5d2bf","#e6c3c1","#d7b3c4","#c8a4c7","#ba94c9","#ab84cb","#9c75ce","#8d65d1","#7e56d3","#6f47d5","#6137d8","#5228da","#4318dd"],["#8abc18","#81b32a","#79ab3b","#70a24b","#67995f","#5f9171","#568882","#4d7f94","#4577a6","#3c6eb8","#3365ca","#2b5ddb","#2254ed"],["#b6c506","#abb915","#a1ae24","#96a233","#8b9642","#818a51","#767e61","#6b7370","#61677f","#565b8e","#4b4f9d","#4144ac","#3638bb"]]),v=[[0,3,6,9,12],[0,3,5,7,9,12],[0,1,3,6,9,11,12],[0,1,3,5,7,9,11,12],[0,1,3,4,6,8,9,11,12],[0,1,2,4,5,7,8,10,11,12],[0,1,2,3,5,6,7,9,10,11,12],[0,1,2,3,4,5,7,8,9,10,11,12],[0,1,2,3,4,5,6,7,8,9,10,11,12]],m=1,k=null,w=($(".round"),$(".square")),q=null,C=[],B=void 0,I=null,A=0;r.on("click",".square",o),h.on("click",function(a){n(),b()}),i.on("click",function(a){f()});var S=e();Array.prototype.shuffle=function(){for(var a=1;a<this.length-1;a++)C.push(this[a]);if(C.sort(function(){return.5-Math.random()}),C.push(this[this.length-1]),C.unshift(this[0]),C.length!==q.length||!C.every(function(a,e){return a===q[e]}))return C;C=[],q.shuffle()},s.on("click",function(e){if(console.log("clicked"),$(e.target).hasClass("easyButton"))alert("You're about to start easy mode. Instructions: Simply move the blocks in the middle of the palette so that they create the correct gradient between the two end colours. After you complete each round, press the Next Round button to continue to the following round. Hardly rocket science!"),k=1,a(),b();else if($(e.target).hasClass("hardButton")){alert("You're about to start hard mode. Instructions: Simply move the blocks in the middle of the palette so that they create the correct gradient between the two end colours. After you complete each round, press the Next Round button to continue to the following round.  Hardly rocket science!"),k=5;for(var c=0;c<4;c++)r.append('<div class="square"></div>');a(),b()}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwicmdiIiwiJGVhc3lCdXR0b24iLCIkaGFyZEJ1dHRvbiIsImhpZGUiLCIkcmVzZXRCdXR0b24iLCJzaG93IiwiJHdoaWNoUm91bmQiLCJwbGF5Um91bmQiLCJzZXF1ZW5jZU1hdGNoZXIiLCJjb25zb2xlIiwiTWF0aCIsImZsb29yIiwicm91bmRBcnJheSIsInJhbmRvbSIsImNvbG9yUGFsZXR0ZSIsImxlbmd0aCIsInNlcXVlbmNlQXJyYXkiLCJlbGVtZW50U2VsZWN0b3IiLCJzaHVmZmxlZEFycmF5IiwibWFwIiwiaXRlbSIsInJhbmRvbUNvbG9yc0FyciIsImJhY2tncm91bmRDb2xvdXIiLCJ1c2VyUmdiIiwicmVwbGFjZSIsIm1hdGNoIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsInNsaWNlIiwibG9nIiwicm91bmROdW1iZXIiLCIkcGluZ1NvdW5kIiwiJG5leHRCdXR0b24iLCJpZHgiLCJlbCIsImNzcyIsIm5leHRSb3VuZCIsImUiLCJyb3VuZENvdW50ZXIiLCJ0YXJnZXQiLCJpbmRleCIsImFwcGVuZCIsIiRnYW1lQm9hcmQiLCJuZXh0QnV0dG9uIiwicHJldiIsInRoaXMiLCJwcmV2Y29sb3IiLCJyZXNldEdhbWUiLCJjaGVja0NvbXBsZXRlIiwiJGRpZmZpY3VsdHkiLCJlYWNoIiwiZWxlbWVudCIsImFsZXJ0IiwiZ2FtZVN0YXJ0IiwicmdiVG9IZXgiLCJ1c2VyU29ydGVkQXJyYXkiLCJldmVyeSIsInYiLCJpIiwicGxheSIsIiRnYW1lU3F1YXJlcyIsIiRxdWlja1RpbWUiLCIkYmFja2dyb3VuZFNvdW5kIiwicXVpY2tlc3RUaW1lIiwiY2hhbmdlQ29sb3IiLCJvbiIsImNvbG9ycyIsImNvdW50IiwiQXJyYXkiLCJzaHVmZmxlIiwicHVzaCIsImhhc0NsYXNzIl0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRSxXQXFJRSxRQUFJQyxLQUNKQyxFQUFRRCxPQUlURSxFQUFBQyxPQTNDQ0MsRUFBYUMsT0E4Q2ZD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SCxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFlBRTlHLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFlBK0J2SSxVQUFNRyxVQUNKLFVBQWEsVUFDYixVQUFnQixVQUNULFVBQVAsVUFDSSxVQUFKLFVBSnNCLFVBS3RCLFVBQUEsWUFsQ0MsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsWUF5Q3ZJLFVBQUlxQixVQUFKLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFJUixVQUFKLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFhL0IsVUFBYixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQ0EsVUFBSTZELFVBQWlCLFVBQXJCLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQ0EsVUFBSUcsVUFBSixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQ0EsVUFBSW5ELFVBQUosVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUNBLFVBQUlNLFVBQUosVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUNBLFVBQUkwQixVQUFKLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFBQSxVQUFVRSxVQUFWLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVB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R0EyQ3hCVSxLQXlCQXRDLElBQUFBLEdBQVl5RCxHQVdaRSxPQUFHNUIsVUFBVTZCLFFBQUs3QixXQUNoQixJQUFBLEdBQUcyQixHQUFBQSxFQUFBQSxFQUFBQSxLQUFZcEQsT0FBQSxFQUFBMkMsSUFDYmQsRUFBUzBCLEtBQVR6QixLQUFBYSxHQVFGUyxJQU5DakQsRUFBUWlELEtBQUFBLFdBQ1B2QixNQUFLVCxHQUFJekIsS0FBQUcsV0FFVHNELEVBQUFHLEtBQUF6QixLQUFBQSxLQUFBOUIsT0FBQSxJQUNBaUMsRUFBQUEsUUFBQUEsS0FBQUEsSUFFRm1CLEVBQUFwRCxTQUFBSCxFQUFBRyxTQUFBRyxFQUFBc0MsTUFBQSxTQUFBQyxFQUFBQyxHQUFBLE1BQUFELEtBQUE3QyxFQUFBOEMsS0FJSixNQUFTVixFQUhOOUIsTUFDRk4sRUFBQXlELFdBZ0tIcEIsRUFBQWdCLEdBQUEsUUFBQSxTQUFBNUIsR0EzR0ksR0E0R0o1QixRQUFBb0IsSUFBQSxXQTVHUTlCLEVBQUVzQyxFQUFFRSxRQUFRZ0MsU0FBUyxjQUN2Qm5CLE1BQU0sa1NBQ050QixFQUFjLEVBQ2R1QixJQUNBOUMsUUFFSyxJQUFJUixFQUFFc0MsRUFBRUUsUUFBUWdDLFNBQVMsY0FBZSxDQUM3Q25CLE1BQU0sbVNBQ050QixFQUFjLENBQ2QsS0FBSyxHQUFJNEIsR0FBSSxFQUFHQSxFQUFJLEVBQUdBLElBQ3JCaEIsRUFBV0QsT0FBTyw2QkFFcEJZLEtBQ0E5QyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcblxuICBjb25zb2xlLmxvZygnSWdvciwgSmF2YVNjcmlwdFxcJyBhbGl2ZSEnKTtcblxuICBjb25zdCAkZ2FtZUJvYXJkID0gJCgnLmdhbWVCb2FyZCcpO1xuICBjb25zdCAkZGlmZmljdWx0eSA9ICQoJy5kaWZmaWN1bHR5Jyk7XG4gIGNvbnN0ICRlYXN5QnV0dG9uID0gJCgnLmVhc3lCdXR0b24nKTtcbiAgY29uc3QgJGhhcmRCdXR0b24gPSAkKCcuaGFyZEJ1dHRvbicpO1xuICBjb25zdCAkcmVzZXRCdXR0b24gPSAkKCcucmVzZXRCdXR0b24nKTtcbiAgY29uc3QgJG5leHRCdXR0b24gPSAkKCcubmV4dEJ1dHRvbicpO1xuICBjb25zdCAkcXVpY2tUaW1lID0gJCgnLnF1aWNrVGltZScpO1xuICBjb25zdCAkd2hpY2hSb3VuZCA9ICQoJy5yb3VuZERpc3BsYXknKTtcbiAgY29uc3QgJHNvdW5kID0gJCgnLnNvdW5kT25PZmYnKTtcbiAgY29uc3QgJHBpbmdTb3VuZCA9ICQoJ2F1ZGlvJylbMF07XG4gIGNvbnN0ICRiYWNrZ3JvdW5kU291bmQgPSAkKCdhdWRpbycpWzFdO1xuXG4gIGNvbnN0IGNvbG9yUGFsZXR0ZSA9IFtcbiAgICBbJyMzZGI1ZjknLCAnIzQ4YThlOCcsICcjNTM5YWQ3JywgJyM1ZThkYzYnLCAnIzY5N2ZiNScsICcjNzQ3MmE0JywgJyM3ZTY0OTMnLCAnIzg5NTc4MicsICcjOTQ0YTcxJywgJyM5ZjNjNjAnLCAnI2FhMmY0ZicsICcjYjUyMTNlJywgJyNjMDE0MmQnXSxcbiAgICBbJyM0NGYyNjcnLCAnIzRiZGY2OCcsICcjNTFjZDY5JywgJyM1OGJhNmEnLCAnIzVlYTc2YicsICcjNjU5NTZjJywgJyM2YjgyNmQnLCAnIzcyNmY2ZScsICcjNzk1ZDZmJywgJyM3ZjRhNzAnLCAnIzg2Mzc3MScsICcjOGMyNTcyJywgJyM5MzEyNzMnXSxcbiAgICBbJyM1NTNlMTMnLCAnIzVhM2MxYycsICcjNWYzYTI1JywgJyM2NTM4MmYnLCAnIzZhMzYzOCcsICcjNmYzNDQxJywgJyM3NDMyNGInLCAnIzdhMzA1NCcsICcjN2YyZTVkJywgJyM4NDJjNjYnLCAnIzhhMmE2ZicsICcjOGYyODc5JywgJyM5NDI2ODInXSxcbiAgICBbJyM1YzJjMmQnLCAnIzYyM2EzNScsICcjNjg0ODNkJywgJyM2ZDU3NDUnLCAnIzczNjU0ZScsICcjNzk3MzU2JywgJyM3ZTgxNWUnLCAnIzg0OTA2NicsICcjOGE5ZTZlJywgJyM5MGFjNzcnLCAnIzk1YmE3ZicsICcjOWJjOTg3JywgJyNhMWQ3OGYnXSxcbiAgICBbJyMxNDhlYTknLCAnIzI3OGZhYScsICcjM2E5MGFiJywgJyM0ZDkwYWInLCAnIzYwOTFhYycsICcjNzM5MmFkJywgJyM4NjkyYWUnLCAnIzk5OTNhZScsICcjYWM5NGFmJywgJyNiZjk1YjAnLCAnI2QyOTViMScsICcjZTU5NmIxJywgJyNmODk3YjInXSxcbiAgICBbJyM0OTM1ODInLCAnIzUyNDU4NicsICcjNWI1NjhiJywgJyM2MzY2OGYnLCAnIzZjNzY5MycsICcjNzU4Nzk4JywgJyM3ZTk3OWMnLCAnIzg2YTdhMCcsICcjOGZiOGE1JywgJyM5OGM4YTknLCAnI2ExZDhhZCcsICcjYTllOWIyJywgJyNiMmY5YjYnXSxcbiAgICBbJyM2NzQ2ZjInLCAnIzcyNDFlMycsICcjN2QzYmQ0JywgJyM4NzM1YzUnLCAnIzkyMzBiNicsICcjOWQyYmE3JywgJyNhNzI1OTcnLCAnI2IyMWY4OCcsICcjYmQxYTc5JywgJyNjODE1NmEnLCAnI2QzMGY1YicsICcjZGQwOTRjJywgJyNlODA0M2QnXSxcbiAgICBbJyMyMzE4NGMnLCAnIzMyMWU0YycsICcjNDAyNDRkJywgJyM0ZjJhNGQnLCAnIzVlMmY0ZCcsICcjNmMzNTRkJywgJyM3YjNiNGUnLCAnIzhhNDE0ZScsICcjOTg0NzRlJywgJyNhNzRkNGUnLCAnI2I2NTI0ZScsICcjYzQ1ODRmJywgJyNkMzVlNGYnXSxcbiAgICBbJyM3OGEwZDgnLCAnIzdjYTFjZCcsICcjODBhMmMyJywgJyM4NGE0YjcnLCAnIzg5YTVhZCcsICcjOGRhNmEyJywgJyM5MWE3OTcnLCAnIzk1YTk4YycsICcjOTlhYTgxJywgJyM5Y2FiNzcnLCAnI2EyYWQ2YycsICcjYTZhZTYxJywgJyNhYWFmNTYnXSxcbiAgICBbJyMxZmU4NzYnLCAnIzI5ZTI2OCcsICcjMzRkYzYwJywgJyMzZWQ2NTgnLCAnIzQ5ZDA1MScsICcjNTNjYTQ5JywgJyM1ZWM0NDEnLCAnIzY4YmQzOScsICcjNzJiNzMxJywgJyM3ZGIxMmEnLCAnIzg3YWIyMicsICcjOTJhNTFhJywgJyM5YzlmMTInXSxcbiAgICBbJyMzZjQ4ODcnLCAnIzRjNDg4NScsICcjNWE0ODg0JywgJyM2NzQ5ODInLCAnIzc1NDk4MScsICcjODI0OTdmJywgJyM5MDRhN2UnLCAnIzlkNGE3YycsICcjYWE0YTdhJywgJyNiODRhNzknLCAnI2M1NGI3NycsICcjZDM0Yjc2JywgJyNlMDRiNzQnXSxcbiAgICBbJyMxYTU3ZTgnLCAnIzI1NWRkNicsICcjMzA2MmM0JywgJyMzYjY4YjMnLCAnIzQ1NmRhMScsICcjNTA3MzhmJywgJyM1Yjc4N2QnLCAnIzY2N2U2YicsICcjNzE4NDU5JywgJyM3Yjg5NDgnLCAnIzg2OGYzNicsICcjOTE5NDI0JywgJyM5MjlhMTInXSxcbiAgICBbJyMwNWE4M2UnLCAnIzE4YWQ0ZScsICcjMmJiMzVlJywgJyMzZmI4NmUnLCAnIzUyYmQ3ZScsICcjNjVjMjhlJywgJyM3OGM3OWUnLCAnIzhjY2RhZicsICcjOWZkMmJmJywgJyNiMmQ3Y2YnLCAnI2M1ZGRkZicsICcjZDllMmVmJywgJyNlY2U3ZmYnXSxcbiAgICBbJyMyZmRlZDgnLCAnIzNhZTBjYScsICcjNDVlMmJiJywgJyM1MGU0YWQnLCAnIzViZTY5ZicsICcjNjZlODkwJywgJyM3MWVhODInLCAnIzdiZWI3NCcsICcjODZlZDY1JywgJyM5MWVmNTcnLCAnIzljZjE0OScsICcjYTdmMzNhJywgJyNiMmY1MmMnXSxcbiAgICBbJyM0NjJlNzUnLCAnIzUyM2Q3MycsICcjNWQ0ZDcwJywgJyM2OTVjNmUnLCAnIzc0NmI2YycsICcjODA3YjY5JywgJyM4YjhhNjcnLCAnIzk3OTk2NScsICcjYTNhOTYyJywgJyNhZWI4NjAnLCAnI2JhYzc1ZScsICcjYzVkNzViJywgJyNkMWU2NTknXSxcbiAgICBbJyM1ZGRhYzMnLCAnIzY5ZDNhNycsICcjNzZjYzlhJywgJyM4MmM0OGUnLCAnIzhmYmQ4MScsICcjOWJiNjc0JywgJyNhN2FmNjgnLCAnI2I0YTg1YicsICcjYzBhMTRmJywgJyNjZDlhNDInLCAnI2Q5OTIzNicsICcjYzY4YjJhJywgJyNmMjg0MWQnXSxcbiAgICBbJyMwNTJlM2QnLCAnIzEyM2M0YycsICcjMjA0OTVjJywgJyMyZDU3NmInLCAnIzNiNjQ3YScsICcjNDg3MjhhJywgJyM1NTgwOTknLCAnIzYzOGRhOCcsICcjNzA5YmI4JywgJyM3ZWE4YzcnLCAnIzhiYjZkNicsICcjOTljM2U2JywgJyNhNmQxZjUnXSxcbiAgICBbJyMyYzA4YmEnLCAnIzM4MGJhZicsICcjNDQwZWEzJywgJyM1MDEyOTgnLCAnIzVjMTU4ZCcsICcjNjYxODgxJywgJyM3NDFiNzYnLCAnIzgwMWU2YicsICcjOGMyMTVmJywgJyM5ODI1NTQnLCAnI2E0Mjg0OScsICcjYjAyYjNkJywgJyNiYzJlMzInXSxcbiAgICBbJyMwNmJmNzknLCAnIzEyYjM3ZCcsICcjMWZhODgwJywgJyMyYjljODQnLCAnIzM4OTE4NycsICcjNDQ4NThiJywgJyM1MTdhOGUnLCAnIzVkNmU5MScsICcjNjk2Mjk1JywgJyM3NjU3OTgnLCAnIzgyNGI5YycsICcjOGY0MGEwJywgJyM5YjM0YTMnXSxcbiAgICBbJyMzZDc3MGUnLCAnIzRhODIxNCcsICcjNTc4ZTFiJywgJyM2NDk5MjEnLCAnIzcyYTQyNycsICcjN2ZiMDJkJywgJyM4Y2JiMzQnLCAnIzk5YzYzYScsICcjYTZkMjQwJywgJyNiNGRkNDYnLCAnI2MxZTg0ZCcsICcjY2VmNDM1JywgJyNkYmZmNTknXSxcbiAgICBbJyM1Y2ExMGUnLCAnIzY3OWIxNicsICcjNzI5NDFkJywgJyM3ZDhlMjUnLCAnIzg4ODcyYycsICcjOTM4MTM0JywgJyM5ZTdhM2InLCAnI2E4NzQ0MycsICcjYjM2ZDRiJywgJyNiZTY3NTInLCAnI2M5NjA1YScsICcjZDQ1YTYxJywgJyNkZjUzNjknXSxcbiAgICBbJyM3YmM5ZTUnLCAnIzgyYzVkNScsICcjOGFjMmM2JywgJyM5MWJlYjcnLCAnIzk4YmJhNycsICcjOWZiNzk3JywgJyNhN2I0ODgnLCAnI2FlYjA3OCcsICcjYjVhYzY5JywgJyNiY2E5NWEnLCAnI2M0YTU0YScsICcjY2JhMzJiJywgJyNkMjllMmInXSxcbiAgICBbJyM3MWQ3MmYnLCAnIzdiYzgyZScsICcjODViOTJjJywgJyM4ZmFhMmInLCAnIzk5OWIyYScsICcjYTM4YzI4JywgJyNhZDdkMjcnLCAnI2I2NmQyNicsICcjYzA1ZTI0JywgJyNjYTRmMjMnLCAnI2Q0NDAyMicsICcjZGUzMTIwJywgJyNlODIyMWYnXSxcbiAgICBbJyNkNTg3MGInLCAnI2M1ODUxNCcsICcjYjU4MjFkJywgJyNhNTgwMjYnLCAnIzk1N2UyZicsICcjODU3YjM4JywgJyM3NDc5NDEnLCAnIzY0Nzc0OScsICcjNTQ3NDUyJywgJyM0NDcyNWInLCAnIzM0NzA2NCcsICcjMjQ2ZDZkJywgJyMxNDZiNzYnXSxcbiAgICBbJyNmMjNmOGUnLCAnI2U0NDA4ZCcsICcjZDY0MThiJywgJyNjODQzOGEnLCAnI2JhNDQ4OScsICcjYWM0NTg4JywgJyM5ZTQ3ODcnLCAnIzhmNDg4NScsICcjODE0OTg0JywgJyM3MzRhODMnLCAnIzY1NGI4MScsICcjNTc0ZDgwJywgJyM0OTRlN2YnXSxcbiAgICBbJyNkYWIyZjYnLCAnI2NmYWFlMicsICcjYzRhMmNlJywgJyNiOTliYjknLCAnI2FlOTNhNScsICcjYTM4YjkxJywgJyM5ODgzN2QnLCAnIzhlN2I2OCcsICcjODM3MzU0JywgJyM3ODZiNDAnLCAnIzZkNjQyYicsICcjNjI1YzE3JywgJyM1NzU0MDMnXSxcbiAgICBbJyNkYTg3Y2UnLCAnI2QyOGRjMCcsICcjY2E5M2IyJywgJyNjMjk5YTQnLCAnI2JhOWY5NicsICcjYjI5NTg4JywgJyNhYmFiN2EnLCAnIzkzYjI2YicsICcjOWJiODVkJywgJyM5M2JlNGYnLCAnIzhiYzQ0MScsICcjODNjYTMzJywgJyM3YmQwMjUnXSxcbiAgICBbJyNmODk5NTEnLCAnI2VkOTE1YicsICcjZTI4YTY2JywgJyNkNzgyNzAnLCAnI2NjN2E3YScsICcjYzE3Mjg1JywgJyNiNjZiOGYnLCAnI2FiNjM5OScsICcjYTA1YmE0JywgJyM5NTUzYWUnLCAnIzhhNGJiOCcsICcjN2Y0NGMzJywgJyM3NDNjY2QnXSxcbiAgICBbJyNmNWQyYmYnLCAnI2U2YzNjMScsICcjZDdiM2M0JywgJyNjOGE0YzcnLCAnI2JhOTRjOScsICcjYWI4NGNiJywgJyM5Yzc1Y2UnLCAnIzhkNjVkMScsICcjN2U1NmQzJywgJyM2ZjQ3ZDUnLCAnIzYxMzdkOCcsICcjNTIyOGRhJywgJyM0MzE4ZGQnXSxcbiAgICBbJyM4YWJjMTgnLCAnIzgxYjMyYScsICcjNzlhYjNiJywgJyM3MGEyNGInLCAnIzY3OTk1ZicsICcjNWY5MTcxJywgJyM1Njg4ODInLCAnIzRkN2Y5NCcsICcjNDU3N2E2JywgJyMzYzZlYjgnLCAnIzMzNjVjYScsICcjMmI1ZGRiJywgJyMyMjU0ZWQnXSxcbiAgICBbJyNiNmM1MDYnLCAnI2FiYjkxNScsICcjYTFhZTI0JywgJyM5NmEyMzMnLCAnIzhiOTY0MicsICcjODE4YTUxJywgJyM3NjdlNjEnLCAnIzZiNzM3MCcsICcjNjE2NzdmJywgJyM1NjViOGUnLCAnIzRiNGY5ZCcsICcjNDE0NGFjJywgJyMzNjM4YmInXVxuICBdO1xuXG4gIGNvbnN0IGVsZW1lbnRTZWxlY3RvciA9IFtcbiAgICBbMCwgMywgNiwgOSwgMTJdLFxuICAgIFswLCAzLCA1LCA3LCA5LCAxMl0sXG4gICAgWzAsIDEsIDMsIDYsIDksIDExLCAxMl0sXG4gICAgWzAsIDEsIDMsIDUsIDcsIDksIDExLCAxMl0sXG4gICAgWzAsIDEsIDMsIDQsIDYsIDgsIDksIDExLCAxMl0sXG4gICAgWzAsIDEsIDIsIDQsIDUsIDcsIDgsIDEwLCAxMSwgMTJdLFxuICAgIFswLCAxLCAyLCAzLCA1LCA2LCA3LCA5LCAxMCwgMTEsIDEyXSxcbiAgICBbMCwgMSwgMiwgMywgNCwgNSwgNywgOCwgOSwgMTAsIDExLCAxMl0sXG4gICAgWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTJdXG4gIF07XG5cbiAgbGV0IHJvdW5kQ291bnRlciA9IDE7XG4gIGxldCByb3VuZE51bWJlciA9IG51bGw7XG4gIGxldCAkcm91bmQgPSAkKCcucm91bmQnKTtcbiAgbGV0ICRnYW1lU3F1YXJlcyA9ICQoJy5zcXVhcmUnKTtcbiAgbGV0IHF1aWNrZXN0VGltZSA9IG51bGw7XG4gIGxldCByb3VuZEFycmF5ID0gbnVsbDtcbiAgbGV0IHNodWZmbGVkQXJyYXkgPSBbXTtcbiAgbGV0IHByZXYsIHByZXZjb2xvciA9IG51bGw7XG4gIGxldCBjb3VudCA9IDA7XG5cblxuICAkZ2FtZUJvYXJkLm9uKCdjbGljaycsICcuc3F1YXJlJywgY2hhbmdlQ29sb3IpO1xuXG4gICRuZXh0QnV0dG9uLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgbmV4dFJvdW5kKCk7XG4gICAgcGxheVJvdW5kKCk7XG4gIH0pO1xuXG4gICRyZXNldEJ1dHRvbi5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgIHJlc2V0R2FtZSgpO1xuICB9KTtcblxuICAvLyAkcmVzZXRCdXR0b24uaGlkZSgpO1xuICAvLyAkbmV4dEJ1dHRvbi5oaWRlKCk7XG4gIC8vICRnYW1lU3F1YXJlcy5oaWRlKCk7XG4gIC8vICR3aGljaFJvdW5kLmhpZGUoKTtcblxuICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKykge1xuICAvLyB9XG5cbiAgZnVuY3Rpb24gZ2FtZVN0YXJ0ICgpIHtcbiAgICAkZWFzeUJ1dHRvbi5oaWRlKCk7XG4gICAgJGhhcmRCdXR0b24uaGlkZSgpO1xuICAgICRyZXNldEJ1dHRvbi5zaG93KCk7XG4gICAgJHdoaWNoUm91bmQuc2hvdygpO1xuICB9XG5cblxuICBmdW5jdGlvbiBjb2xvcnMoKSB7XG4gICAgcmV0dXJuIGNvbG9yUGFsZXR0ZVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqY29sb3JQYWxldHRlLmxlbmd0aCldO1xuICB9XG4gIGxldCByYW5kb21Db2xvcnNBcnIgPSBjb2xvcnMoKTtcblxuICBmdW5jdGlvbiBzZXF1ZW5jZU1hdGNoZXIoKSB7XG4gICAgY29uc3Qgc2VxdWVuY2VBcnJheSA9IGVsZW1lbnRTZWxlY3Rvcltyb3VuZE51bWJlci0xXTtcbiAgICByZXR1cm4gcm91bmRBcnJheSA9IHNlcXVlbmNlQXJyYXkubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiByYW5kb21Db2xvcnNBcnJbaXRlbV07XG4gICAgfSk7XG4gIH1cblxuXG4gIEFycmF5LnByb3RvdHlwZS5zaHVmZmxlID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKGxldCBpPTE7IGk8dGhpcy5sZW5ndGgtMTsgaSsrKSB7XG4gICAgICBzaHVmZmxlZEFycmF5LnB1c2godGhpc1tpXSk7XG4gICAgfVxuICAgIHNodWZmbGVkQXJyYXkuc29ydChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAwLjUgLSBNYXRoLnJhbmRvbSgpO1xuICAgIH0pO1xuICAgIHNodWZmbGVkQXJyYXkucHVzaCh0aGlzW3RoaXMubGVuZ3RoLTFdKTtcbiAgICBzaHVmZmxlZEFycmF5LnVuc2hpZnQodGhpc1swXSk7XG5cbiAgICBpZiAoc2h1ZmZsZWRBcnJheS5sZW5ndGggPT09IHJvdW5kQXJyYXkubGVuZ3RoICYmIHNodWZmbGVkQXJyYXkuZXZlcnkoKHYsaSk9PiB2ID09PSByb3VuZEFycmF5W2ldKSkge1xuICAgICAgc2h1ZmZsZWRBcnJheSA9IFtdO1xuICAgICAgcm91bmRBcnJheS5zaHVmZmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzaHVmZmxlZEFycmF5O1xuICAgIH1cbiAgfTtcblxuXG4gIGZ1bmN0aW9uIHJnYlRvSGV4ICh1c2VyUmdiKSB7XG4gICAgdmFyIHJnYiA9IHVzZXJSZ2IucmVwbGFjZSgvXFxzL2csJycpLm1hdGNoKC9ecmdiYT9cXCgoXFxkKyksKFxcZCspLChcXGQrKS9pKTtcbiAgICByZXR1cm4gKHJnYiAmJiByZ2IubGVuZ3RoID09PSA0KSA/ICcjJyArXG4gICAgKCcwJyArIHBhcnNlSW50KHJnYlsxXSwxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikgK1xuICAgICgnMCcgKyBwYXJzZUludChyZ2JbMl0sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpICtcbiAgICAoJzAnICsgcGFyc2VJbnQocmdiWzNdLDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSA6IHVzZXJSZ2I7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHBsYXlSb3VuZCgpIHtcbiAgICByb3VuZE51bWJlcjtcbiAgICBjb25zb2xlLmxvZygnSW4gcGxheSByb3VuZCcsIHJvdW5kTnVtYmVyKTtcbiAgICBjb25zdCByYW5kb21Db2xvcnNBcnIgPSBjb2xvcnMoKTtcbiAgICBzZXF1ZW5jZU1hdGNoZXIoKTtcbiAgICBjb25zb2xlLmxvZygncm91bmRBcnJheScsIHJvdW5kQXJyYXkpO1xuICAgIHJvdW5kQXJyYXkuc2h1ZmZsZSgpO1xuICAgIGNvbnNvbGUubG9nKCdzaHVmZmxlZEFycmF5Jywgc2h1ZmZsZWRBcnJheSk7XG5cbiAgICAkKCcuc3F1YXJlJykuZWFjaChmdW5jdGlvbihpZHgsIGVsKSB7XG4gICAgICAkKGVsKS5jc3MoJ2JhY2tncm91bmRDb2xvcicsIHNodWZmbGVkQXJyYXlbaWR4XSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNoYW5nZUNvbG9yKGUpe1xuICAgIGNvbnN0IGluZGV4ID0gJChlLnRhcmdldCkuaW5kZXgoJy5zcXVhcmUnKTtcbiAgICBjb25zdCBsZW5ndGggPSAkKCcuc3F1YXJlJykubGVuZ3RoO1xuICAgIGlmKGluZGV4ICE9PSAwICYmIGluZGV4ICE9PSAobGVuZ3RoIC0gMSkpIHtcbiAgICAgIGlmKGNvdW50ID09PSAwKXtcbiAgICAgICAgcHJldiA9ICQodGhpcyk7XG4gICAgICAgIHByZXZjb2xvciA9IHByZXYuY3NzKCdiYWNrZ3JvdW5kQ29sb3InKTtcbiAgICAgIH1lbHNlIGlmKGNvdW50ID09PSAxKXtcbiAgICAgICAgcHJldi5jc3MoJ2JhY2tncm91bmRDb2xvcicsICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kQ29sb3InKSk7XG4gICAgICAgICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCBwcmV2Y29sb3IpO1xuICAgICAgICBjb3VudCA9IC0xO1xuICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgICBjb3VudCs9MTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0NvbXBsZXRlICgpIHtcbiAgICBsZXQgdXNlclJnYiA9IFtdO1xuICAgICQoJy5zcXVhcmUnKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnZWxlbWVudCcsIGVsZW1lbnQsIGluZGV4KTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHVzZXJSZ2JbaW5kZXhdKTtcbiAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvdXIgPSAkKGVsZW1lbnQpLmNzcygnYmFja2dyb3VuZENvbG9yJyk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhiYWNrZ3JvdW5kQ29sb3VyKTtcbiAgICAgIHVzZXJSZ2IucHVzaChiYWNrZ3JvdW5kQ29sb3VyKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHVzZXJSZ2IpO1xuICAgICAgLy8gY29uc29sZS5sb2cocm91bmRBcnJheSk7XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ3VzZXJSZ2InLCB1c2VyUmdiKTtcblxuICAgIGxldCB1c2VyU29ydGVkQXJyYXkgPSB1c2VyUmdiLm1hcChyZ2JUb0hleCk7XG4gICAgY29uc29sZS5sb2coJ3VzZXJTb3J0ZWRBcnJheScsIHVzZXJTb3J0ZWRBcnJheSk7XG4gICAgY29uc29sZS5sb2coJ3JvdW5kQXJyYXknLCByb3VuZEFycmF5KTtcblxuICAgIGlmICh1c2VyU29ydGVkQXJyYXkubGVuZ3RoID09PSByb3VuZEFycmF5Lmxlbmd0aCAmJiB1c2VyU29ydGVkQXJyYXkuZXZlcnkoKHYsaSk9PiB2ID09PSByb3VuZEFycmF5W2ldKSkge1xuICAgICAgY29uc29sZS5sb2coJ0l0XFwncyBhIG1hdGNoLCB3ZWxsIGRvbmUnKTtcbiAgICAgICRwaW5nU291bmQucGxheSgpO1xuICAgICAgYWxlcnQoJ1JvdW5kIENvbXBsZXRlLCBwcmVzcyBOZXh0IFJvdW5kIHRvIGNvbnRpbnVlJyk7XG4gICAgICAkbmV4dEJ1dHRvbi5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdOb3QgcXVpdGUsIGhhdmUgYW5vdGhlciBnbycpO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gbmV4dFJvdW5kICgpIHtcbiAgICByb3VuZENvdW50ZXIgKz0gMTtcbiAgICByb3VuZE51bWJlciArPTE7XG4gICAgJGdhbWVCb2FyZC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzcXVhcmVcIj48L2Rpdj4nKTtcbiAgICBuZXh0QnV0dG9uLmhpZGUoKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gcmVzZXRHYW1lKCkge1xuICAgIHJvdW5kQ291bnRlciA9IDE7XG4gICAgcm91bmROdW1iZXIgPSAxO1xuICAgICRyZXNldEJ1dHRvbi5oaWRlKCk7XG4gICAgJG5leHRCdXR0b24uaGlkZSgpO1xuICAgICRnYW1lU3F1YXJlcy5oaWRlKCk7XG4gICAgJHdoaWNoUm91bmQuaGlkZSgpO1xuICAgICRlYXN5QnV0dG9uLnNob3coKTtcbiAgICAkaGFyZEJ1dHRvbi5zaG93KCk7XG4gIH1cblxuXG4gICRkaWZmaWN1bHR5Lm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2NsaWNrZWQnKTtcblxuICAgIGlmICgkKGUudGFyZ2V0KS5oYXNDbGFzcygnZWFzeUJ1dHRvbicpKSB7XG4gICAgICBhbGVydCgnWW91XFwncmUgYWJvdXQgdG8gc3RhcnQgZWFzeSBtb2RlLiBJbnN0cnVjdGlvbnM6IFNpbXBseSBtb3ZlIHRoZSBibG9ja3MgaW4gdGhlIG1pZGRsZSBvZiB0aGUgcGFsZXR0ZSBzbyB0aGF0IHRoZXkgY3JlYXRlIHRoZSBjb3JyZWN0IGdyYWRpZW50IGJldHdlZW4gdGhlIHR3byBlbmQgY29sb3Vycy4gQWZ0ZXIgeW91IGNvbXBsZXRlIGVhY2ggcm91bmQsIHByZXNzIHRoZSBOZXh0IFJvdW5kIGJ1dHRvbiB0byBjb250aW51ZSB0byB0aGUgZm9sbG93aW5nIHJvdW5kLiBIYXJkbHkgcm9ja2V0IHNjaWVuY2UhJyk7XG4gICAgICByb3VuZE51bWJlciA9IDE7XG4gICAgICBnYW1lU3RhcnQoKTtcbiAgICAgIHBsYXlSb3VuZCgpO1xuXG4gICAgfSBlbHNlIGlmICgkKGUudGFyZ2V0KS5oYXNDbGFzcygnaGFyZEJ1dHRvbicpKSB7XG4gICAgICBhbGVydCgnWW91XFwncmUgYWJvdXQgdG8gc3RhcnQgaGFyZCBtb2RlLiBJbnN0cnVjdGlvbnM6IFNpbXBseSBtb3ZlIHRoZSBibG9ja3MgaW4gdGhlIG1pZGRsZSBvZiB0aGUgcGFsZXR0ZSBzbyB0aGF0IHRoZXkgY3JlYXRlIHRoZSBjb3JyZWN0IGdyYWRpZW50IGJldHdlZW4gdGhlIHR3byBlbmQgY29sb3Vycy4gQWZ0ZXIgeW91IGNvbXBsZXRlIGVhY2ggcm91bmQsIHByZXNzIHRoZSBOZXh0IFJvdW5kIGJ1dHRvbiB0byBjb250aW51ZSB0byB0aGUgZm9sbG93aW5nIHJvdW5kLiAgSGFyZGx5IHJvY2tldCBzY2llbmNlIScpO1xuICAgICAgcm91bmROdW1iZXIgPSA1O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgJGdhbWVCb2FyZC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzcXVhcmVcIj48L2Rpdj4nKTtcbiAgICAgIH1cbiAgICAgIGdhbWVTdGFydCgpO1xuICAgICAgcGxheVJvdW5kKCk7XG4gICAgfVxuICB9KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG59KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLy8gTkVYVCBST1VORFxuLy8gJGdhbWVCb2FyZC5hcHBlbmQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcygnc3F1YXJlJyk7XG4vLyByb3VuZCBudW1iZXIgKz0xXG5cblxuLy8gUkVTRVRcbi8vIHRpbWVyIHJlc2V0XG4vLyAkcmVzZXRCdXR0b24uaGlkZSgpO1xuLy8gJG5leHRCdXR0b24uaGlkZSgpO1xuLy8gJGdhbWVTcXVhcmVzLmhpZGUoKTtcbi8vICR3aGljaFJvdW5kLmhpZGUoKTtcbi8vIFRpbWVyIHJlc2V0XG4vLyBEaXYncyBjbGVhclxuXG5cblxuXG5cbi8vIGZ1bmN0aW9uIHN0YXJ0VGltZSgpIHtcbi8vICAgdmFyIHRpbWUxID0gbmV3IERhdGUoKTtcbi8vICAgcmV0dXJuIHRpbWUxO1xuLy8gfVxuLy9cbi8vIGZ1bmN0aW9uIGVuZFRpbWUoKSB7XG4vLyAgIHZhciB0aW1lMiA9IG5ldyBEYXRlKCk7XG4vLyAgIHJldHVybiB0aW1lMjtcbi8vIH1cbi8vXG4vLyBmdW5jdGlvbiBjaGVja1RpbWUoKSB7XG4vLyAgIHZhciB0aW1lRGlmZiA9ICh0aW1lMiAtIHRpbWUxKS8xMDAwO1xuLy8gICByZXR1cm4gdGltZURpZmY7XG4vLyAgIHF1aWNrVGltZSA9IHRpbWVEaWZmIDwgcXVpY2tUaW1lID8gdGltZURpZmYgOiBxdWlja1RpbWU7XG4vLyB9XG4iXX0=
