"use strict";$(function(){function a(){O?M.pause():M.play(),M.onplaying=function(){O=!0},M.onpause=function(){O=!1}}function e(){b(),t(),h(),r()}function c(a){if($(a.target).hasClass("easyButton")){alert("Easy Mode Selected"),E++,x.text(E),H=1;for(var c=0;c<5;c++)m.append('<div class="square"></div>');e()}else if($(a.target).hasClass("hardButton")){alert("Hard Mode Selected"),E++,x.text(E),H=5;for(var b=0;b<9;b++)m.append('<div class="square"></div>');e()}}function b(){k.hide(),q.hide(),w.show(),I.show()}function d(){return G[Math.floor(Math.random()*G.length)]}function n(){var a=N[H-1];return J=a.map(function(a){return U[a]})}function t(){Y=[],console.log("In play round",H),U=d(),n(),console.log("roundArray",J),J.shuffle(),console.log("shuffledArray",Y),$(".square").each(function(a,e){$(e).css("backgroundColor",Y[a])})}function o(a){var e=a.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):a}function f(){var a=[];$(".square").each(function(e,c){var b=$(c).css("backgroundColor");a.push(b)}),console.log("userRgb",a);var e=a.map(o);console.log("userSortedArray",e),console.log("roundArray",J),e.length===J.length&&e.every(function(a,e){return a===J[e]})?(console.log("It's a match, well done"),A.play(),console.log("roundCounter before alerts",E),E>4?(alert("Game complete"),i()):(alert("Round complete, press Next Round to continue."),C.show())):console.log("Not quite, have another go")}function r(a){var e=$(a.target).index(".square"),c=$(".square").length;0!==e&&e!==c-1&&(0===F?(j=$(this),z=j.css("backgroundColor")):1===F&&(j.css("backgroundColor",$(this).css("backgroundColor")),$(this).css("backgroundColor",z),F=-1,f()),F+=1)}function u(){E++,H++,m.append('<div class="square"></div>'),C.hide()}function l(){u(),x.text(E),t()}function s(){E=0,H=null,w.hide(),C.hide(),$(".square").remove(),I.hide(),k.show(),q.show();var a=[];console.log(a)}function i(){g(),p(),alert("Game Complete! You finished with a time of "+T),v(),s()}function h(){D=new Date}function g(){R=new Date}function p(){T=(R-D)/1e3}function v(){return T<K?alert("Congratulations, you've set the new quickest time!"):alert("Unfortunately, you weren't quite fast enought to set a new quick time."),K=T<K?T:K,localStorage.setItem("quickestTime",K),K}console.log("Igor, JavaScript' alive!");var m=$(".gameBoard"),y=$(".difficulty"),k=$(".easyButton"),q=$(".hardButton"),w=$(".resetButton"),C=$(".nextButton"),S=$(".quickTime"),I=$(".roundDisplay"),x=$(".round"),B=$(".soundOnOff"),A=$("audio")[0],M=$("audio")[1],D=null,R=null,T=null,G=[["#3db5f9","#48a8e8","#539ad7","#5e8dc6","#697fb5","#7472a4","#7e6493","#895782","#944a71","#9f3c60","#aa2f4f","#b5213e","#c0142d"],["#44f267","#4bdf68","#51cd69","#58ba6a","#5ea76b","#65956c","#6b826d","#726f6e","#795d6f","#7f4a70","#863771","#8c2572","#931273"],["#553e13","#5a3c1c","#5f3a25","#65382f","#6a3638","#6f3441","#74324b","#7a3054","#7f2e5d","#842c66","#8a2a6f","#8f2879","#942682"],["#148ea9","#278faa","#3a90ab","#4d90ab","#6091ac","#7392ad","#8692ae","#9993ae","#ac94af","#bf95b0","#d295b1","#e596b1","#f897b2"],["#493582","#524586","#5b568b","#63668f","#6c7693","#758798","#7e979c","#86a7a0","#8fb8a5","#98c8a9","#a1d8ad","#a9e9b2","#b2f9b6"],["#6746f2","#7241e3","#7d3bd4","#8735c5","#9230b6","#9d2ba7","#a72597","#b21f88","#bd1a79","#c8156a","#d30f5b","#dd094c","#e8043d"],["#23184c","#321e4c","#40244d","#4f2a4d","#5e2f4d","#6c354d","#7b3b4e","#8a414e","#98474e","#a74d4e","#b6524e","#c4584f","#d35e4f"],["#78a0d8","#7ca1cd","#80a2c2","#84a4b7","#89a5ad","#8da6a2","#91a797","#95a98c","#99aa81","#9cab77","#a2ad6c","#a6ae61","#aaaf56"],["#1fe876","#29e268","#34dc60","#3ed658","#49d051","#53ca49","#5ec441","#68bd39","#72b731","#7db12a","#87ab22","#92a51a","#9c9f12"],["#3f4887","#4c4885","#5a4884","#674982","#754981","#82497f","#904a7e","#9d4a7c","#aa4a7a","#b84a79","#c54b77","#d34b76","#e04b74"],["#1a57e8","#255dd6","#3062c4","#3b68b3","#456da1","#50738f","#5b787d","#667e6b","#718459","#7b8948","#868f36","#919424","#929a12"],["#05a83e","#18ad4e","#2bb35e","#3fb86e","#52bd7e","#65c28e","#78c79e","#8ccdaf","#9fd2bf","#b2d7cf","#c5dddf","#d9e2ef","#ece7ff"],["#2fded8","#3ae0ca","#45e2bb","#50e4ad","#5be69f","#66e890","#71ea82","#7beb74","#86ed65","#91ef57","#9cf149","#a7f33a","#b2f52c"],["#462e75","#523d73","#5d4d70","#695c6e","#746b6c","#807b69","#8b8a67","#979965","#a3a962","#aeb860","#bac75e","#c5d75b","#d1e659"],["#5ddac3","#69d3a7","#76cc9a","#82c48e","#8fbd81","#9bb674","#a7af68","#b4a85b","#c0a14f","#cd9a42","#d99236","#c68b2a","#f2841d"],["#052e3d","#123c4c","#20495c","#2d576b","#3b647a","#48728a","#558099","#638da8","#709bb8","#7ea8c7","#8bb6d6","#99c3e6","#a6d1f5"],["#2c08ba","#380baf","#440ea3","#501298","#5c158d","#661881","#741b76","#801e6b","#8c215f","#982554","#a42849","#b02b3d","#bc2e32"],["#06bf79","#12b37d","#1fa880","#2b9c84","#389187","#44858b","#517a8e","#5d6e91","#696295","#765798","#824b9c","#8f40a0","#9b34a3"],["#3d770e","#4a8214","#578e1b","#649921","#72a427","#7fb02d","#8cbb34","#99c63a","#a6d240","#b4dd46","#c1e84d","#cef435","#dbff59"],["#5ca10e","#679b16","#72941d","#7d8e25","#88872c","#938134","#9e7a3b","#a87443","#b36d4b","#be6752","#c9605a","#d45a61","#df5369"],["#7bc9e5","#82c5d5","#8ac2c6","#91beb7","#98bba7","#9fb797","#a7b488","#aeb078","#b5ac69","#bca95a","#c4a54a","#cba32b","#d29e2b"],["#71d72f","#7bc82e","#85b92c","#8faa2b","#999b2a","#a38c28","#ad7d27","#b66d26","#c05e24","#ca4f23","#d44022","#de3120","#e8221f"],["#d5870b","#c58514","#b5821d","#a58026","#957e2f","#857b38","#747941","#647749","#547452","#44725b","#347064","#246d6d","#146b76"],["#f23f8e","#e4408d","#d6418b","#c8438a","#ba4489","#ac4588","#9e4787","#8f4885","#814984","#734a83","#654b81","#574d80","#494e7f"],["#dab2f6","#cfaae2","#c4a2ce","#b99bb9","#ae93a5","#a38b91","#98837d","#8e7b68","#837354","#786b40","#6d642b","#625c17","#575403"],["#da87ce","#d28dc0","#ca93b2","#c299a4","#ba9f96","#b29588","#abab7a","#93b26b","#9bb85d","#93be4f","#8bc441","#83ca33","#7bd025"],["#f89951","#ed915b","#e28a66","#d78270","#cc7a7a","#c17285","#b66b8f","#ab6399","#a05ba4","#9553ae","#8a4bb8","#7f44c3","#743ccd"],["#f5d2bf","#e6c3c1","#d7b3c4","#c8a4c7","#ba94c9","#ab84cb","#9c75ce","#8d65d1","#7e56d3","#6f47d5","#6137d8","#5228da","#4318dd"],["#8abc18","#81b32a","#79ab3b","#70a24b","#67995f","#5f9171","#568882","#4d7f94","#4577a6","#3c6eb8","#3365ca","#2b5ddb","#2254ed"],["#b6c506","#abb915","#a1ae24","#96a233","#8b9642","#818a51","#767e61","#6b7370","#61677f","#565b8e","#4b4f9d","#4144ac","#3638bb"]],N=[[0,3,6,9,12],[0,3,5,7,9,12],[0,1,3,6,9,11,12],[0,1,3,5,7,9,11,12],[0,1,3,4,6,8,9,11,12],[0,1,2,4,5,7,8,10,11,12],[0,1,2,3,5,6,7,9,10,11,12],[0,1,2,3,4,5,7,8,9,10,11,12],[0,1,2,3,4,5,6,7,8,9,10,11,12]],O=!1,E=0,H=null,J=null,U=null,Y=[],j=void 0,z=null,F=0,K=localStorage.getItem("quickestTime")||45;S.text(K),B.on("click",a),m.on("click",".square",r),C.on("click",l),w.on("click",s),y.on("click",c),Array.prototype.shuffle=function(){for(var a=1;a<this.length-1;a++)Y.push(this[a]);if(Y.sort(function(){return.5-Math.random()}),Y.push(this[this.length-1]),Y.unshift(this[0]),Y.length!==J.length||!Y.every(function(a,e){return a===J[e]}))return Y;Y=[],J.shuffle()}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiJGdhbWVCb2FyZCIsImlzUGxheWluZyIsInBsYXlHYW1lIiwiJGJhY2tncm91bmRTb3VuZCIsInBsYXkiLCJvbnBsYXlpbmciLCIkZWFzeUJ1dHRvbiIsImhpZGUiLCIkcmVzZXRCdXR0b24iLCJvbnBhdXNlIiwiJHdoaWNoUm91bmQiLCJzaG93IiwiY29sb3JQYWxldHRlIiwiZ2FtZVN0YXJ0IiwicGxheVJvdW5kIiwic3RhcnRUaW1lIiwiY2hhbmdlQ29sb3IiLCJjaG9vc2VSb3VuZCIsImUiLCJ0YXJnZXQiLCJoYXNDbGFzcyIsImFsZXJ0Iiwicm91bmRDb3VudGVyIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzaHVmZmxlIiwicm91bmROdW1iZXIiLCJpIiwic2h1ZmZsZWRBcnJheSIsInB1c2giLCJhcHBlbmQiLCJsZW5ndGgiLCIkcm91bmQiLCJyb3VuZEFycmF5IiwiY29uc29sZSIsIk1hdGgiLCJmbG9vciIsInNlcXVlbmNlTWF0Y2hlciIsInNlcXVlbmNlQXJyYXkiLCJlbGVtZW50U2VsZWN0b3IiLCJtYXAiLCJpdGVtIiwicmFuZG9tQ29sb3JzQXJyIiwiZW5kR2FtZSIsIiRuZXh0QnV0dG9uIiwibG9nIiwiZWFjaCIsImlkeCIsImVsIiwiY3NzIiwiaW5kZXgiLCJyZXBsYWNlIiwibWF0Y2giLCJyZ2IiLCJjb3VudCIsInRvU3RyaW5nIiwic2xpY2UiLCJwcmV2IiwicHJldmNvbG9yIiwidXNlclJnYiIsImNoZWNrQ29tcGxldGUiLCJlbGVtZW50IiwiYmFja2dyb3VuZENvbG91ciIsInVzZXJTb3J0ZWRBcnJheSIsInJnYlRvSGV4IiwiZXZlcnkiLCJ2IiwiJHBpbmdTb3VuZCIsInN0YXJ0Um91bmQiLCJuZXh0Um91bmQiLCJ0ZXh0IiwiJGhhcmRCdXR0b24iLCJ0aGlzIiwiZW5kVGltZSIsInRpbWVEaWZmIiwicmVzZXRHYW1lIiwidGltZTEiLCJ1c2VyVGltZSIsInRpbWUyIiwicXVpY2tlc3RUaW1lIiwicmVtb3ZlIiwibG9jYWxTdG9yYWdlIiwidXBkYXRlVGltZSIsIkRhdGUiLCJzZXRJdGVtIiwiJGRpZmZpY3VsdHkiLCIkcXVpY2tUaW1lIiwiJHNvdW5kIiwiZ2V0SXRlbSIsInRvZ2dsZVBsYXlQYXVzZSIsIm9uIiwicGF1c2UiLCJ1bnNoaWZ0Il0sIm1hcHBpbmdzIjoiWUFDQUEsR0FBRSxXQXlJTUMsUUFBQUEsS0FDREMsRUFDREMsRUFBQUEsUUFFSEMsRUFBQUMsT0FHREQsRUFBQUUsVUFBc0IsV0FDcEJDLEdBQVlDLEdBRVpDLEVBQUFDLFFBQUEsV0FDQUMsR0FBWUMsR0FLWixRQUFPQyxLQUNSQyxJQUNEQyxJQXhDRUMsSUEwQ0ZDLElBSUcsUUFGREMsR0FBQUMsR0FHRCxHQUFBbkIsRUFBQW1CLEVBQUFDLFFBQUFDLFNBQUEsY0FBQSxDQUNEQyxNQUFBLHNCQXhDSUMsSUEwQ0pDLEVBQU1DLEtBQVVDLEdBQ2RDLEVBQWFDLENBQ1hDLEtBQUFBLEdBQUFBLEdBQUFBLEVBQWNDLEVBQUssRUFBQUYsSUFDcEIzQixFQUFBOEIsT0FBQSw2QkFFQzVCLFNBRUYwQixJQUFBQSxFQUFBQSxFQUFjQyxRQUFLVCxTQUFVVyxjQUE3QixDQUNBSCxNQUFBQSxzQkF4Q0VOLElBMENGVSxFQUFJSixLQUFBQSxHQUFrRUYsRUFBY08sQ0FBcEYsS0FBb0csR0FBQU4sR0FBQSxFQUFBQSxFQUFBLEVBQUFBLElBQ2xHQyxFQUFBQSxPQUFBLDZCQURGMUIsTUEvQkYsUUFBU1csS0F3Q1RQLEVBQVNRLE9BQ1BjLEVBQUFBLE9BQ0FGLEVBQUFBLE9BQ0FRLEVBQVl2QixPQUlac0IsUUFBQUEsS0FDQUMsTUFBQUEsR0FBWUMsS0FBQUMsTUFBaUJSLEtBQUFBLFNBQTdCaEIsRUFBQW1CLFNBSUMsUUFGRE0sS0FHRCxHQUFBQyxHQUFBQyxFQUFBYixFQUFBLEVBQ0QsT0FBQU8sR0FBQUssRUFBQUUsSUFBQSxTQUFBQyxHQXRDSSxNQUFPQyxHQUFnQkQsS0F3QjNCLFFBQVMzQixLQXlDTG9CLEtBRUViLFFBQUFBLElB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QUEsS0FJM0JKLEdBQVksRUFEZHFCLEVBQUEsRUFHREksRUFBQSxLQUNETyxFQUFBLEtBdkNJUyxFQUFrQixLQXlDdEJkLEtBQ0VmLE1BQUFBLEdBQUFBLEVBQUFBLEtBQ0FDLEVBQUFBLEVBQ0FDLEVBQUFBLGFBQUFBLFFBQUFBLGlCQUFBQSxFQUVEdUUsR0FBQWhCLEtBQUFTLEdBR0RRLEVBQUFHLEdBQVN6RSxRQUFBQSxHQUdMSyxFQUFBQSxHQUFBQSxRQUFBQSxVQUFBQSxHQUdBc0IsRUFBSzhDLEdBQUkvRCxRQUFXeUMsR0FHcEJsRSxFQUFBQSxHQUFBQSxRQUFBQSxHQUlBb0IsRUFBQUEsR0FBQUEsUUFBQUEsR0EwRUpDLE1BQUFDLFVBQUFDLFFBQUEsV0F6Q0UsSUFBSSxHQUFJRSxHQUFFLEVBQUdBLEVBQUU2QyxLQUFLekMsT0FBTyxFQUFHSixJQTJDaENDLEVBQVNnQyxLQUFUWSxLQUEwQjdDLEdBUXhCLElBTkE1QixFQUFhK0MsS0FBSyxXQUNoQixNQUFNZ0IsR0FBQUEsS0FBQUEsV0FFUGxDLEVBSERDLEtBQUEyQyxLQUFBQSxLQUFBekMsT0FBQSxJQUlBRyxFQUFZMEQsUUFBWnBCLEtBQXVCYixJQUVqQkksRUFBQUEsU0FBa0JKLEVBQVlLLFNBQXBDcEMsRUFBQXFDLE1BQUEsU0FBQUMsRUFBQXZDLEdBQUEsTUFBQXVDLEtBQUFqQyxFQUFBTixLQUlBLE1BQUlvQyxFQUhKN0IsTUFDQUEsRUFBWVQiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4kKCgpID0+IHtcblxuICBjb25zb2xlLmxvZygnSWdvciwgSmF2YVNjcmlwdFxcJyBhbGl2ZSEnKTtcblxuICBjb25zdCAkZ2FtZUJvYXJkID0gJCgnLmdhbWVCb2FyZCcpO1xuICBjb25zdCAkZGlmZmljdWx0eSA9ICQoJy5kaWZmaWN1bHR5Jyk7XG4gIGNvbnN0ICRlYXN5QnV0dG9uID0gJCgnLmVhc3lCdXR0b24nKTtcbiAgY29uc3QgJGhhcmRCdXR0b24gPSAkKCcuaGFyZEJ1dHRvbicpO1xuICBjb25zdCAkcmVzZXRCdXR0b24gPSAkKCcucmVzZXRCdXR0b24nKTtcbiAgY29uc3QgJG5leHRCdXR0b24gPSAkKCcubmV4dEJ1dHRvbicpO1xuICBjb25zdCAkcXVpY2tUaW1lID0gJCgnLnF1aWNrVGltZScpO1xuICBjb25zdCAkd2hpY2hSb3VuZCA9ICQoJy5yb3VuZERpc3BsYXknKTtcbiAgY29uc3QgJHJvdW5kID0gJCgnLnJvdW5kJyk7XG4gIGNvbnN0ICRzb3VuZCA9ICQoJy5zb3VuZE9uT2ZmJyk7XG4gIGNvbnN0ICRwaW5nU291bmQgPSAkKCdhdWRpbycpWzBdO1xuICBjb25zdCAkYmFja2dyb3VuZFNvdW5kID0gJCgnYXVkaW8nKVsxXTtcbiAgbGV0IHRpbWUxID0gbnVsbDtcbiAgbGV0IHRpbWUyID0gbnVsbDtcbiAgbGV0IHVzZXJUaW1lID0gbnVsbDtcblxuICBjb25zdCBjb2xvclBhbGV0dGUgPSBbXG4gICAgWycjM2RiNWY5JywgJyM0OGE4ZTgnLCAnIzUzOWFkNycsICcjNWU4ZGM2JywgJyM2OTdmYjUnLCAnIzc0NzJhNCcsICcjN2U2NDkzJywgJyM4OTU3ODInLCAnIzk0NGE3MScsICcjOWYzYzYwJywgJyNhYTJmNGYnLCAnI2I1MjEzZScsICcjYzAxNDJkJ10sXG4gICAgWycjNDRmMjY3JywgJyM0YmRmNjgnLCAnIzUxY2Q2OScsICcjNThiYTZhJywgJyM1ZWE3NmInLCAnIzY1OTU2YycsICcjNmI4MjZkJywgJyM3MjZmNmUnLCAnIzc5NWQ2ZicsICcjN2Y0YTcwJywgJyM4NjM3NzEnLCAnIzhjMjU3MicsICcjOTMxMjczJ10sXG4gICAgWycjNTUzZTEzJywgJyM1YTNjMWMnLCAnIzVmM2EyNScsICcjNjUzODJmJywgJyM2YTM2MzgnLCAnIzZmMzQ0MScsICcjNzQzMjRiJywgJyM3YTMwNTQnLCAnIzdmMmU1ZCcsICcjODQyYzY2JywgJyM4YTJhNmYnLCAnIzhmMjg3OScsICcjOTQyNjgyJ10sXG4gICAgWycjMTQ4ZWE5JywgJyMyNzhmYWEnLCAnIzNhOTBhYicsICcjNGQ5MGFiJywgJyM2MDkxYWMnLCAnIzczOTJhZCcsICcjODY5MmFlJywgJyM5OTkzYWUnLCAnI2FjOTRhZicsICcjYmY5NWIwJywgJyNkMjk1YjEnLCAnI2U1OTZiMScsICcjZjg5N2IyJ10sXG4gICAgWycjNDkzNTgyJywgJyM1MjQ1ODYnLCAnIzViNTY4YicsICcjNjM2NjhmJywgJyM2Yzc2OTMnLCAnIzc1ODc5OCcsICcjN2U5NzljJywgJyM4NmE3YTAnLCAnIzhmYjhhNScsICcjOThjOGE5JywgJyNhMWQ4YWQnLCAnI2E5ZTliMicsICcjYjJmOWI2J10sXG4gICAgWycjNjc0NmYyJywgJyM3MjQxZTMnLCAnIzdkM2JkNCcsICcjODczNWM1JywgJyM5MjMwYjYnLCAnIzlkMmJhNycsICcjYTcyNTk3JywgJyNiMjFmODgnLCAnI2JkMWE3OScsICcjYzgxNTZhJywgJyNkMzBmNWInLCAnI2RkMDk0YycsICcjZTgwNDNkJ10sXG4gICAgWycjMjMxODRjJywgJyMzMjFlNGMnLCAnIzQwMjQ0ZCcsICcjNGYyYTRkJywgJyM1ZTJmNGQnLCAnIzZjMzU0ZCcsICcjN2IzYjRlJywgJyM4YTQxNGUnLCAnIzk4NDc0ZScsICcjYTc0ZDRlJywgJyNiNjUyNGUnLCAnI2M0NTg0ZicsICcjZDM1ZTRmJ10sXG4gICAgWycjNzhhMGQ4JywgJyM3Y2ExY2QnLCAnIzgwYTJjMicsICcjODRhNGI3JywgJyM4OWE1YWQnLCAnIzhkYTZhMicsICcjOTFhNzk3JywgJyM5NWE5OGMnLCAnIzk5YWE4MScsICcjOWNhYjc3JywgJyNhMmFkNmMnLCAnI2E2YWU2MScsICcjYWFhZjU2J10sXG4gICAgWycjMWZlODc2JywgJyMyOWUyNjgnLCAnIzM0ZGM2MCcsICcjM2VkNjU4JywgJyM0OWQwNTEnLCAnIzUzY2E0OScsICcjNWVjNDQxJywgJyM2OGJkMzknLCAnIzcyYjczMScsICcjN2RiMTJhJywgJyM4N2FiMjInLCAnIzkyYTUxYScsICcjOWM5ZjEyJ10sXG4gICAgWycjM2Y0ODg3JywgJyM0YzQ4ODUnLCAnIzVhNDg4NCcsICcjNjc0OTgyJywgJyM3NTQ5ODEnLCAnIzgyNDk3ZicsICcjOTA0YTdlJywgJyM5ZDRhN2MnLCAnI2FhNGE3YScsICcjYjg0YTc5JywgJyNjNTRiNzcnLCAnI2QzNGI3NicsICcjZTA0Yjc0J10sXG4gICAgWycjMWE1N2U4JywgJyMyNTVkZDYnLCAnIzMwNjJjNCcsICcjM2I2OGIzJywgJyM0NTZkYTEnLCAnIzUwNzM4ZicsICcjNWI3ODdkJywgJyM2NjdlNmInLCAnIzcxODQ1OScsICcjN2I4OTQ4JywgJyM4NjhmMzYnLCAnIzkxOTQyNCcsICcjOTI5YTEyJ10sXG4gICAgWycjMDVhODNlJywgJyMxOGFkNGUnLCAnIzJiYjM1ZScsICcjM2ZiODZlJywgJyM1MmJkN2UnLCAnIzY1YzI4ZScsICcjNzhjNzllJywgJyM4Y2NkYWYnLCAnIzlmZDJiZicsICcjYjJkN2NmJywgJyNjNWRkZGYnLCAnI2Q5ZTJlZicsICcjZWNlN2ZmJ10sXG4gICAgWycjMmZkZWQ4JywgJyMzYWUwY2EnLCAnIzQ1ZTJiYicsICcjNTBlNGFkJywgJyM1YmU2OWYnLCAnIzY2ZTg5MCcsICcjNzFlYTgyJywgJyM3YmViNzQnLCAnIzg2ZWQ2NScsICcjOTFlZjU3JywgJyM5Y2YxNDknLCAnI2E3ZjMzYScsICcjYjJmNTJjJ10sXG4gICAgWycjNDYyZTc1JywgJyM1MjNkNzMnLCAnIzVkNGQ3MCcsICcjNjk1YzZlJywgJyM3NDZiNmMnLCAnIzgwN2I2OScsICcjOGI4YTY3JywgJyM5Nzk5NjUnLCAnI2EzYTk2MicsICcjYWViODYwJywgJyNiYWM3NWUnLCAnI2M1ZDc1YicsICcjZDFlNjU5J10sXG4gICAgWycjNWRkYWMzJywgJyM2OWQzYTcnLCAnIzc2Y2M5YScsICcjODJjNDhlJywgJyM4ZmJkODEnLCAnIzliYjY3NCcsICcjYTdhZjY4JywgJyNiNGE4NWInLCAnI2MwYTE0ZicsICcjY2Q5YTQyJywgJyNkOTkyMzYnLCAnI2M2OGIyYScsICcjZjI4NDFkJ10sXG4gICAgWycjMDUyZTNkJywgJyMxMjNjNGMnLCAnIzIwNDk1YycsICcjMmQ1NzZiJywgJyMzYjY0N2EnLCAnIzQ4NzI4YScsICcjNTU4MDk5JywgJyM2MzhkYTgnLCAnIzcwOWJiOCcsICcjN2VhOGM3JywgJyM4YmI2ZDYnLCAnIzk5YzNlNicsICcjYTZkMWY1J10sXG4gICAgWycjMmMwOGJhJywgJyMzODBiYWYnLCAnIzQ0MGVhMycsICcjNTAxMjk4JywgJyM1YzE1OGQnLCAnIzY2MTg4MScsICcjNzQxYjc2JywgJyM4MDFlNmInLCAnIzhjMjE1ZicsICcjOTgyNTU0JywgJyNhNDI4NDknLCAnI2IwMmIzZCcsICcjYmMyZTMyJ10sXG4gICAgWycjMDZiZjc5JywgJyMxMmIzN2QnLCAnIzFmYTg4MCcsICcjMmI5Yzg0JywgJyMzODkxODcnLCAnIzQ0ODU4YicsICcjNTE3YThlJywgJyM1ZDZlOTEnLCAnIzY5NjI5NScsICcjNzY1Nzk4JywgJyM4MjRiOWMnLCAnIzhmNDBhMCcsICcjOWIzNGEzJ10sXG4gICAgWycjM2Q3NzBlJywgJyM0YTgyMTQnLCAnIzU3OGUxYicsICcjNjQ5OTIxJywgJyM3MmE0MjcnLCAnIzdmYjAyZCcsICcjOGNiYjM0JywgJyM5OWM2M2EnLCAnI2E2ZDI0MCcsICcjYjRkZDQ2JywgJyNjMWU4NGQnLCAnI2NlZjQzNScsICcjZGJmZjU5J10sXG4gICAgWycjNWNhMTBlJywgJyM2NzliMTYnLCAnIzcyOTQxZCcsICcjN2Q4ZTI1JywgJyM4ODg3MmMnLCAnIzkzODEzNCcsICcjOWU3YTNiJywgJyNhODc0NDMnLCAnI2IzNmQ0YicsICcjYmU2NzUyJywgJyNjOTYwNWEnLCAnI2Q0NWE2MScsICcjZGY1MzY5J10sXG4gICAgWycjN2JjOWU1JywgJyM4MmM1ZDUnLCAnIzhhYzJjNicsICcjOTFiZWI3JywgJyM5OGJiYTcnLCAnIzlmYjc5NycsICcjYTdiNDg4JywgJyNhZWIwNzgnLCAnI2I1YWM2OScsICcjYmNhOTVhJywgJyNjNGE1NGEnLCAnI2NiYTMyYicsICcjZDI5ZTJiJ10sXG4gICAgWycjNzFkNzJmJywgJyM3YmM4MmUnLCAnIzg1YjkyYycsICcjOGZhYTJiJywgJyM5OTliMmEnLCAnI2EzOGMyOCcsICcjYWQ3ZDI3JywgJyNiNjZkMjYnLCAnI2MwNWUyNCcsICcjY2E0ZjIzJywgJyNkNDQwMjInLCAnI2RlMzEyMCcsICcjZTgyMjFmJ10sXG4gICAgWycjZDU4NzBiJywgJyNjNTg1MTQnLCAnI2I1ODIxZCcsICcjYTU4MDI2JywgJyM5NTdlMmYnLCAnIzg1N2IzOCcsICcjNzQ3OTQxJywgJyM2NDc3NDknLCAnIzU0NzQ1MicsICcjNDQ3MjViJywgJyMzNDcwNjQnLCAnIzI0NmQ2ZCcsICcjMTQ2Yjc2J10sXG4gICAgWycjZjIzZjhlJywgJyNlNDQwOGQnLCAnI2Q2NDE4YicsICcjYzg0MzhhJywgJyNiYTQ0ODknLCAnI2FjNDU4OCcsICcjOWU0Nzg3JywgJyM4ZjQ4ODUnLCAnIzgxNDk4NCcsICcjNzM0YTgzJywgJyM2NTRiODEnLCAnIzU3NGQ4MCcsICcjNDk0ZTdmJ10sXG4gICAgWycjZGFiMmY2JywgJyNjZmFhZTInLCAnI2M0YTJjZScsICcjYjk5YmI5JywgJyNhZTkzYTUnLCAnI2EzOGI5MScsICcjOTg4MzdkJywgJyM4ZTdiNjgnLCAnIzgzNzM1NCcsICcjNzg2YjQwJywgJyM2ZDY0MmInLCAnIzYyNWMxNycsICcjNTc1NDAzJ10sXG4gICAgWycjZGE4N2NlJywgJyNkMjhkYzAnLCAnI2NhOTNiMicsICcjYzI5OWE0JywgJyNiYTlmOTYnLCAnI2IyOTU4OCcsICcjYWJhYjdhJywgJyM5M2IyNmInLCAnIzliYjg1ZCcsICcjOTNiZTRmJywgJyM4YmM0NDEnLCAnIzgzY2EzMycsICcjN2JkMDI1J10sXG4gICAgWycjZjg5OTUxJywgJyNlZDkxNWInLCAnI2UyOGE2NicsICcjZDc4MjcwJywgJyNjYzdhN2EnLCAnI2MxNzI4NScsICcjYjY2YjhmJywgJyNhYjYzOTknLCAnI2EwNWJhNCcsICcjOTU1M2FlJywgJyM4YTRiYjgnLCAnIzdmNDRjMycsICcjNzQzY2NkJ10sXG4gICAgWycjZjVkMmJmJywgJyNlNmMzYzEnLCAnI2Q3YjNjNCcsICcjYzhhNGM3JywgJyNiYTk0YzknLCAnI2FiODRjYicsICcjOWM3NWNlJywgJyM4ZDY1ZDEnLCAnIzdlNTZkMycsICcjNmY0N2Q1JywgJyM2MTM3ZDgnLCAnIzUyMjhkYScsICcjNDMxOGRkJ10sXG4gICAgWycjOGFiYzE4JywgJyM4MWIzMmEnLCAnIzc5YWIzYicsICcjNzBhMjRiJywgJyM2Nzk5NWYnLCAnIzVmOTE3MScsICcjNTY4ODgyJywgJyM0ZDdmOTQnLCAnIzQ1NzdhNicsICcjM2M2ZWI4JywgJyMzMzY1Y2EnLCAnIzJiNWRkYicsICcjMjI1NGVkJ10sXG4gICAgWycjYjZjNTA2JywgJyNhYmI5MTUnLCAnI2ExYWUyNCcsICcjOTZhMjMzJywgJyM4Yjk2NDInLCAnIzgxOGE1MScsICcjNzY3ZTYxJywgJyM2YjczNzAnLCAnIzYxNjc3ZicsICcjNTY1YjhlJywgJyM0YjRmOWQnLCAnIzQxNDRhYycsICcjMzYzOGJiJ11cbiAgXTtcbiAgLy8gQ29udGFpbnMgMzAgYXJyYXlzLCBlYWNoIHdpdGggMTMgaXRlbXMgaW4gZWFjaC4gVXNlZCBpbiBlYWNoIHJvdW5kIHRvIHBpY2sgYSByYW5kb20gYXJyYXkgdG8gcHJvZHVjZSB0aGUgcm91bmRBcnJheSBhbmQgc2h1ZmZsZWRBcnJheS5cblxuICBjb25zdCBlbGVtZW50U2VsZWN0b3IgPSBbXG4gICAgWzAsIDMsIDYsIDksIDEyXSxcbiAgICBbMCwgMywgNSwgNywgOSwgMTJdLFxuICAgIFswLCAxLCAzLCA2LCA5LCAxMSwgMTJdLFxuICAgIFswLCAxLCAzLCA1LCA3LCA5LCAxMSwgMTJdLFxuICAgIFswLCAxLCAzLCA0LCA2LCA4LCA5LCAxMSwgMTJdLFxuICAgIFswLCAxLCAyLCA0LCA1LCA3LCA4LCAxMCwgMTEsIDEyXSxcbiAgICBbMCwgMSwgMiwgMywgNSwgNiwgNywgOSwgMTAsIDExLCAxMl0sXG4gICAgWzAsIDEsIDIsIDMsIDQsIDUsIDcsIDgsIDksIDEwLCAxMSwgMTJdLFxuICAgIFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyXVxuICBdO1xuICAvLyBDb250YWlucyA5IGFycmF5cyB3aXRoIHZhcnlpbmcgaW5kaWNlcywgdXNlZCB0byBkZXRlcm1pbmUgaG93IG1hbnkgaW5kaWNlcyB0byBkZXBsb3kgZGVwZW5kaW5nIHVwb24gd2hpY2ggcm91bmQgYW5kIHdoYXQgZ2FtZSBtb2RlLlxuXG4gIGxldCBpc1BsYXlpbmcgPSBmYWxzZTtcbiAgbGV0IHJvdW5kQ291bnRlciA9IDA7XG4gIGxldCByb3VuZE51bWJlciA9IG51bGw7XG4gIGxldCByb3VuZEFycmF5ID0gbnVsbDtcbiAgbGV0IHJhbmRvbUNvbG9yc0FyciA9IG51bGw7XG4gIGxldCBzaHVmZmxlZEFycmF5ID0gW107XG4gIGxldCBwcmV2LCBwcmV2Y29sb3IgPSBudWxsO1xuICBsZXQgY291bnQgPSAwO1xuICBsZXQgcXVpY2tlc3RUaW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3F1aWNrZXN0VGltZScpIHx8IDQ1O1xuXG4gICRxdWlja1RpbWUudGV4dChxdWlja2VzdFRpbWUpO1xuXG5cbiAgJHNvdW5kLm9uKCdjbGljaycsIHRvZ2dsZVBsYXlQYXVzZSk7XG4gIC8vIEV2ZW50IExpc3RlbmVyIHVzZWQgdG8gcGxheSBhbmQgcGF1c2UgdGhlIGJhY2tncm91bmQgbXVzaWMgb2YgdGhlIGdhbWUuXG5cbiAgJGdhbWVCb2FyZC5vbignY2xpY2snLCAnLnNxdWFyZScsIGNoYW5nZUNvbG9yKTtcbiAgLy8gRXZlbnQgTGlzdGVuZXIgdXNlZCB3aXRoIHRoZSBjaGFuZ2VDb2xvciBmdW5jdGlvbiB0byBhbGxvdyBKUyB0byBsaXN0ZW4gZm9yIGNsaWNrcyBvbiB0aGUgc3F1YXJlcyBhbmQgY2hhbmdlIHRoZSBjb2xvdXJzIG9uY2UgdHdvIGNsaWNrcyBoYXZlIGJlZW4gcHJlc3NlZC5cblxuICAkbmV4dEJ1dHRvbi5vbignY2xpY2snLCBzdGFydFJvdW5kKTtcbiAgLy8gRXZlbnQgTGlzdGVuZXIgdXNlZCB0byBpbml0aWF0ZSB0aGUgbmV4dCByb3VuZCBvZiB0aGUgZ2FtZS4gRW1wdGllcyB0aGUgc2h1ZmZsZWRBcnJheSwgcnVucyB0aGUgZnVuY3Rpb24gbmV4dFJvdW5kLCBpbmNyZWFzZSB0aGUgcm91bmQgY291bnRlciBhbmQgcmVwb3B1bGF0ZXMgdGhlIG5leHQgcm91bmQgd2l0aCBhbiBhcnJheS5cblxuICAkcmVzZXRCdXR0b24ub24oJ2NsaWNrJywgcmVzZXRHYW1lKTtcbiAgLy8gRXZlbnQgTGlzdGVuZXIgdXNlZCB0byByZXNldCB0aGUgZ2FtZS4gQnJpbmdzIHRoZSBnYW1lIGJhY2sgdG8gdGhlIGluaXRpYWwgc3RhdGUgd2hlbiBsb2FkZWQuIERvZXMgdGhpcyBieSBydW5uaW5nIHRoZSByZXNldEdhbWUgZnVuY3Rpb24uXG5cbiAgJGRpZmZpY3VsdHkub24oJ2NsaWNrJywgY2hvb3NlUm91bmQpO1xuICAvLyBFdmVudCBMaXN0ZW5lciB1c2VkIHRvIHN0YXJ0IHRoZSBnYW1lLiBEZXBlbmRpbmcgb24gd2hpY2ggZ2FtZSBtb2RlIGlzIGNsaWNrZWQsIGl0IHJ1bnMgdGhlIHNjcmlwdCBmb3IgZWl0aGVyIGVhc3kgb3IgaGFyZC5cblxuXG4gIGZ1bmN0aW9uIHRvZ2dsZVBsYXlQYXVzZSAoKSB7XG4gICAgaWYgKGlzUGxheWluZykge1xuICAgICAgJGJhY2tncm91bmRTb3VuZC5wYXVzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkYmFja2dyb3VuZFNvdW5kLnBsYXkoKTtcbiAgICB9XG5cbiAgICAkYmFja2dyb3VuZFNvdW5kLm9ucGxheWluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICB9O1xuICAgICRiYWNrZ3JvdW5kU291bmQub25wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgfTtcbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gdG9nZ2xlIHRoZSBiYWNrZ3JvdW5kIG11c2ljIG9mIHRoZSBnYW1lIGFuZCBpcyBpbnZva2VkIGJ5IHRoZSBFdmVudCBMaXN0ZW5lci5cblxuICBmdW5jdGlvbiBwbGF5R2FtZSAoKSB7XG4gICAgZ2FtZVN0YXJ0KCk7XG4gICAgcGxheVJvdW5kKCk7XG4gICAgc3RhcnRUaW1lKCk7XG4gICAgY2hhbmdlQ29sb3IoKTtcbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGNvbWJpbmVzIHRoZSBnYW1lU3RhcnQsIHBsYXlSb3VuZCwgc3RhcnRUaW1lIGFuZCBjaGFuZ2VDb2xvciBmdW5jdGlvbnMuXG5cbiAgZnVuY3Rpb24gY2hvb3NlUm91bmQgKGUpIHtcbiAgICBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ2Vhc3lCdXR0b24nKSkge1xuICAgICAgYWxlcnQoJ0Vhc3kgTW9kZSBTZWxlY3RlZCcpO1xuICAgICAgcm91bmRDb3VudGVyKys7XG4gICAgICAkcm91bmQudGV4dChyb3VuZENvdW50ZXIpO1xuICAgICAgcm91bmROdW1iZXIgPSAxO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgJGdhbWVCb2FyZC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzcXVhcmVcIj48L2Rpdj4nKTtcbiAgICAgIH1cbiAgICAgIHBsYXlHYW1lKCk7XG5cbiAgICB9IGVsc2UgaWYgKCQoZS50YXJnZXQpLmhhc0NsYXNzKCdoYXJkQnV0dG9uJykpIHtcbiAgICAgIGFsZXJ0KCdIYXJkIE1vZGUgU2VsZWN0ZWQnKTtcbiAgICAgIHJvdW5kQ291bnRlcisrO1xuICAgICAgJHJvdW5kLnRleHQocm91bmRDb3VudGVyKTtcbiAgICAgIHJvdW5kTnVtYmVyID0gNTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICAgICRnYW1lQm9hcmQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwic3F1YXJlXCI+PC9kaXY+Jyk7XG4gICAgICB9XG4gICAgICBwbGF5R2FtZSgpO1xuICAgIH1cbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgd2hlbiB0aGUgdXNlciBpcyBkZXRlcm1pbmluZyB3aGljaCBnYW1lIG1vZGUgdGhleSB3YW50IHRvIHBsYXkuXG5cbiAgZnVuY3Rpb24gZ2FtZVN0YXJ0ICgpIHtcbiAgICAkZWFzeUJ1dHRvbi5oaWRlKCk7XG4gICAgJGhhcmRCdXR0b24uaGlkZSgpO1xuICAgICRyZXNldEJ1dHRvbi5zaG93KCk7XG4gICAgJHdoaWNoUm91bmQuc2hvdygpO1xuICB9XG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBzdGFydCB0aGUgZ2FtZS4gSXQgaGlkZXMgdGhlIGRpZmZpY3VsdHkgYnV0dG9ucyBhbmQgc2hvd3MgdGhlIGdhbWUgc3F1YXJlcyBhbmQgcmVzZXQgYnV0dG9uLlxuXG4gIGZ1bmN0aW9uIGNvbG9ycygpIHtcbiAgICByZXR1cm4gY29sb3JQYWxldHRlW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpjb2xvclBhbGV0dGUubGVuZ3RoKV07XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiByYW5kb21hbHkgY2hvb3NlcyBvbmUgb2YgdGhlIDMwIGNvbG9yIHBhbGV0dGVzIGZvciB1c2UgaW4gZWFjaCByb3VuZC5cblxuICBmdW5jdGlvbiBzZXF1ZW5jZU1hdGNoZXIoKSB7XG4gICAgY29uc3Qgc2VxdWVuY2VBcnJheSA9IGVsZW1lbnRTZWxlY3Rvcltyb3VuZE51bWJlci0xXTtcbiAgICByZXR1cm4gcm91bmRBcnJheSA9IHNlcXVlbmNlQXJyYXkubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiByYW5kb21Db2xvcnNBcnJbaXRlbV07XG4gICAgfSk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiB1c2VzIHRoZSByb3VuZE51bWJlciwgbWludXMgb25lLCB0byBmaW5kIHRoZSBhcnJheSBpbiB0aGUgZWxlbWVudFNlbGVjdG9yIGFuZCBtYXBzIGp1c3QgdGhlIGluZGljZXMgZnJvbSB0aGF0IGFycmF5IG9udG8gdGhlIHJhbmRvbSBhcnJheSBjaG9zZW4gZnJvbSB0aGUgY29sb3JzIGZ1bmN0aW9uIGFuZCBjYWxscyBpdCByb3VuZEFycmF5IGFzIGl0IHdpbGwgYmUgdGhlIGFycmF5IHRoYXQgdGhlIHVzZXIgbmVlZHMgdG8gbWF0Y2guXG5cbiAgQXJyYXkucHJvdG90eXBlLnNodWZmbGUgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IobGV0IGk9MTsgaTx0aGlzLmxlbmd0aC0xOyBpKyspIHtcbiAgICAgIHNodWZmbGVkQXJyYXkucHVzaCh0aGlzW2ldKTtcbiAgICB9XG4gICAgc2h1ZmZsZWRBcnJheS5zb3J0KGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIDAuNSAtIE1hdGgucmFuZG9tKCk7XG4gICAgfSk7XG4gICAgc2h1ZmZsZWRBcnJheS5wdXNoKHRoaXNbdGhpcy5sZW5ndGgtMV0pO1xuICAgIHNodWZmbGVkQXJyYXkudW5zaGlmdCh0aGlzWzBdKTtcblxuICAgIGlmIChzaHVmZmxlZEFycmF5Lmxlbmd0aCA9PT0gcm91bmRBcnJheS5sZW5ndGggJiYgc2h1ZmZsZWRBcnJheS5ldmVyeSgodixpKT0+IHYgPT09IHJvdW5kQXJyYXlbaV0pKSB7XG4gICAgICBzaHVmZmxlZEFycmF5ID0gW107XG4gICAgICByb3VuZEFycmF5LnNodWZmbGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNodWZmbGVkQXJyYXk7XG4gICAgfVxuICB9O1xuICAvLyBUaGlzIHRha2VzIHRoZSByb3VuZEFycmF5LCByZW1vdmVzIHRoZSBmaXJzdCBhbmQgbGFzdCBpbmRpY2VzLCBhbmQgdGhlbiBzaHVmZmxlcyB0aGUgbWlkZGxlIGluZGljZXMsIGJlZm9yZSByZWF0dGFjaGluZyB0aGUgZmlyc3QgYW5kIGxhc3QgaW5kaWNlcy4gSXQgYWxzbyBoYXZlIGEgZG91YmxlIHNodWZmbGUgZnVuY3Rpb24gaW4gY2FzZSB0aGUgZmlyc3QgZnVuY3Rpb24gcmV0dXJucyB0aGUgc2FtZSBhcnJheSBhcyB0aGUgcm91bmRBcnJheS4gU3RvcmVzIHRoZSBhcnJheSBpbnRvIGEgdmFyaWFibGUgY2FsbGVkIHNodWZmbGVkQXJyYXkuXG5cbiAgZnVuY3Rpb24gcGxheVJvdW5kKCkge1xuICAgIHNodWZmbGVkQXJyYXkgPSBbXTtcbiAgICByb3VuZE51bWJlcjtcbiAgICBjb25zb2xlLmxvZygnSW4gcGxheSByb3VuZCcsIHJvdW5kTnVtYmVyKTtcbiAgICByYW5kb21Db2xvcnNBcnIgPSBjb2xvcnMoKTtcbiAgICBzZXF1ZW5jZU1hdGNoZXIoKTtcbiAgICBjb25zb2xlLmxvZygncm91bmRBcnJheScsIHJvdW5kQXJyYXkpO1xuICAgIHJvdW5kQXJyYXkuc2h1ZmZsZSgpO1xuICAgIGNvbnNvbGUubG9nKCdzaHVmZmxlZEFycmF5Jywgc2h1ZmZsZWRBcnJheSk7XG5cbiAgICAkKCcuc3F1YXJlJykuZWFjaChmdW5jdGlvbihpZHgsIGVsKSB7XG4gICAgICAkKGVsKS5jc3MoJ2JhY2tncm91bmRDb2xvcicsIHNodWZmbGVkQXJyYXlbaWR4XSk7XG4gICAgfSk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBjb21iaW5lcyB0aGUgZnVuY3Rpb25zIGNvbG9ycywgc2VxdWVuY2VNYXRjaGVyIGFuZCBzaHVmZmxlLiBJdCBpcyBydW4gaW4gZWFjaCByb3VuZC4gT3ZlcmFsbCwgaXQgcGlja3MgYSByYW5kb20gYXJyYXkgZnJvbSB0aGUgY29sb3JQYWxldHRlLCBtYXBzIGl0IGFnYWluc3QgdGhlIHNlcXVlbmNlTWF0Y2hlciB0byBwcm9kdWNlIHRoZSByb3VuZEFycmF5LCB3aGljaCBpcyB0aGVuIHNodWZmbGVkIHRvIHByb2R1Y2UgdGhlIHNodWZmbGVkQXJyYXkuIEl0IHRoZW4gcHVzaGVzIHRoZSBIRVggY29sb3JzIGZyb20gdGhlIHNodWZmbGVkQXJyYXkgaW50byB0aGUgZW1wdHkgZGl2cyBpbiB0aGUgSFRNTC5cblxuICBmdW5jdGlvbiByZ2JUb0hleCAodXNlclJnYikge1xuICAgIHZhciByZ2IgPSB1c2VyUmdiLnJlcGxhY2UoL1xccy9nLCcnKS5tYXRjaCgvXnJnYmE/XFwoKFxcZCspLChcXGQrKSwoXFxkKykvaSk7XG4gICAgcmV0dXJuIChyZ2IgJiYgcmdiLmxlbmd0aCA9PT0gNCkgPyAnIycgK1xuICAgICgnMCcgKyBwYXJzZUludChyZ2JbMV0sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpICtcbiAgICAoJzAnICsgcGFyc2VJbnQocmdiWzJdLDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSArXG4gICAgKCcwJyArIHBhcnNlSW50KHJnYlszXSwxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikgOiB1c2VyUmdiO1xuICB9XG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjb252ZXJ0IHRoZSB1c2VyUmdiIGFycmF5IHdoaWNoIGlzIHJldHVybmVkIGFmdGVyIHR3byBjbGlja3MgaW50byBhbiBhcnJheSBvZiBIRVggY29kZXMgdG8gYmUgY29tcGFyZWQgYWdhaW50IHRoZSByb3VuZEFycmF5LiBUaGUgaW5wdXQgZm9ybWF0IGlzIFwicmdiKHIsIGcsIGIsKVwiIGFuZCBvdXRwdXRzIFwiI0hFWENPREVcIi5cblxuICBmdW5jdGlvbiBjaGVja0NvbXBsZXRlICgpIHtcbiAgICBjb25zdCB1c2VyUmdiID0gW107XG4gICAgJCgnLnNxdWFyZScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvdXIgPSAkKGVsZW1lbnQpLmNzcygnYmFja2dyb3VuZENvbG9yJyk7XG4gICAgICB1c2VyUmdiLnB1c2goYmFja2dyb3VuZENvbG91cik7XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ3VzZXJSZ2InLCB1c2VyUmdiKTtcblxuICAgIGNvbnN0IHVzZXJTb3J0ZWRBcnJheSA9IHVzZXJSZ2IubWFwKHJnYlRvSGV4KTtcbiAgICBjb25zb2xlLmxvZygndXNlclNvcnRlZEFycmF5JywgdXNlclNvcnRlZEFycmF5KTtcbiAgICBjb25zb2xlLmxvZygncm91bmRBcnJheScsIHJvdW5kQXJyYXkpO1xuXG4gICAgaWYgKHVzZXJTb3J0ZWRBcnJheS5sZW5ndGggPT09IHJvdW5kQXJyYXkubGVuZ3RoICYmIHVzZXJTb3J0ZWRBcnJheS5ldmVyeSgodixpKT0+IHYgPT09IHJvdW5kQXJyYXlbaV0pKSB7XG4gICAgICBjb25zb2xlLmxvZygnSXRcXCdzIGEgbWF0Y2gsIHdlbGwgZG9uZScpO1xuICAgICAgJHBpbmdTb3VuZC5wbGF5KCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdyb3VuZENvdW50ZXIgYmVmb3JlIGFsZXJ0cycsIHJvdW5kQ291bnRlcik7XG4gICAgICBpZihyb3VuZENvdW50ZXIgPiA0KSB7XG4gICAgICAgIGFsZXJ0KCdHYW1lIGNvbXBsZXRlJyk7XG4gICAgICAgIGVuZEdhbWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KCdSb3VuZCBjb21wbGV0ZSwgcHJlc3MgTmV4dCBSb3VuZCB0byBjb250aW51ZS4nKTtcbiAgICAgICAgJG5leHRCdXR0b24uc2hvdygpO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdOb3QgcXVpdGUsIGhhdmUgYW5vdGhlciBnbycpO1xuICAgIH1cbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGNoZWNrcyB0byBzZWUgaWYgdGhlIHVzZXIgaGFzIHNvcnRlZCB0aGUgYXJyYXkgdGhhdCB3YXMgcHVzaGVkIGludG8gdGhlIGRpdnMuIEl0IGJlZ2lucyB3aXRoIGFuIGVtcHR5IGFycmF5LCB1c2VyUmdiLCB3aGljaCBpcyBwb3B1bGF0ZWQgd2l0aCB0aGUgcmdiIGNvZGVzIGZyb20gdGhlIGNvbG9ycyB0aGF0IGFyZSBjdXJyZW50bHkgb24gdmlldywgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIGluLiBJdCB0aGVuIGNvbnZlcnRzIHRoZSByZ2IgY29sb3JzIGludG8gaGV4IGNvbG9ycyBhbmQgcHV0cyB0aGVtIGludG8gYSBuZXcgYXJyYXkgY2FsbGVkIHVzZXJTb3J0ZWRBcnJheS4gRmluYWxseSBpdCBjb21wYXJlcyB0aGUgdXNlclNvcnRlZEFycmF5IHRvIHRoZSByb3VuZEFycmF5IHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBpZGVudGljYWwuIElmIHRoZXkgYXJlLCBpdCBhbGVydHMgdGhlIHVzZXIgdGhhdCB0aGUgbmV4dCByb3VuZCBpcyBhdmFpbGFibGUuIE90aGVyd2lzZSwgdGhlIHVzZXIgY29udGludWVzIHRvIHNvcnQgdGhlIGFycmF5LlxuXG4gIGZ1bmN0aW9uIGNoYW5nZUNvbG9yKGUpe1xuICAgIGNvbnN0IGluZGV4ID0gJChlLnRhcmdldCkuaW5kZXgoJy5zcXVhcmUnKTtcbiAgICBjb25zdCBsZW5ndGggPSAkKCcuc3F1YXJlJykubGVuZ3RoO1xuICAgIGlmKGluZGV4ICE9PSAwICYmIGluZGV4ICE9PSAobGVuZ3RoIC0gMSkpIHtcbiAgICAgIGlmKGNvdW50ID09PSAwKXtcbiAgICAgICAgcHJldiA9ICQodGhpcyk7XG4gICAgICAgIHByZXZjb2xvciA9IHByZXYuY3NzKCdiYWNrZ3JvdW5kQ29sb3InKTtcbiAgICAgIH1lbHNlIGlmKGNvdW50ID09PSAxKXtcbiAgICAgICAgcHJldi5jc3MoJ2JhY2tncm91bmRDb2xvcicsICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kQ29sb3InKSk7XG4gICAgICAgICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCBwcmV2Y29sb3IpO1xuICAgICAgICBjb3VudCA9IC0xO1xuICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgICBjb3VudCs9MTtcbiAgICB9XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHN3aXRjaCB0aGUgY29sb3JzIHdpdGhpbiBkaXYuIE9ubHkgb25jZSB0aGUgdXNlciBoYXMgY2xpY2tlZCBvbiB0d28gc2VwZXJhdGUgZGl2cyB3aWxsIHRoZSBiYWNrZ3JvdW5kIGNvbG9ycyBjaGFuZ2UuIEl0IGFsc28gaW5jbHVkZXMgdGhlIGNoZWNrQ29tcGxldGUgZnVuY3Rpb24gc28gdGhhdCBvbmNlIHRoZSBjaGFuZ2UgaGFzIGJlZW4gbWFkZSwgaXQgY2FuIGNoZWNrIHdoZXRoZXIgaXQgaXMgY29ycmVjdCBvciBub3QuXG5cbiAgZnVuY3Rpb24gbmV4dFJvdW5kICgpIHtcbiAgICByb3VuZENvdW50ZXIgKys7XG4gICAgcm91bmROdW1iZXIgKys7XG4gICAgJGdhbWVCb2FyZC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzcXVhcmVcIj48L2Rpdj4nKTtcbiAgICAkbmV4dEJ1dHRvbi5oaWRlKCk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHdoZW4gdGhlIG5leHRCdXR0b24gaXMgY2xpY2tlZC4gVGhlIG5leHRCdXR0b24gb25seSBhcHBlYXJzIGFmdGVyIHRoZSB1c2VyIGhhcyBjb3JyZWN0bHkgc29ydGVkIHRoZSBhcnJheSwgYW5kIGlzIHVzZWQgdG8gbW92ZSB0byB0aGUgbmV4dCByb3VuZC4gSXQgaGlkZXMgb25jZSBpdCBpcyBwcmVzc2VkIHNvIHRoZSB1c2VyIGNhbm5vdCBza2lwIHJvdW5kcy5cblxuICBmdW5jdGlvbiBzdGFydFJvdW5kICgpIHtcbiAgICBuZXh0Um91bmQoKTtcbiAgICAkcm91bmQudGV4dChyb3VuZENvdW50ZXIpO1xuICAgIHBsYXlSb3VuZCgpO1xuICB9XG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBvbiB0aGUgbmV4dFJvdW5kIEV2ZW50IExpc3RlbmVyIHRvIGJlZ2luIHRoZSBuZXh0IHJvdW5kLlxuXG4gIGZ1bmN0aW9uIHJlc2V0R2FtZSgpIHtcbiAgICByb3VuZENvdW50ZXIgPSAwO1xuICAgIHJvdW5kTnVtYmVyID0gbnVsbDtcbiAgICAkcmVzZXRCdXR0b24uaGlkZSgpO1xuICAgICRuZXh0QnV0dG9uLmhpZGUoKTtcbiAgICAkKCcuc3F1YXJlJykucmVtb3ZlKCk7XG4gICAgJHdoaWNoUm91bmQuaGlkZSgpO1xuICAgICRlYXN5QnV0dG9uLnNob3coKTtcbiAgICAkaGFyZEJ1dHRvbi5zaG93KCk7XG4gICAgbGV0IHJvdW5kQXJyYXkgPSBudWxsO1xuICAgIGxldCByYW5kb21Db2xvcnNBcnIgPSBudWxsO1xuICAgIGxldCBzaHVmZmxlZEFycmF5ID0gW107XG4gICAgY29uc29sZS5sb2coc2h1ZmZsZWRBcnJheSk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlc2V0IHRoZSBnYW1lLiBJdCBicmluZ3MgdGhlIGdhbWUgYmFjayB0byB0aGUgb3JpZ2luYWwgc3RhdGUgYW5kIHN0b3BzIGFueSB0aW1lcnMgdGhhdCBtaWdodCBoYXZlIGJlZW4gcnVubmluZy5cblxuICBmdW5jdGlvbiBlbmRHYW1lICgpIHtcbiAgICBlbmRUaW1lKCk7XG4gICAgdGltZURpZmYoKTtcbiAgICBhbGVydChgR2FtZSBDb21wbGV0ZSEgWW91IGZpbmlzaGVkIHdpdGggYSB0aW1lIG9mICR7dXNlclRpbWV9YCk7XG4gICAgdXBkYXRlVGltZSgpO1xuICAgIHJlc2V0R2FtZSgpO1xuICB9XG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBlbmQgdGhlIGdhbWUgdXBvbiBjb21wbGV0aW9uIG9mIHRoZSBmaWZ0aCByb3VuZC4gSXQgdGFrZXMgYSBzZWNvbmQgdGltZSwgY29udmVydHMgaXQgdG8gc2Vjb25kcywgYW5kIHRoZW4gYWxlcnRzIHRoZSB1c2VyIHRvIHRoZWlyIGdhbWUgdGltZS4gSXQgYWxzbyB1cGRhdGVzIHRoZSBxdWlja2VzdCB0aW1lIGFuZCBhbGVydHMgdGhlIHVzZXIgaWYgdGhleSBzZXQgYSBuZXcgcXVpY2tlc3QgdGltZSBvciBub3QuIEZpbmFsbHksIGl0IGJyaW5ncyB0aGUgZ2FtZSBiYWNrIGludG8gdGhlIHN0YXJ0IHN0YXRlLlxuXG4gIGZ1bmN0aW9uIHN0YXJ0VGltZSgpIHtcbiAgICB0aW1lMSA9IG5ldyBEYXRlKCk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNhcHR1cmUgdGhlIHRpbWUgYXQgd2hpY2ggdGhlIHVzZXIgYmVnYW4gdGhlIGdhbWUuXG5cbiAgZnVuY3Rpb24gZW5kVGltZSgpIHtcbiAgICB0aW1lMiA9IG5ldyBEYXRlKCk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNhcHR1cmUgdGhlIHRpbWUgYXQgd2hpY2ggdGhlIHVzZXIgY29tcGxldGVkIHRoZSBnYW1lLlxuXG4gIGZ1bmN0aW9uIHRpbWVEaWZmKCkge1xuICAgIHVzZXJUaW1lID0gKHRpbWUyIC0gdGltZTEpLzEwMDA7XG4gIH1cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gd29yayBvdXQgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgc3RhcnQgb2YgdGhlIGdhbWUgYW5kIHRoZSBlbmQgb2YgdGhlIGdhbWUgYW5kIGNvbnZlcnQgdGhlIHRpbWUgaW50byBzZWNvbmRzLlxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVRpbWUgKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKGAke3F1aWNrZXN0VGltZX0gaXMgdGhlIHRpbWUgdG8gYmVhdCBidXQgdGhlIHVzZXIgZ290ICR7dXNlclRpbWV9YCk7XG4gICAgaWYgKHVzZXJUaW1lIDwgcXVpY2tlc3RUaW1lKSB7XG4gICAgICBhbGVydChgQ29uZ3JhdHVsYXRpb25zLCB5b3UndmUgc2V0IHRoZSBuZXcgcXVpY2tlc3QgdGltZSFgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoYFVuZm9ydHVuYXRlbHksIHlvdSB3ZXJlbid0IHF1aXRlIGZhc3QgZW5vdWdodCB0byBzZXQgYSBuZXcgcXVpY2sgdGltZS5gKTtcbiAgICB9XG4gICAgcXVpY2tlc3RUaW1lID0gKHVzZXJUaW1lIDwgcXVpY2tlc3RUaW1lKSA/IHVzZXJUaW1lIDogcXVpY2tlc3RUaW1lO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdxdWlja2VzdFRpbWUnLCBxdWlja2VzdFRpbWUpO1xuICAgIHJldHVybiBxdWlja2VzdFRpbWU7XG4gIH1cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY2hlY2sgd2hldGhlciB0aGUgZ2FtZSB0aW1lIGlzIHF1aWNrZXIgdGhhbiB0aGUgY3VycmVudCBxdWlja2VzdCB0aW1lLiBJdCBhbGVydHMgdGhlIHVzZXIgd2hldGhlciB0aGV5IGhhdmUgc2V0IGEgbmV3IHF1aWNrIHRpbWUgb3Igbm90LCBhbmQgaWYgdGhlcmUgaXMgYSBuZXcgcXVpY2sgdGltZSwgaXQgdXBkYXRlcyB0aGUgbG9jYWwgc3RvcmFnZSB3aXRoIHRoZSBuZXcgcXVpY2sgdGltZS5cblxufSk7XG4iXX0=
