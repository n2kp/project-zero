"use strict";$(function(){function a(){j?I.pause():I.play()}function e(){v.hide(),m.hide(),y.show(),w.show()}function c(){return M[Math.floor(Math.random()*M.length)]}function d(){var a=D[T-1];return N=a.map(function(a){return O[a]})}function b(){E=[],console.log("In play round",T),O=c(),d(),console.log("roundArray",N),N.shuffle(),console.log("shuffledArray",E),$(".square").each(function(a,e){$(e).css("backgroundColor",E[a])})}function n(a){var e=a.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):a}function o(){var a=[];$(".square").each(function(e,c){var d=$(c).css("backgroundColor");a.push(d)}),console.log("userRgb",a);var e=a.map(n);console.log("userSortedArray",e),console.log("roundArray",N),e.length===N.length&&e.every(function(a,e){return a===N[e]})?(console.log("It's a match, well done"),S.play(),console.log("roundCounter before alerts",R),R>4?(alert("Game complete"),u()):(alert("Round complete, press Next Round to continue."),k.show())):console.log("Not quite, have another go")}function t(a){var e=$(a.target).index(".square"),c=$(".square").length;0!==e&&e!==c-1&&(0===U?(H=$(this),J=H.css("backgroundColor")):1===U&&(H.css("backgroundColor",$(this).css("backgroundColor")),$(this).css("backgroundColor",J),U=-1,o()),U+=1)}function f(){R++,T++,g.append('<div class="square"></div>'),k.hide()}function r(){R=0,T=null,y.hide(),k.hide(),$(".square").remove(),w.hide(),v.show(),m.show();var a=[];console.log(a)}function u(){s(),i(),alert("Game Complete! You finished with a time of "+A),h(),r()}function l(){x=new Date}function s(){B=new Date}function i(){A=(B-x)/1e3}function h(){return A<Y?alert("Congratulations, you've set the new quickest time!"):alert("Unfortunately, you weren't quite fast enought to set a new quick time."),Y=A<Y?A:Y,localStorage.setItem("quickestTime",Y),Y}console.log("Igor, JavaScript' alive!");var g=$(".gameBoard"),p=$(".difficulty"),v=$(".easyButton"),m=$(".hardButton"),y=$(".resetButton"),k=$(".nextButton"),q=$(".quickTime"),w=$(".roundDisplay"),C=$(".soundOnOff"),S=$("audio")[0],I=$("audio")[1],x=null,B=null,A=null,M=[["#3db5f9","#48a8e8","#539ad7","#5e8dc6","#697fb5","#7472a4","#7e6493","#895782","#944a71","#9f3c60","#aa2f4f","#b5213e","#c0142d"],["#44f267","#4bdf68","#51cd69","#58ba6a","#5ea76b","#65956c","#6b826d","#726f6e","#795d6f","#7f4a70","#863771","#8c2572","#931273"],["#553e13","#5a3c1c","#5f3a25","#65382f","#6a3638","#6f3441","#74324b","#7a3054","#7f2e5d","#842c66","#8a2a6f","#8f2879","#942682"],["#148ea9","#278faa","#3a90ab","#4d90ab","#6091ac","#7392ad","#8692ae","#9993ae","#ac94af","#bf95b0","#d295b1","#e596b1","#f897b2"],["#493582","#524586","#5b568b","#63668f","#6c7693","#758798","#7e979c","#86a7a0","#8fb8a5","#98c8a9","#a1d8ad","#a9e9b2","#b2f9b6"],["#6746f2","#7241e3","#7d3bd4","#8735c5","#9230b6","#9d2ba7","#a72597","#b21f88","#bd1a79","#c8156a","#d30f5b","#dd094c","#e8043d"],["#23184c","#321e4c","#40244d","#4f2a4d","#5e2f4d","#6c354d","#7b3b4e","#8a414e","#98474e","#a74d4e","#b6524e","#c4584f","#d35e4f"],["#78a0d8","#7ca1cd","#80a2c2","#84a4b7","#89a5ad","#8da6a2","#91a797","#95a98c","#99aa81","#9cab77","#a2ad6c","#a6ae61","#aaaf56"],["#1fe876","#29e268","#34dc60","#3ed658","#49d051","#53ca49","#5ec441","#68bd39","#72b731","#7db12a","#87ab22","#92a51a","#9c9f12"],["#3f4887","#4c4885","#5a4884","#674982","#754981","#82497f","#904a7e","#9d4a7c","#aa4a7a","#b84a79","#c54b77","#d34b76","#e04b74"],["#1a57e8","#255dd6","#3062c4","#3b68b3","#456da1","#50738f","#5b787d","#667e6b","#718459","#7b8948","#868f36","#919424","#929a12"],["#05a83e","#18ad4e","#2bb35e","#3fb86e","#52bd7e","#65c28e","#78c79e","#8ccdaf","#9fd2bf","#b2d7cf","#c5dddf","#d9e2ef","#ece7ff"],["#2fded8","#3ae0ca","#45e2bb","#50e4ad","#5be69f","#66e890","#71ea82","#7beb74","#86ed65","#91ef57","#9cf149","#a7f33a","#b2f52c"],["#462e75","#523d73","#5d4d70","#695c6e","#746b6c","#807b69","#8b8a67","#979965","#a3a962","#aeb860","#bac75e","#c5d75b","#d1e659"],["#5ddac3","#69d3a7","#76cc9a","#82c48e","#8fbd81","#9bb674","#a7af68","#b4a85b","#c0a14f","#cd9a42","#d99236","#c68b2a","#f2841d"],["#052e3d","#123c4c","#20495c","#2d576b","#3b647a","#48728a","#558099","#638da8","#709bb8","#7ea8c7","#8bb6d6","#99c3e6","#a6d1f5"],["#2c08ba","#380baf","#440ea3","#501298","#5c158d","#661881","#741b76","#801e6b","#8c215f","#982554","#a42849","#b02b3d","#bc2e32"],["#06bf79","#12b37d","#1fa880","#2b9c84","#389187","#44858b","#517a8e","#5d6e91","#696295","#765798","#824b9c","#8f40a0","#9b34a3"],["#3d770e","#4a8214","#578e1b","#649921","#72a427","#7fb02d","#8cbb34","#99c63a","#a6d240","#b4dd46","#c1e84d","#cef435","#dbff59"],["#5ca10e","#679b16","#72941d","#7d8e25","#88872c","#938134","#9e7a3b","#a87443","#b36d4b","#be6752","#c9605a","#d45a61","#df5369"],["#7bc9e5","#82c5d5","#8ac2c6","#91beb7","#98bba7","#9fb797","#a7b488","#aeb078","#b5ac69","#bca95a","#c4a54a","#cba32b","#d29e2b"],["#71d72f","#7bc82e","#85b92c","#8faa2b","#999b2a","#a38c28","#ad7d27","#b66d26","#c05e24","#ca4f23","#d44022","#de3120","#e8221f"],["#d5870b","#c58514","#b5821d","#a58026","#957e2f","#857b38","#747941","#647749","#547452","#44725b","#347064","#246d6d","#146b76"],["#f23f8e","#e4408d","#d6418b","#c8438a","#ba4489","#ac4588","#9e4787","#8f4885","#814984","#734a83","#654b81","#574d80","#494e7f"],["#dab2f6","#cfaae2","#c4a2ce","#b99bb9","#ae93a5","#a38b91","#98837d","#8e7b68","#837354","#786b40","#6d642b","#625c17","#575403"],["#da87ce","#d28dc0","#ca93b2","#c299a4","#ba9f96","#b29588","#abab7a","#93b26b","#9bb85d","#93be4f","#8bc441","#83ca33","#7bd025"],["#f89951","#ed915b","#e28a66","#d78270","#cc7a7a","#c17285","#b66b8f","#ab6399","#a05ba4","#9553ae","#8a4bb8","#7f44c3","#743ccd"],["#f5d2bf","#e6c3c1","#d7b3c4","#c8a4c7","#ba94c9","#ab84cb","#9c75ce","#8d65d1","#7e56d3","#6f47d5","#6137d8","#5228da","#4318dd"],["#8abc18","#81b32a","#79ab3b","#70a24b","#67995f","#5f9171","#568882","#4d7f94","#4577a6","#3c6eb8","#3365ca","#2b5ddb","#2254ed"],["#b6c506","#abb915","#a1ae24","#96a233","#8b9642","#818a51","#767e61","#6b7370","#61677f","#565b8e","#4b4f9d","#4144ac","#3638bb"]],D=[[0,3,6,9,12],[0,3,5,7,9,12],[0,1,3,6,9,11,12],[0,1,3,5,7,9,11,12],[0,1,3,4,6,8,9,11,12],[0,1,2,4,5,7,8,10,11,12],[0,1,2,3,5,6,7,9,10,11,12],[0,1,2,3,4,5,7,8,9,10,11,12],[0,1,2,3,4,5,6,7,8,9,10,11,12]],R=0,T=null,G=$(".round"),N=null,O=null,E=[],H=void 0,J=null,U=0,Y=localStorage.getItem("quickestTime")||45;q.text(Y);var j=!1;C.on("click",function(){a(),I.onplaying=function(){j=!0},I.onpause=function(){j=!1}}),g.on("click",".square",t),k.on("click",function(){f(),G.text(R),b()}),y.on("click",function(){r()}),p.on("click",function(a){if(console.log("clicked"),$(a.target).hasClass("easyButton")){alert("Easy Mode Selected"),R++,G.text(R),T=1;for(var c=0;c<5;c++)g.append('<div class="square"></div>');e(),b(),l(),t()}else if($(a.target).hasClass("hardButton")){alert("Hard Mode Selected"),R++,G.text(R),T=5;for(var d=0;d<9;d++)g.append('<div class="square"></div>');e(),b(),l(),t()}}),Array.prototype.shuffle=function(){for(var a=1;a<this.length-1;a++)E.push(this[a]);if(E.sort(function(){return.5-Math.random()}),E.push(this[this.length-1]),E.unshift(this[0]),E.length!==N.length||!E.every(function(a,e){return a===N[e]}))return E;E=[],N.shuffle()}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwidG9nZ2xlU291bmQiLCJpc1BsYXlpbmciLCJzaHVmZmxlZEFycmF5IiwicGF1c2UiLCIkYmFja2dyb3VuZFNvdW5kIiwicGxheSIsImdhbWVTdGFydCIsIiRlYXN5QnV0dG9uIiwicGxheVJvdW5kIiwicm91bmROdW1iZXIiLCJjb25zb2xlIiwic2hvdyIsInJvdW5kQXJyYXkiLCJNYXRoIiwiZmxvb3IiLCJjb2xvclBhbGV0dGUiLCJsZW5ndGgiLCJzZXF1ZW5jZU1hdGNoZXIiLCJzZXF1ZW5jZUFycmF5IiwiZWxlbWVudFNlbGVjdG9yIiwibWFwIiwiaXRlbSIsInJhbmRvbUNvbG9yc0FyciIsImFsZXJ0IiwiZW5kR2FtZSIsIiRuZXh0QnV0dG9uIiwibG9nIiwiZWFjaCIsImlkeCIsImVsIiwiY3NzIiwiaW5kZXgiLCJ0YXJnZXQiLCJyZXBsYWNlIiwibWF0Y2giLCJyZ2IiLCJjb3VudCIsInRvU3RyaW5nIiwic2xpY2UiLCJwcmV2IiwicHJldmNvbG9yIiwidXNlclJnYiIsImNoZWNrQ29tcGxldGUiLCJlbGVtZW50IiwicHVzaCIsImJhY2tncm91bmRDb2xvdXIiLCJ1c2VyU29ydGVkQXJyYXkiLCJyZ2JUb0hleCIsInJvdW5kQ291bnRlciIsImV2ZXJ5IiwidiIsImkiLCIkcGluZ1NvdW5kIiwicmVzZXRHYW1lIiwiJHJlc2V0QnV0dG9uIiwiJHdoaWNoUm91bmQiLCJjaGFuZ2VDb2xvciIsImUiLCJlbmRUaW1lIiwidGltZURpZmYiLCJ1cGRhdGVUaW1lIiwidGhpcyIsInN0YXJ0VGltZSIsInRpbWUxIiwibmV4dFJvdW5kIiwidXNlclRpbWUiLCJhcHBlbmQiLCJ0aW1lMiIsImhpZGUiLCJxdWlja2VzdFRpbWUiLCJyZW1vdmUiLCJsb2NhbFN0b3JhZ2UiLCIkaGFyZEJ1dHRvbiIsIkRhdGUiLCJzZXRJdGVtIiwiJGdhbWVCb2FyZCIsIiRkaWZmaWN1bHR5IiwiJHF1aWNrVGltZSIsIiRzb3VuZCIsImdldEl0ZW0iLCJ0ZXh0Iiwib25wbGF5aW5nIiwib25wYXVzZSIsIiRyb3VuZCIsIm9uIiwiaGFzQ2xhc3MiLCJwcm90b3R5cGUiLCJzaHVmZmxlIiwiQXJyYXkiLCJ1bnNoaWZ0Il0sIm1hcHBpbmdzIjoiWUFDQUEsR0FBRSxXQWtMd0UsUUFBQUMsS0FBOEJDLEVBQ2xHQyxFQUFnQkMsUUFEbEJDLEVBR09DLE9BbENULFFBQVNDLEtBd0NUQyxFQUFTQyxPQUNQTixFQUFBQSxPQUNBTyxFQUFBQSxPQUNBQyxFQUFZQyxPQUlaQyxRQUFBQSxLQUNBRixNQUFBQSxHQUFZRyxLQUFBQyxNQUFpQlosS0FBQUEsU0FBN0JhLEVBQUFDLFNBSUMsUUFGREMsS0FHRCxHQUFBQyxHQUFBQyxFQUFBVixFQUFBLEVBQ0QsT0FBQUcsR0FBQU0sRUFBQUUsSUFBQSxTQUFBQyxHQXRDSSxNQUFPQyxHQUFnQkQsS0F3QjNCLFFBQVNiLEtBeUNMRSxLQUVFYSxRQUFBQSxJQUFNLGdCQUFOZCxHQUNBZSxFQUFBQSxJQUNEUCxJQUNDTSxRQUFBQSxJQUFNLGFBQUFYLEdBQ05hLEVBQUFBLFVBQ0RmLFFBQUFnQixJQUFBLGdCQUFBeEIsR0FHRFEsRUFBQUEsV0FBQWlCLEtBQVksU0FBQUMsRUFBQUMsR0FDYjlCLEVBQUE4QixHQUFBQyxJQUFBLGtCQUFBNUIsRUFBQTBCLE1BS0QsUUFBTUcsR0FBWUMsR0FDbEIsR0FBTWhCLEdBQUFBLEVBQVdpQixRQUFXakIsTUFBNUIsSUFBQWtCLE1BQUEsNkJBQ0EsT0FBR0gsSUFBMEJmLElBQTFCbUIsRUFBZUosT0FBV2YsS0FDM0IsSUFBR29CLFNBQVVELEVBQUUsR0FBQSxJQUFBRSxTQUFBLEtBQUFDLE9BQUEsSUFDYkMsSUFBQUEsU0FBU0osRUFBVCxHQUFBLElBQUFFLFNBQUEsS0FBQUMsT0FBQSxJQUNBRSxJQUFBQSxTQUFZRCxFQUFBQSxHQUFLVCxJQUFJTyxTQUFBLEtBQUFDLE9BQXJCLEdBQUFHLEVBSUFMLFFBQUFBLEtBQ0FNLEdBQUFBLEtBQ0QzQyxHQUFBLFdBQUE0QixLQUFB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QSxVQUFBLFVBQUEsVUFBQSxZQXZDRyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxZQXlDdkksVUFBSTZCLFVBQUosVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUNBLFVBQUl2QyxVQUFKLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFlVixVQUFmLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFJYSxVQUFKLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFJVSxVQUFrQixVQUF0QixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUNBLFVBQUlwQixVQUFKLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFJcUMsVUFBSixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBVUMsVUFBVixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQ0EsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFJNkIsVUFBZUUsVUFBYVEsVUFBUSxVQUFyQixVQUFuQixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUNBRixVQUFXRyxVQUFLWCxVQUFoQixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUNBLFVBQUlwRSxVQUFKLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUF0Q0csVUFB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LEdBQ0R2QyxFQUFBLENBeENJLEtBQUssR0FBSTBDLEdBQUksRUFBR0EsRUFBSSxFQUFHQSxJQTBDM0J3QixFQUFBVCxPQUFrQiw2QkFFakI1RCxLQUNERSxJQXhDSXNELElBMENKTixRQUVTNUMsSUFBQUEsRUFBQUEsRUFBQUEsUUFBYU0sU0FBQUEsY0FBa0IsQ0FDcENLLE1BQUEsc0JBREZ5QixJQUdEbUMsRUFBQUgsS0FBQWhDLEdBQ0R2QyxFQUFBLENBeENJLEtBQUssR0FBSTBDLEdBQUksRUFBR0EsRUFBSSxFQUFHQSxJQTBDckJtQyxFQUFVQyxPQUFoQiw2QkFFSXJGLEtBQ0RNLElBQ0ROLElBQ0VzRCxPQXFDSmdDLE1BQUFGLFVBQUFDLFFBQUEsV0F6Q0UsSUFBSSxHQUFJcEMsR0FBRSxFQUFHQSxFQUFFVSxLQUFLN0MsT0FBTyxFQUFHbUMsSUEyQ2hDakQsRUFBU3dDLEtBQVRtQixLQUEwQlYsR0FReEIsSUFOQXBELEVBQWE0QixLQUFLLFdBQ2hCLE1BQU1rQixHQUFBQSxLQUFBQSxXQUVQM0MsRUFIRDBDLEtBQUFpQixLQUFBQSxLQUFBN0MsT0FBQSxJQUlBTixFQUFZK0UsUUFBWjVCLEtBQXVCcEIsSUFFakJLLEVBQUFBLFNBQWtCTCxFQUFZTSxTQUFwQzdDLEVBQUErQyxNQUFBLFNBQUFDLEVBQUFDLEdBQUEsTUFBQUQsS0FBQXRDLEVBQUF1QyxLQUlBLE1BQUlMLEVBSEpwQyxNQUNBQSxFQUFZNkUiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4kKCgpID0+IHtcblxuICBjb25zb2xlLmxvZygnSWdvciwgSmF2YVNjcmlwdFxcJyBhbGl2ZSEnKTtcblxuICBjb25zdCAkZ2FtZUJvYXJkID0gJCgnLmdhbWVCb2FyZCcpO1xuICBjb25zdCAkZGlmZmljdWx0eSA9ICQoJy5kaWZmaWN1bHR5Jyk7XG4gIGNvbnN0ICRlYXN5QnV0dG9uID0gJCgnLmVhc3lCdXR0b24nKTtcbiAgY29uc3QgJGhhcmRCdXR0b24gPSAkKCcuaGFyZEJ1dHRvbicpO1xuICBjb25zdCAkcmVzZXRCdXR0b24gPSAkKCcucmVzZXRCdXR0b24nKTtcbiAgY29uc3QgJG5leHRCdXR0b24gPSAkKCcubmV4dEJ1dHRvbicpO1xuICBjb25zdCAkcXVpY2tUaW1lID0gJCgnLnF1aWNrVGltZScpO1xuICBjb25zdCAkd2hpY2hSb3VuZCA9ICQoJy5yb3VuZERpc3BsYXknKTtcbiAgY29uc3QgJHNvdW5kID0gJCgnLnNvdW5kT25PZmYnKTtcbiAgY29uc3QgJHBpbmdTb3VuZCA9ICQoJ2F1ZGlvJylbMF07XG4gIGNvbnN0ICRiYWNrZ3JvdW5kU291bmQgPSAkKCdhdWRpbycpWzFdO1xuICBsZXQgdGltZTEgPSBudWxsO1xuICBsZXQgdGltZTIgPSBudWxsO1xuICBsZXQgdXNlclRpbWUgPSBudWxsO1xuXG4gIGNvbnN0IGNvbG9yUGFsZXR0ZSA9IFtcbiAgICBbJyMzZGI1ZjknLCAnIzQ4YThlOCcsICcjNTM5YWQ3JywgJyM1ZThkYzYnLCAnIzY5N2ZiNScsICcjNzQ3MmE0JywgJyM3ZTY0OTMnLCAnIzg5NTc4MicsICcjOTQ0YTcxJywgJyM5ZjNjNjAnLCAnI2FhMmY0ZicsICcjYjUyMTNlJywgJyNjMDE0MmQnXSxcbiAgICBbJyM0NGYyNjcnLCAnIzRiZGY2OCcsICcjNTFjZDY5JywgJyM1OGJhNmEnLCAnIzVlYTc2YicsICcjNjU5NTZjJywgJyM2YjgyNmQnLCAnIzcyNmY2ZScsICcjNzk1ZDZmJywgJyM3ZjRhNzAnLCAnIzg2Mzc3MScsICcjOGMyNTcyJywgJyM5MzEyNzMnXSxcbiAgICBbJyM1NTNlMTMnLCAnIzVhM2MxYycsICcjNWYzYTI1JywgJyM2NTM4MmYnLCAnIzZhMzYzOCcsICcjNmYzNDQxJywgJyM3NDMyNGInLCAnIzdhMzA1NCcsICcjN2YyZTVkJywgJyM4NDJjNjYnLCAnIzhhMmE2ZicsICcjOGYyODc5JywgJyM5NDI2ODInXSxcbiAgICBbJyMxNDhlYTknLCAnIzI3OGZhYScsICcjM2E5MGFiJywgJyM0ZDkwYWInLCAnIzYwOTFhYycsICcjNzM5MmFkJywgJyM4NjkyYWUnLCAnIzk5OTNhZScsICcjYWM5NGFmJywgJyNiZjk1YjAnLCAnI2QyOTViMScsICcjZTU5NmIxJywgJyNmODk3YjInXSxcbiAgICBbJyM0OTM1ODInLCAnIzUyNDU4NicsICcjNWI1NjhiJywgJyM2MzY2OGYnLCAnIzZjNzY5MycsICcjNzU4Nzk4JywgJyM3ZTk3OWMnLCAnIzg2YTdhMCcsICcjOGZiOGE1JywgJyM5OGM4YTknLCAnI2ExZDhhZCcsICcjYTllOWIyJywgJyNiMmY5YjYnXSxcbiAgICBbJyM2NzQ2ZjInLCAnIzcyNDFlMycsICcjN2QzYmQ0JywgJyM4NzM1YzUnLCAnIzkyMzBiNicsICcjOWQyYmE3JywgJyNhNzI1OTcnLCAnI2IyMWY4OCcsICcjYmQxYTc5JywgJyNjODE1NmEnLCAnI2QzMGY1YicsICcjZGQwOTRjJywgJyNlODA0M2QnXSxcbiAgICBbJyMyMzE4NGMnLCAnIzMyMWU0YycsICcjNDAyNDRkJywgJyM0ZjJhNGQnLCAnIzVlMmY0ZCcsICcjNmMzNTRkJywgJyM3YjNiNGUnLCAnIzhhNDE0ZScsICcjOTg0NzRlJywgJyNhNzRkNGUnLCAnI2I2NTI0ZScsICcjYzQ1ODRmJywgJyNkMzVlNGYnXSxcbiAgICBbJyM3OGEwZDgnLCAnIzdjYTFjZCcsICcjODBhMmMyJywgJyM4NGE0YjcnLCAnIzg5YTVhZCcsICcjOGRhNmEyJywgJyM5MWE3OTcnLCAnIzk1YTk4YycsICcjOTlhYTgxJywgJyM5Y2FiNzcnLCAnI2EyYWQ2YycsICcjYTZhZTYxJywgJyNhYWFmNTYnXSxcbiAgICBbJyMxZmU4NzYnLCAnIzI5ZTI2OCcsICcjMzRkYzYwJywgJyMzZWQ2NTgnLCAnIzQ5ZDA1MScsICcjNTNjYTQ5JywgJyM1ZWM0NDEnLCAnIzY4YmQzOScsICcjNzJiNzMxJywgJyM3ZGIxMmEnLCAnIzg3YWIyMicsICcjOTJhNTFhJywgJyM5YzlmMTInXSxcbiAgICBbJyMzZjQ4ODcnLCAnIzRjNDg4NScsICcjNWE0ODg0JywgJyM2NzQ5ODInLCAnIzc1NDk4MScsICcjODI0OTdmJywgJyM5MDRhN2UnLCAnIzlkNGE3YycsICcjYWE0YTdhJywgJyNiODRhNzknLCAnI2M1NGI3NycsICcjZDM0Yjc2JywgJyNlMDRiNzQnXSxcbiAgICBbJyMxYTU3ZTgnLCAnIzI1NWRkNicsICcjMzA2MmM0JywgJyMzYjY4YjMnLCAnIzQ1NmRhMScsICcjNTA3MzhmJywgJyM1Yjc4N2QnLCAnIzY2N2U2YicsICcjNzE4NDU5JywgJyM3Yjg5NDgnLCAnIzg2OGYzNicsICcjOTE5NDI0JywgJyM5MjlhMTInXSxcbiAgICBbJyMwNWE4M2UnLCAnIzE4YWQ0ZScsICcjMmJiMzVlJywgJyMzZmI4NmUnLCAnIzUyYmQ3ZScsICcjNjVjMjhlJywgJyM3OGM3OWUnLCAnIzhjY2RhZicsICcjOWZkMmJmJywgJyNiMmQ3Y2YnLCAnI2M1ZGRkZicsICcjZDllMmVmJywgJyNlY2U3ZmYnXSxcbiAgICBbJyMyZmRlZDgnLCAnIzNhZTBjYScsICcjNDVlMmJiJywgJyM1MGU0YWQnLCAnIzViZTY5ZicsICcjNjZlODkwJywgJyM3MWVhODInLCAnIzdiZWI3NCcsICcjODZlZDY1JywgJyM5MWVmNTcnLCAnIzljZjE0OScsICcjYTdmMzNhJywgJyNiMmY1MmMnXSxcbiAgICBbJyM0NjJlNzUnLCAnIzUyM2Q3MycsICcjNWQ0ZDcwJywgJyM2OTVjNmUnLCAnIzc0NmI2YycsICcjODA3YjY5JywgJyM4YjhhNjcnLCAnIzk3OTk2NScsICcjYTNhOTYyJywgJyNhZWI4NjAnLCAnI2JhYzc1ZScsICcjYzVkNzViJywgJyNkMWU2NTknXSxcbiAgICBbJyM1ZGRhYzMnLCAnIzY5ZDNhNycsICcjNzZjYzlhJywgJyM4MmM0OGUnLCAnIzhmYmQ4MScsICcjOWJiNjc0JywgJyNhN2FmNjgnLCAnI2I0YTg1YicsICcjYzBhMTRmJywgJyNjZDlhNDInLCAnI2Q5OTIzNicsICcjYzY4YjJhJywgJyNmMjg0MWQnXSxcbiAgICBbJyMwNTJlM2QnLCAnIzEyM2M0YycsICcjMjA0OTVjJywgJyMyZDU3NmInLCAnIzNiNjQ3YScsICcjNDg3MjhhJywgJyM1NTgwOTknLCAnIzYzOGRhOCcsICcjNzA5YmI4JywgJyM3ZWE4YzcnLCAnIzhiYjZkNicsICcjOTljM2U2JywgJyNhNmQxZjUnXSxcbiAgICBbJyMyYzA4YmEnLCAnIzM4MGJhZicsICcjNDQwZWEzJywgJyM1MDEyOTgnLCAnIzVjMTU4ZCcsICcjNjYxODgxJywgJyM3NDFiNzYnLCAnIzgwMWU2YicsICcjOGMyMTVmJywgJyM5ODI1NTQnLCAnI2E0Mjg0OScsICcjYjAyYjNkJywgJyNiYzJlMzInXSxcbiAgICBbJyMwNmJmNzknLCAnIzEyYjM3ZCcsICcjMWZhODgwJywgJyMyYjljODQnLCAnIzM4OTE4NycsICcjNDQ4NThiJywgJyM1MTdhOGUnLCAnIzVkNmU5MScsICcjNjk2Mjk1JywgJyM3NjU3OTgnLCAnIzgyNGI5YycsICcjOGY0MGEwJywgJyM5YjM0YTMnXSxcbiAgICBbJyMzZDc3MGUnLCAnIzRhODIxNCcsICcjNTc4ZTFiJywgJyM2NDk5MjEnLCAnIzcyYTQyNycsICcjN2ZiMDJkJywgJyM4Y2JiMzQnLCAnIzk5YzYzYScsICcjYTZkMjQwJywgJyNiNGRkNDYnLCAnI2MxZTg0ZCcsICcjY2VmNDM1JywgJyNkYmZmNTknXSxcbiAgICBbJyM1Y2ExMGUnLCAnIzY3OWIxNicsICcjNzI5NDFkJywgJyM3ZDhlMjUnLCAnIzg4ODcyYycsICcjOTM4MTM0JywgJyM5ZTdhM2InLCAnI2E4NzQ0MycsICcjYjM2ZDRiJywgJyNiZTY3NTInLCAnI2M5NjA1YScsICcjZDQ1YTYxJywgJyNkZjUzNjknXSxcbiAgICBbJyM3YmM5ZTUnLCAnIzgyYzVkNScsICcjOGFjMmM2JywgJyM5MWJlYjcnLCAnIzk4YmJhNycsICcjOWZiNzk3JywgJyNhN2I0ODgnLCAnI2FlYjA3OCcsICcjYjVhYzY5JywgJyNiY2E5NWEnLCAnI2M0YTU0YScsICcjY2JhMzJiJywgJyNkMjllMmInXSxcbiAgICBbJyM3MWQ3MmYnLCAnIzdiYzgyZScsICcjODViOTJjJywgJyM4ZmFhMmInLCAnIzk5OWIyYScsICcjYTM4YzI4JywgJyNhZDdkMjcnLCAnI2I2NmQyNicsICcjYzA1ZTI0JywgJyNjYTRmMjMnLCAnI2Q0NDAyMicsICcjZGUzMTIwJywgJyNlODIyMWYnXSxcbiAgICBbJyNkNTg3MGInLCAnI2M1ODUxNCcsICcjYjU4MjFkJywgJyNhNTgwMjYnLCAnIzk1N2UyZicsICcjODU3YjM4JywgJyM3NDc5NDEnLCAnIzY0Nzc0OScsICcjNTQ3NDUyJywgJyM0NDcyNWInLCAnIzM0NzA2NCcsICcjMjQ2ZDZkJywgJyMxNDZiNzYnXSxcbiAgICBbJyNmMjNmOGUnLCAnI2U0NDA4ZCcsICcjZDY0MThiJywgJyNjODQzOGEnLCAnI2JhNDQ4OScsICcjYWM0NTg4JywgJyM5ZTQ3ODcnLCAnIzhmNDg4NScsICcjODE0OTg0JywgJyM3MzRhODMnLCAnIzY1NGI4MScsICcjNTc0ZDgwJywgJyM0OTRlN2YnXSxcbiAgICBbJyNkYWIyZjYnLCAnI2NmYWFlMicsICcjYzRhMmNlJywgJyNiOTliYjknLCAnI2FlOTNhNScsICcjYTM4YjkxJywgJyM5ODgzN2QnLCAnIzhlN2I2OCcsICcjODM3MzU0JywgJyM3ODZiNDAnLCAnIzZkNjQyYicsICcjNjI1YzE3JywgJyM1NzU0MDMnXSxcbiAgICBbJyNkYTg3Y2UnLCAnI2QyOGRjMCcsICcjY2E5M2IyJywgJyNjMjk5YTQnLCAnI2JhOWY5NicsICcjYjI5NTg4JywgJyNhYmFiN2EnLCAnIzkzYjI2YicsICcjOWJiODVkJywgJyM5M2JlNGYnLCAnIzhiYzQ0MScsICcjODNjYTMzJywgJyM3YmQwMjUnXSxcbiAgICBbJyNmODk5NTEnLCAnI2VkOTE1YicsICcjZTI4YTY2JywgJyNkNzgyNzAnLCAnI2NjN2E3YScsICcjYzE3Mjg1JywgJyNiNjZiOGYnLCAnI2FiNjM5OScsICcjYTA1YmE0JywgJyM5NTUzYWUnLCAnIzhhNGJiOCcsICcjN2Y0NGMzJywgJyM3NDNjY2QnXSxcbiAgICBbJyNmNWQyYmYnLCAnI2U2YzNjMScsICcjZDdiM2M0JywgJyNjOGE0YzcnLCAnI2JhOTRjOScsICcjYWI4NGNiJywgJyM5Yzc1Y2UnLCAnIzhkNjVkMScsICcjN2U1NmQzJywgJyM2ZjQ3ZDUnLCAnIzYxMzdkOCcsICcjNTIyOGRhJywgJyM0MzE4ZGQnXSxcbiAgICBbJyM4YWJjMTgnLCAnIzgxYjMyYScsICcjNzlhYjNiJywgJyM3MGEyNGInLCAnIzY3OTk1ZicsICcjNWY5MTcxJywgJyM1Njg4ODInLCAnIzRkN2Y5NCcsICcjNDU3N2E2JywgJyMzYzZlYjgnLCAnIzMzNjVjYScsICcjMmI1ZGRiJywgJyMyMjU0ZWQnXSxcbiAgICBbJyNiNmM1MDYnLCAnI2FiYjkxNScsICcjYTFhZTI0JywgJyM5NmEyMzMnLCAnIzhiOTY0MicsICcjODE4YTUxJywgJyM3NjdlNjEnLCAnIzZiNzM3MCcsICcjNjE2NzdmJywgJyM1NjViOGUnLCAnIzRiNGY5ZCcsICcjNDE0NGFjJywgJyMzNjM4YmInXVxuICBdO1xuICAvLyBDb250YWlucyAzMCBhcnJheXMsIGVhY2ggd2l0aCAxMyBpdGVtcyBpbiBlYWNoLiBVc2VkIGluIGVhY2ggcm91bmQgdG8gcGljayBhIHJhbmRvbSBhcnJheSB0byBwcm9kdWNlIHRoZSByb3VuZEFycmF5IGFuZCBzaHVmZmxlZEFycmF5LlxuXG4gIGNvbnN0IGVsZW1lbnRTZWxlY3RvciA9IFtcbiAgICBbMCwgMywgNiwgOSwgMTJdLFxuICAgIFswLCAzLCA1LCA3LCA5LCAxMl0sXG4gICAgWzAsIDEsIDMsIDYsIDksIDExLCAxMl0sXG4gICAgWzAsIDEsIDMsIDUsIDcsIDksIDExLCAxMl0sXG4gICAgWzAsIDEsIDMsIDQsIDYsIDgsIDksIDExLCAxMl0sXG4gICAgWzAsIDEsIDIsIDQsIDUsIDcsIDgsIDEwLCAxMSwgMTJdLFxuICAgIFswLCAxLCAyLCAzLCA1LCA2LCA3LCA5LCAxMCwgMTEsIDEyXSxcbiAgICBbMCwgMSwgMiwgMywgNCwgNSwgNywgOCwgOSwgMTAsIDExLCAxMl0sXG4gICAgWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTJdXG4gIF07XG4gIC8vIENvbnRhaW5zIDkgYXJyYXlzIHdpdGggdmFyeWluZyBpbmRpY2VzLCB1c2VkIHRvIGRldGVybWluZSBob3cgbWFueSBpbmRpY2VzIHRvIGRlcGxveSBkZXBlbmRpbmcgdXBvbiB3aGljaCByb3VuZCBhbmQgd2hhdCBnYW1lIG1vZGUuXG5cbiAgbGV0IHJvdW5kQ291bnRlciA9IDA7XG4gIGxldCByb3VuZE51bWJlciA9IG51bGw7XG4gIGNvbnN0ICRyb3VuZCA9ICQoJy5yb3VuZCcpO1xuICBsZXQgcm91bmRBcnJheSA9IG51bGw7XG4gIGxldCByYW5kb21Db2xvcnNBcnIgPSBudWxsO1xuICBsZXQgc2h1ZmZsZWRBcnJheSA9IFtdO1xuICBsZXQgcHJldiwgcHJldmNvbG9yID0gbnVsbDtcbiAgbGV0IGNvdW50ID0gMDtcbiAgbGV0IHF1aWNrZXN0VGltZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdxdWlja2VzdFRpbWUnKSB8fCA0NTtcbiAgJHF1aWNrVGltZS50ZXh0KHF1aWNrZXN0VGltZSk7XG4gIGxldCBpc1BsYXlpbmcgPSBmYWxzZTtcblxuXG4gICRzb3VuZC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgdG9nZ2xlU291bmQoKTtcbiAgICAkYmFja2dyb3VuZFNvdW5kLm9ucGxheWluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICB9O1xuICAgICRiYWNrZ3JvdW5kU291bmQub25wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgfTtcbiAgfSk7XG4gIC8vIEV2ZW50IExpc3RlbmVyIHVzZWQgdG8gcGxheSBhbmQgcGF1c2UgdGhlIGJhY2tncm91bmQgbXVzaWMgb2YgdGhlIGdhbWUuXG5cbiAgJGdhbWVCb2FyZC5vbignY2xpY2snLCAnLnNxdWFyZScsIGNoYW5nZUNvbG9yKTtcbiAgLy8gRXZlbnQgTGlzdGVuZXIgdXNlZCB3aXRoIHRoZSBjaGFuZ2VDb2xvciBmdW5jdGlvbiB0byBhbGxvdyBKUyB0byBsaXN0ZW4gZm9yIGNsaWNrcyBvbiB0aGUgc3F1YXJlcyBhbmQgY2hhbmdlIHRoZSBjb2xvdXJzIG9uY2UgdHdvIGNsaWNrcyBoYXZlIGJlZW4gcHJlc3NlZC5cblxuICAkbmV4dEJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgbmV4dFJvdW5kKCk7XG4gICAgJHJvdW5kLnRleHQocm91bmRDb3VudGVyKTtcbiAgICBwbGF5Um91bmQoKTtcbiAgfSk7XG4gIC8vIEV2ZW50IExpc3RlbmVyIHVzZWQgdG8gaW5pdGlhdGUgdGhlIG5leHQgcm91bmQgb2YgdGhlIGdhbWUuIEVtcHRpZXMgdGhlIHNodWZmbGVkQXJyYXksIHJ1bnMgdGhlIGZ1bmN0aW9uIG5leHRSb3VuZCwgaW5jcmVhc2UgdGhlIHJvdW5kIGNvdW50ZXIgYW5kIHJlcG9wdWxhdGVzIHRoZSBuZXh0IHJvdW5kIHdpdGggYW4gYXJyYXkuXG5cbiAgJHJlc2V0QnV0dG9uLm9uKCdjbGljaycsICgpID0+IHtcbiAgICByZXNldEdhbWUoKTtcbiAgfSk7XG4gIC8vIEV2ZW50IExpc3RlbmVyIHVzZWQgdG8gcmVzZXQgdGhlIGdhbWUuIEJyaW5ncyB0aGUgZ2FtZSBiYWNrIHRvIHRoZSBpbml0aWFsIHN0YXRlIHdoZW4gbG9hZGVkLiBEb2VzIHRoaXMgYnkgcnVubmluZyB0aGUgcmVzZXRHYW1lIGZ1bmN0aW9uLlxuXG4gICRkaWZmaWN1bHR5Lm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2NsaWNrZWQnKTtcblxuICAgIGlmICgkKGUudGFyZ2V0KS5oYXNDbGFzcygnZWFzeUJ1dHRvbicpKSB7XG4gICAgICBhbGVydCgnRWFzeSBNb2RlIFNlbGVjdGVkJyk7XG4gICAgICByb3VuZENvdW50ZXIrKztcbiAgICAgICRyb3VuZC50ZXh0KHJvdW5kQ291bnRlcik7XG4gICAgICByb3VuZE51bWJlciA9IDE7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICAkZ2FtZUJvYXJkLmFwcGVuZCgnPGRpdiBjbGFzcz1cInNxdWFyZVwiPjwvZGl2PicpO1xuICAgICAgfVxuICAgICAgZ2FtZVN0YXJ0KCk7XG4gICAgICBwbGF5Um91bmQoKTtcbiAgICAgIHN0YXJ0VGltZSgpO1xuICAgICAgY2hhbmdlQ29sb3IoKTtcblxuICAgIH0gZWxzZSBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ2hhcmRCdXR0b24nKSkge1xuICAgICAgYWxlcnQoJ0hhcmQgTW9kZSBTZWxlY3RlZCcpO1xuICAgICAgcm91bmRDb3VudGVyKys7XG4gICAgICAkcm91bmQudGV4dChyb3VuZENvdW50ZXIpO1xuICAgICAgcm91bmROdW1iZXIgPSA1O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgICAgJGdhbWVCb2FyZC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzcXVhcmVcIj48L2Rpdj4nKTtcbiAgICAgIH1cbiAgICAgIGdhbWVTdGFydCgpO1xuICAgICAgcGxheVJvdW5kKCk7XG4gICAgICBzdGFydFRpbWUoKTtcbiAgICAgIGNoYW5nZUNvbG9yKCk7XG4gICAgfVxuICB9KTtcbiAgLy8gRXZlbnQgTGlzdGVuZXIgdXNlZCB0byBzdGFydCB0aGUgZ2FtZS4gRGVwZW5kaW5nIG9uIHdoaWNoIGdhbWUgbW9kZSBpcyBjbGlja2VkLCBpdCBydW5zIHRoZSBzY3JpcHQgZm9yIGVpdGhlciBlYXN5IG9yIGhhcmQuXG5cblxuICBmdW5jdGlvbiB0b2dnbGVTb3VuZCAoKSB7XG4gICAgaWYgKGlzUGxheWluZykge1xuICAgICAgJGJhY2tncm91bmRTb3VuZC5wYXVzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkYmFja2dyb3VuZFNvdW5kLnBsYXkoKTtcbiAgICB9XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHRvZ2dsZSB0aGUgYmFja2dyb3VuZCBtdXNpYyB3aGVuZXZlciB0aGUgdXNlciBwcmVzc2VzIHRoZSBzb3VuZE9uT2ZmIGJ1dHRvbi5cblxuICBmdW5jdGlvbiBnYW1lU3RhcnQgKCkge1xuICAgICRlYXN5QnV0dG9uLmhpZGUoKTtcbiAgICAkaGFyZEJ1dHRvbi5oaWRlKCk7XG4gICAgJHJlc2V0QnV0dG9uLnNob3coKTtcbiAgICAkd2hpY2hSb3VuZC5zaG93KCk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHN0YXJ0IHRoZSBnYW1lLiBJdCBoaWRlcyB0aGUgZGlmZmljdWx0eSBidXR0b25zIGFuZCBzaG93cyB0aGUgZ2FtZSBzcXVhcmVzIGFuZCByZXNldCBidXR0b24uXG5cbiAgZnVuY3Rpb24gY29sb3JzKCkge1xuICAgIHJldHVybiBjb2xvclBhbGV0dGVbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmNvbG9yUGFsZXR0ZS5sZW5ndGgpXTtcbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIHJhbmRvbWFseSBjaG9vc2VzIG9uZSBvZiB0aGUgMzAgY29sb3IgcGFsZXR0ZXMgZm9yIHVzZSBpbiBlYWNoIHJvdW5kLlxuXG4gIGZ1bmN0aW9uIHNlcXVlbmNlTWF0Y2hlcigpIHtcbiAgICBjb25zdCBzZXF1ZW5jZUFycmF5ID0gZWxlbWVudFNlbGVjdG9yW3JvdW5kTnVtYmVyLTFdO1xuICAgIHJldHVybiByb3VuZEFycmF5ID0gc2VxdWVuY2VBcnJheS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIHJhbmRvbUNvbG9yc0FycltpdGVtXTtcbiAgICB9KTtcbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIHVzZXMgdGhlIHJvdW5kTnVtYmVyLCBtaW51cyBvbmUsIHRvIGZpbmQgdGhlIGFycmF5IGluIHRoZSBlbGVtZW50U2VsZWN0b3IgYW5kIG1hcHMganVzdCB0aGUgaW5kaWNlcyBmcm9tIHRoYXQgYXJyYXkgb250byB0aGUgcmFuZG9tIGFycmF5IGNob3NlbiBmcm9tIHRoZSBjb2xvcnMgZnVuY3Rpb24gYW5kIGNhbGxzIGl0IHJvdW5kQXJyYXkgYXMgaXQgd2lsbCBiZSB0aGUgYXJyYXkgdGhhdCB0aGUgdXNlciBuZWVkcyB0byBtYXRjaC5cblxuICBBcnJheS5wcm90b3R5cGUuc2h1ZmZsZSA9IGZ1bmN0aW9uKCkge1xuICAgIGZvcihsZXQgaT0xOyBpPHRoaXMubGVuZ3RoLTE7IGkrKykge1xuICAgICAgc2h1ZmZsZWRBcnJheS5wdXNoKHRoaXNbaV0pO1xuICAgIH1cbiAgICBzaHVmZmxlZEFycmF5LnNvcnQoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gMC41IC0gTWF0aC5yYW5kb20oKTtcbiAgICB9KTtcbiAgICBzaHVmZmxlZEFycmF5LnB1c2godGhpc1t0aGlzLmxlbmd0aC0xXSk7XG4gICAgc2h1ZmZsZWRBcnJheS51bnNoaWZ0KHRoaXNbMF0pO1xuXG4gICAgaWYgKHNodWZmbGVkQXJyYXkubGVuZ3RoID09PSByb3VuZEFycmF5Lmxlbmd0aCAmJiBzaHVmZmxlZEFycmF5LmV2ZXJ5KCh2LGkpPT4gdiA9PT0gcm91bmRBcnJheVtpXSkpIHtcbiAgICAgIHNodWZmbGVkQXJyYXkgPSBbXTtcbiAgICAgIHJvdW5kQXJyYXkuc2h1ZmZsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZWRBcnJheTtcbiAgICB9XG4gIH07XG4gIC8vIFRoaXMgdGFrZXMgdGhlIHJvdW5kQXJyYXksIHJlbW92ZXMgdGhlIGZpcnN0IGFuZCBsYXN0IGluZGljZXMsIGFuZCB0aGVuIHNodWZmbGVzIHRoZSBtaWRkbGUgaW5kaWNlcywgYmVmb3JlIHJlYXR0YWNoaW5nIHRoZSBmaXJzdCBhbmQgbGFzdCBpbmRpY2VzLiBJdCBhbHNvIGhhdmUgYSBkb3VibGUgc2h1ZmZsZSBmdW5jdGlvbiBpbiBjYXNlIHRoZSBmaXJzdCBmdW5jdGlvbiByZXR1cm5zIHRoZSBzYW1lIGFycmF5IGFzIHRoZSByb3VuZEFycmF5LiBTdG9yZXMgdGhlIGFycmF5IGludG8gYSB2YXJpYWJsZSBjYWxsZWQgc2h1ZmZsZWRBcnJheS5cblxuICBmdW5jdGlvbiBwbGF5Um91bmQoKSB7XG4gICAgc2h1ZmZsZWRBcnJheSA9IFtdO1xuICAgIHJvdW5kTnVtYmVyO1xuICAgIGNvbnNvbGUubG9nKCdJbiBwbGF5IHJvdW5kJywgcm91bmROdW1iZXIpO1xuICAgIHJhbmRvbUNvbG9yc0FyciA9IGNvbG9ycygpO1xuICAgIHNlcXVlbmNlTWF0Y2hlcigpO1xuICAgIGNvbnNvbGUubG9nKCdyb3VuZEFycmF5Jywgcm91bmRBcnJheSk7XG4gICAgcm91bmRBcnJheS5zaHVmZmxlKCk7XG4gICAgY29uc29sZS5sb2coJ3NodWZmbGVkQXJyYXknLCBzaHVmZmxlZEFycmF5KTtcblxuICAgICQoJy5zcXVhcmUnKS5lYWNoKGZ1bmN0aW9uKGlkeCwgZWwpIHtcbiAgICAgICQoZWwpLmNzcygnYmFja2dyb3VuZENvbG9yJywgc2h1ZmZsZWRBcnJheVtpZHhdKTtcbiAgICB9KTtcbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGNvbWJpbmVzIHRoZSBmdW5jdGlvbnMgY29sb3JzLCBzZXF1ZW5jZU1hdGNoZXIgYW5kIHNodWZmbGUuIEl0IGlzIHJ1biBpbiBlYWNoIHJvdW5kLiBPdmVyYWxsLCBpdCBwaWNrcyBhIHJhbmRvbSBhcnJheSBmcm9tIHRoZSBjb2xvclBhbGV0dGUsIG1hcHMgaXQgYWdhaW5zdCB0aGUgc2VxdWVuY2VNYXRjaGVyIHRvIHByb2R1Y2UgdGhlIHJvdW5kQXJyYXksIHdoaWNoIGlzIHRoZW4gc2h1ZmZsZWQgdG8gcHJvZHVjZSB0aGUgc2h1ZmZsZWRBcnJheS4gSXQgdGhlbiBwdXNoZXMgdGhlIEhFWCBjb2xvcnMgZnJvbSB0aGUgc2h1ZmZsZWRBcnJheSBpbnRvIHRoZSBlbXB0eSBkaXZzIGluIHRoZSBIVE1MLlxuXG4gIGZ1bmN0aW9uIHJnYlRvSGV4ICh1c2VyUmdiKSB7XG4gICAgdmFyIHJnYiA9IHVzZXJSZ2IucmVwbGFjZSgvXFxzL2csJycpLm1hdGNoKC9ecmdiYT9cXCgoXFxkKyksKFxcZCspLChcXGQrKS9pKTtcbiAgICByZXR1cm4gKHJnYiAmJiByZ2IubGVuZ3RoID09PSA0KSA/ICcjJyArXG4gICAgKCcwJyArIHBhcnNlSW50KHJnYlsxXSwxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikgK1xuICAgICgnMCcgKyBwYXJzZUludChyZ2JbMl0sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpICtcbiAgICAoJzAnICsgcGFyc2VJbnQocmdiWzNdLDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSA6IHVzZXJSZ2I7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNvbnZlcnQgdGhlIHVzZXJSZ2IgYXJyYXkgd2hpY2ggaXMgcmV0dXJuZWQgYWZ0ZXIgdHdvIGNsaWNrcyBpbnRvIGFuIGFycmF5IG9mIEhFWCBjb2RlcyB0byBiZSBjb21wYXJlZCBhZ2FpbnQgdGhlIHJvdW5kQXJyYXkuIFRoZSBpbnB1dCBmb3JtYXQgaXMgXCJyZ2IociwgZywgYiwpXCIgYW5kIG91dHB1dHMgXCIjSEVYQ09ERVwiLlxuXG4gIGZ1bmN0aW9uIGNoZWNrQ29tcGxldGUgKCkge1xuICAgIGNvbnN0IHVzZXJSZ2IgPSBbXTtcbiAgICAkKCcuc3F1YXJlJykuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgY29uc3QgYmFja2dyb3VuZENvbG91ciA9ICQoZWxlbWVudCkuY3NzKCdiYWNrZ3JvdW5kQ29sb3InKTtcbiAgICAgIHVzZXJSZ2IucHVzaChiYWNrZ3JvdW5kQ29sb3VyKTtcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZygndXNlclJnYicsIHVzZXJSZ2IpO1xuXG4gICAgY29uc3QgdXNlclNvcnRlZEFycmF5ID0gdXNlclJnYi5tYXAocmdiVG9IZXgpO1xuICAgIGNvbnNvbGUubG9nKCd1c2VyU29ydGVkQXJyYXknLCB1c2VyU29ydGVkQXJyYXkpO1xuICAgIGNvbnNvbGUubG9nKCdyb3VuZEFycmF5Jywgcm91bmRBcnJheSk7XG5cbiAgICBpZiAodXNlclNvcnRlZEFycmF5Lmxlbmd0aCA9PT0gcm91bmRBcnJheS5sZW5ndGggJiYgdXNlclNvcnRlZEFycmF5LmV2ZXJ5KCh2LGkpPT4gdiA9PT0gcm91bmRBcnJheVtpXSkpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdJdFxcJ3MgYSBtYXRjaCwgd2VsbCBkb25lJyk7XG4gICAgICAkcGluZ1NvdW5kLnBsYXkoKTtcblxuICAgICAgY29uc29sZS5sb2coJ3JvdW5kQ291bnRlciBiZWZvcmUgYWxlcnRzJywgcm91bmRDb3VudGVyKTtcbiAgICAgIGlmKHJvdW5kQ291bnRlciA+IDQpIHtcbiAgICAgICAgYWxlcnQoJ0dhbWUgY29tcGxldGUnKTtcbiAgICAgICAgZW5kR2FtZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQoJ1JvdW5kIGNvbXBsZXRlLCBwcmVzcyBOZXh0IFJvdW5kIHRvIGNvbnRpbnVlLicpO1xuICAgICAgICAkbmV4dEJ1dHRvbi5zaG93KCk7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ05vdCBxdWl0ZSwgaGF2ZSBhbm90aGVyIGdvJyk7XG4gICAgfVxuICB9XG4gIC8vIFRoaXMgZnVuY3Rpb24gY2hlY2tzIHRvIHNlZSBpZiB0aGUgdXNlciBoYXMgc29ydGVkIHRoZSBhcnJheSB0aGF0IHdhcyBwdXNoZWQgaW50byB0aGUgZGl2cy4gSXQgYmVnaW5zIHdpdGggYW4gZW1wdHkgYXJyYXksIHVzZXJSZ2IsIHdoaWNoIGlzIHBvcHVsYXRlZCB3aXRoIHRoZSByZ2IgY29kZXMgZnJvbSB0aGUgY29sb3JzIHRoYXQgYXJlIGN1cnJlbnRseSBvbiB2aWV3LCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgaW4uIEl0IHRoZW4gY29udmVydHMgdGhlIHJnYiBjb2xvcnMgaW50byBoZXggY29sb3JzIGFuZCBwdXRzIHRoZW0gaW50byBhIG5ldyBhcnJheSBjYWxsZWQgdXNlclNvcnRlZEFycmF5LiBGaW5hbGx5IGl0IGNvbXBhcmVzIHRoZSB1c2VyU29ydGVkQXJyYXkgdG8gdGhlIHJvdW5kQXJyYXkgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGlkZW50aWNhbC4gSWYgdGhleSBhcmUsIGl0IGFsZXJ0cyB0aGUgdXNlciB0aGF0IHRoZSBuZXh0IHJvdW5kIGlzIGF2YWlsYWJsZS4gT3RoZXJ3aXNlLCB0aGUgdXNlciBjb250aW51ZXMgdG8gc29ydCB0aGUgYXJyYXkuXG5cbiAgZnVuY3Rpb24gY2hhbmdlQ29sb3IoZSl7XG4gICAgY29uc3QgaW5kZXggPSAkKGUudGFyZ2V0KS5pbmRleCgnLnNxdWFyZScpO1xuICAgIGNvbnN0IGxlbmd0aCA9ICQoJy5zcXVhcmUnKS5sZW5ndGg7XG4gICAgaWYoaW5kZXggIT09IDAgJiYgaW5kZXggIT09IChsZW5ndGggLSAxKSkge1xuICAgICAgaWYoY291bnQgPT09IDApe1xuICAgICAgICBwcmV2ID0gJCh0aGlzKTtcbiAgICAgICAgcHJldmNvbG9yID0gcHJldi5jc3MoJ2JhY2tncm91bmRDb2xvcicpO1xuICAgICAgfWVsc2UgaWYoY291bnQgPT09IDEpe1xuICAgICAgICBwcmV2LmNzcygnYmFja2dyb3VuZENvbG9yJywgJCh0aGlzKS5jc3MoJ2JhY2tncm91bmRDb2xvcicpKTtcbiAgICAgICAgJCh0aGlzKS5jc3MoJ2JhY2tncm91bmRDb2xvcicsIHByZXZjb2xvcik7XG4gICAgICAgIGNvdW50ID0gLTE7XG4gICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICAgIGNvdW50Kz0xO1xuICAgIH1cbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gc3dpdGNoIHRoZSBjb2xvcnMgd2l0aGluIGRpdi4gT25seSBvbmNlIHRoZSB1c2VyIGhhcyBjbGlja2VkIG9uIHR3byBzZXBlcmF0ZSBkaXZzIHdpbGwgdGhlIGJhY2tncm91bmQgY29sb3JzIGNoYW5nZS4gSXQgYWxzbyBpbmNsdWRlcyB0aGUgY2hlY2tDb21wbGV0ZSBmdW5jdGlvbiBzbyB0aGF0IG9uY2UgdGhlIGNoYW5nZSBoYXMgYmVlbiBtYWRlLCBpdCBjYW4gY2hlY2sgd2hldGhlciBpdCBpcyBjb3JyZWN0IG9yIG5vdC5cblxuICBmdW5jdGlvbiBuZXh0Um91bmQgKCkge1xuICAgIHJvdW5kQ291bnRlciArKztcbiAgICByb3VuZE51bWJlciArKztcbiAgICAkZ2FtZUJvYXJkLmFwcGVuZCgnPGRpdiBjbGFzcz1cInNxdWFyZVwiPjwvZGl2PicpO1xuICAgICRuZXh0QnV0dG9uLmhpZGUoKTtcbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgd2hlbiB0aGUgbmV4dEJ1dHRvbiBpcyBjbGlja2VkLiBUaGUgbmV4dEJ1dHRvbiBvbmx5IGFwcGVhcnMgYWZ0ZXIgdGhlIHVzZXIgaGFzIGNvcnJlY3RseSBzb3J0ZWQgdGhlIGFycmF5LCBhbmQgaXMgdXNlZCB0byBtb3ZlIHRvIHRoZSBuZXh0IHJvdW5kLiBJdCBoaWRlcyBvbmNlIGl0IGlzIHByZXNzZWQgc28gdGhlIHVzZXIgY2Fubm90IHNraXAgcm91bmRzLlxuXG4gIGZ1bmN0aW9uIHJlc2V0R2FtZSgpIHtcbiAgICByb3VuZENvdW50ZXIgPSAwO1xuICAgIHJvdW5kTnVtYmVyID0gbnVsbDtcbiAgICAkcmVzZXRCdXR0b24uaGlkZSgpO1xuICAgICRuZXh0QnV0dG9uLmhpZGUoKTtcbiAgICAkKCcuc3F1YXJlJykucmVtb3ZlKCk7XG4gICAgJHdoaWNoUm91bmQuaGlkZSgpO1xuICAgICRlYXN5QnV0dG9uLnNob3coKTtcbiAgICAkaGFyZEJ1dHRvbi5zaG93KCk7XG4gICAgbGV0IHJvdW5kQXJyYXkgPSBudWxsO1xuICAgIGxldCByYW5kb21Db2xvcnNBcnIgPSBudWxsO1xuICAgIGxldCBzaHVmZmxlZEFycmF5ID0gW107XG4gICAgY29uc29sZS5sb2coc2h1ZmZsZWRBcnJheSk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlc2V0IHRoZSBnYW1lLiBJdCBicmluZ3MgdGhlIGdhbWUgYmFjayB0byB0aGUgb3JpZ2luYWwgc3RhdGUgYW5kIHN0b3BzIGFueSB0aW1lcnMgdGhhdCBtaWdodCBoYXZlIGJlZW4gcnVubmluZy5cblxuICBmdW5jdGlvbiBlbmRHYW1lICgpIHtcbiAgICBlbmRUaW1lKCk7XG4gICAgdGltZURpZmYoKTtcbiAgICBhbGVydChgR2FtZSBDb21wbGV0ZSEgWW91IGZpbmlzaGVkIHdpdGggYSB0aW1lIG9mICR7dXNlclRpbWV9YCk7XG4gICAgdXBkYXRlVGltZSgpO1xuICAgIHJlc2V0R2FtZSgpO1xuICB9XG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBlbmQgdGhlIGdhbWUgdXBvbiBjb21wbGV0aW9uIG9mIHRoZSBmaWZ0aCByb3VuZC4gSXQgdGFrZXMgYSBzZWNvbmQgdGltZSwgY29udmVydHMgaXQgdG8gc2Vjb25kcywgYW5kIHRoZW4gYWxlcnRzIHRoZSB1c2VyIHRvIHRoZWlyIGdhbWUgdGltZS4gSXQgYWxzbyB1cGRhdGVzIHRoZSBxdWlja2VzdCB0aW1lIGFuZCBhbGVydHMgdGhlIHVzZXIgaWYgdGhleSBzZXQgYSBuZXcgcXVpY2tlc3QgdGltZSBvciBub3QuIEZpbmFsbHksIGl0IGJyaW5ncyB0aGUgZ2FtZSBiYWNrIGludG8gdGhlIHN0YXJ0IHN0YXRlLlxuXG4gIGZ1bmN0aW9uIHN0YXJ0VGltZSgpIHtcbiAgICB0aW1lMSA9IG5ldyBEYXRlKCk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNhcHR1cmUgdGhlIHRpbWUgYXQgd2hpY2ggdGhlIHVzZXIgYmVnYW4gdGhlIGdhbWUuXG5cbiAgZnVuY3Rpb24gZW5kVGltZSgpIHtcbiAgICB0aW1lMiA9IG5ldyBEYXRlKCk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNhcHR1cmUgdGhlIHRpbWUgYXQgd2hpY2ggdGhlIHVzZXIgY29tcGxldGVkIHRoZSBnYW1lLlxuXG4gIGZ1bmN0aW9uIHRpbWVEaWZmKCkge1xuICAgIHVzZXJUaW1lID0gKHRpbWUyIC0gdGltZTEpLzEwMDA7XG4gIH1cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gd29yayBvdXQgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgc3RhcnQgb2YgdGhlIGdhbWUgYW5kIHRoZSBlbmQgb2YgdGhlIGdhbWUgYW5kIGNvbnZlcnQgdGhlIHRpbWUgaW50byBzZWNvbmRzLlxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVRpbWUgKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKGAke3F1aWNrZXN0VGltZX0gaXMgdGhlIHRpbWUgdG8gYmVhdCBidXQgdGhlIHVzZXIgZ290ICR7dXNlclRpbWV9YCk7XG4gICAgaWYgKHVzZXJUaW1lIDwgcXVpY2tlc3RUaW1lKSB7XG4gICAgICBhbGVydChgQ29uZ3JhdHVsYXRpb25zLCB5b3UndmUgc2V0IHRoZSBuZXcgcXVpY2tlc3QgdGltZSFgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoYFVuZm9ydHVuYXRlbHksIHlvdSB3ZXJlbid0IHF1aXRlIGZhc3QgZW5vdWdodCB0byBzZXQgYSBuZXcgcXVpY2sgdGltZS5gKTtcbiAgICB9XG4gICAgcXVpY2tlc3RUaW1lID0gKHVzZXJUaW1lIDwgcXVpY2tlc3RUaW1lKSA/IHVzZXJUaW1lIDogcXVpY2tlc3RUaW1lO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdxdWlja2VzdFRpbWUnLCBxdWlja2VzdFRpbWUpO1xuICAgIHJldHVybiBxdWlja2VzdFRpbWU7XG4gIH1cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY2hlY2sgd2hldGhlciB0aGUgZ2FtZSB0aW1lIGlzIHF1aWNrZXIgdGhhbiB0aGUgY3VycmVudCBxdWlja2VzdCB0aW1lLiBJdCBhbGVydHMgdGhlIHVzZXIgd2hldGhlciB0aGV5IGhhdmUgc2V0IGEgbmV3IHF1aWNrIHRpbWUgb3Igbm90LCBhbmQgaWYgdGhlcmUgaXMgYSBuZXcgcXVpY2sgdGltZSwgaXQgdXBkYXRlcyB0aGUgbG9jYWwgc3RvcmFnZSB3aXRoIHRoZSBuZXcgcXVpY2sgdGltZS5cblxufSk7XG4iXX0=
