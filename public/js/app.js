"use strict";$(function(){function e(){p.hide(),m.hide(),y.show(),w.show()}function a(){return A[Math.floor(Math.random()*A.length)]}function c(){var e=B[N-1];return T=e.map(function(e){return Y[e]})}function t(){console.log("In play round",N),Y=a(),c(),console.log("roundArray",T),T.shuffle(),console.log("shuffledArray",G),$(".square").each(function(e,a){$(a).css("backgroundColor",G[e])})}function d(e){var a=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return a&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):e}function o(){var e=[];$(".square").each(function(a,c){var t=$(c).css("backgroundColor");e.push(t)}),console.log("userRgb",e);var a=e.map(d);console.log("userSortedArray",a),console.log("roundArray",T),a.length===T.length&&a.every(function(e,a){return e===T[a]})?(console.log("It's a match, well done"),q.play(),console.log("roundCounter before alerts",R),R>4?(alert("Game complete"),r()):(alert("Round complete, press Next Round to continue."),v.show())):console.log("Not quite, have another go")}function b(e){var a=$(e.target).index(".square"),c=$(".square").length;0!==a&&a!==c-1&&(0===U?(H=$(this),J=H.css("backgroundColor")):1===U&&(H.css("backgroundColor",$(this).css("backgroundColor")),$(this).css("backgroundColor",J),U=-1,o()),U+=1)}function n(){R++,N++,h.append('<div class="square"></div>'),v.hide()}function f(){R=0,N=null,y.hide(),v.hide(),M.hide(),w.hide(),p.show(),m.show()}function r(){l(),s(),alert("Game Complete! You finished with a time of "+x),i(),f()}function u(){I=new Date}function l(){S=new Date}function s(){x=(S-I)/1e3}function i(){return x<j?alert("Congratulations, you've set the new quickest time!"):alert("Unfortunately, you weren't quite fast enought to set a new quick time."),j=x<j?x:j,localStorage.setItem("quickestTime",j),j}console.log("Igor, JavaScript' alive!");var h=$(".gameBoard"),g=$(".difficulty"),p=$(".easyButton"),m=$(".hardButton"),y=$(".resetButton"),v=$(".nextButton"),k=$(".quickTime"),w=$(".roundDisplay"),q=$("audio")[0],C=$("#backgroundSound"),I=null,S=null,x=null,A=[["#3db5f9","#48a8e8","#539ad7","#5e8dc6","#697fb5","#7472a4","#7e6493","#895782","#944a71","#9f3c60","#aa2f4f","#b5213e","#c0142d"],["#44f267","#4bdf68","#51cd69","#58ba6a","#5ea76b","#65956c","#6b826d","#726f6e","#795d6f","#7f4a70","#863771","#8c2572","#931273"],["#553e13","#5a3c1c","#5f3a25","#65382f","#6a3638","#6f3441","#74324b","#7a3054","#7f2e5d","#842c66","#8a2a6f","#8f2879","#942682"],["#148ea9","#278faa","#3a90ab","#4d90ab","#6091ac","#7392ad","#8692ae","#9993ae","#ac94af","#bf95b0","#d295b1","#e596b1","#f897b2"],["#493582","#524586","#5b568b","#63668f","#6c7693","#758798","#7e979c","#86a7a0","#8fb8a5","#98c8a9","#a1d8ad","#a9e9b2","#b2f9b6"],["#6746f2","#7241e3","#7d3bd4","#8735c5","#9230b6","#9d2ba7","#a72597","#b21f88","#bd1a79","#c8156a","#d30f5b","#dd094c","#e8043d"],["#23184c","#321e4c","#40244d","#4f2a4d","#5e2f4d","#6c354d","#7b3b4e","#8a414e","#98474e","#a74d4e","#b6524e","#c4584f","#d35e4f"],["#78a0d8","#7ca1cd","#80a2c2","#84a4b7","#89a5ad","#8da6a2","#91a797","#95a98c","#99aa81","#9cab77","#a2ad6c","#a6ae61","#aaaf56"],["#1fe876","#29e268","#34dc60","#3ed658","#49d051","#53ca49","#5ec441","#68bd39","#72b731","#7db12a","#87ab22","#92a51a","#9c9f12"],["#3f4887","#4c4885","#5a4884","#674982","#754981","#82497f","#904a7e","#9d4a7c","#aa4a7a","#b84a79","#c54b77","#d34b76","#e04b74"],["#1a57e8","#255dd6","#3062c4","#3b68b3","#456da1","#50738f","#5b787d","#667e6b","#718459","#7b8948","#868f36","#919424","#929a12"],["#05a83e","#18ad4e","#2bb35e","#3fb86e","#52bd7e","#65c28e","#78c79e","#8ccdaf","#9fd2bf","#b2d7cf","#c5dddf","#d9e2ef","#ece7ff"],["#2fded8","#3ae0ca","#45e2bb","#50e4ad","#5be69f","#66e890","#71ea82","#7beb74","#86ed65","#91ef57","#9cf149","#a7f33a","#b2f52c"],["#462e75","#523d73","#5d4d70","#695c6e","#746b6c","#807b69","#8b8a67","#979965","#a3a962","#aeb860","#bac75e","#c5d75b","#d1e659"],["#5ddac3","#69d3a7","#76cc9a","#82c48e","#8fbd81","#9bb674","#a7af68","#b4a85b","#c0a14f","#cd9a42","#d99236","#c68b2a","#f2841d"],["#052e3d","#123c4c","#20495c","#2d576b","#3b647a","#48728a","#558099","#638da8","#709bb8","#7ea8c7","#8bb6d6","#99c3e6","#a6d1f5"],["#2c08ba","#380baf","#440ea3","#501298","#5c158d","#661881","#741b76","#801e6b","#8c215f","#982554","#a42849","#b02b3d","#bc2e32"],["#06bf79","#12b37d","#1fa880","#2b9c84","#389187","#44858b","#517a8e","#5d6e91","#696295","#765798","#824b9c","#8f40a0","#9b34a3"],["#3d770e","#4a8214","#578e1b","#649921","#72a427","#7fb02d","#8cbb34","#99c63a","#a6d240","#b4dd46","#c1e84d","#cef435","#dbff59"],["#5ca10e","#679b16","#72941d","#7d8e25","#88872c","#938134","#9e7a3b","#a87443","#b36d4b","#be6752","#c9605a","#d45a61","#df5369"],["#7bc9e5","#82c5d5","#8ac2c6","#91beb7","#98bba7","#9fb797","#a7b488","#aeb078","#b5ac69","#bca95a","#c4a54a","#cba32b","#d29e2b"],["#71d72f","#7bc82e","#85b92c","#8faa2b","#999b2a","#a38c28","#ad7d27","#b66d26","#c05e24","#ca4f23","#d44022","#de3120","#e8221f"],["#d5870b","#c58514","#b5821d","#a58026","#957e2f","#857b38","#747941","#647749","#547452","#44725b","#347064","#246d6d","#146b76"],["#f23f8e","#e4408d","#d6418b","#c8438a","#ba4489","#ac4588","#9e4787","#8f4885","#814984","#734a83","#654b81","#574d80","#494e7f"],["#dab2f6","#cfaae2","#c4a2ce","#b99bb9","#ae93a5","#a38b91","#98837d","#8e7b68","#837354","#786b40","#6d642b","#625c17","#575403"],["#da87ce","#d28dc0","#ca93b2","#c299a4","#ba9f96","#b29588","#abab7a","#93b26b","#9bb85d","#93be4f","#8bc441","#83ca33","#7bd025"],["#f89951","#ed915b","#e28a66","#d78270","#cc7a7a","#c17285","#b66b8f","#ab6399","#a05ba4","#9553ae","#8a4bb8","#7f44c3","#743ccd"],["#f5d2bf","#e6c3c1","#d7b3c4","#c8a4c7","#ba94c9","#ab84cb","#9c75ce","#8d65d1","#7e56d3","#6f47d5","#6137d8","#5228da","#4318dd"],["#8abc18","#81b32a","#79ab3b","#70a24b","#67995f","#5f9171","#568882","#4d7f94","#4577a6","#3c6eb8","#3365ca","#2b5ddb","#2254ed"],["#b6c506","#abb915","#a1ae24","#96a233","#8b9642","#818a51","#767e61","#6b7370","#61677f","#565b8e","#4b4f9d","#4144ac","#3638bb"]],B=[[0,3,6,9,12],[0,3,5,7,9,12],[0,1,3,6,9,11,12],[0,1,3,5,7,9,11,12],[0,1,3,4,6,8,9,11,12],[0,1,2,4,5,7,8,10,11,12],[0,1,2,3,5,6,7,9,10,11,12],[0,1,2,3,4,5,7,8,9,10,11,12],[0,1,2,3,4,5,6,7,8,9,10,11,12]],R=0,N=null,D=$(".round"),M=$(".square"),T=null,Y=null,G=[],H=void 0,J=null,U=0,j=localStorage.getItem("quickestTime")||45;k.text(j);C.onplaying=function(){isplaying=!0},C.onpause=function(){isplaying=!1},h.on("click",".square",b),v.on("click",function(){G=[],n(),D.text(R),t()}),y.on("click",function(){f()}),g.on("click",function(a){if(console.log("clicked"),$(a.target).hasClass("easyButton"))alert("You're about to start easy mode. Instructions: Simply move the blocks in the middle of the palette so that they create the correct gradient between the two end colours. After you complete each round, press the Next Round button to continue to the following round. Hardly rocket science!"),R++,D.text(R),N=1,e(),t(),u(),b();else if($(a.target).hasClass("hardButton")){alert("You're about to start hard mode. Instructions: Simply move the blocks in the middle of the palette so that they create the correct gradient between the two end colours. After you complete each round, press the Next Round button to continue to the following round.  Hardly rocket science!"),R++,D.text(R),N=5;for(var c=0;c<4;c++)h.append('<div class="square"></div>');e(),t(),u(),b()}}),Array.prototype.shuffle=function(){for(var e=1;e<this.length-1;e++)G.push(this[e]);if(G.sort(function(){return.5-Math.random()}),G.push(this[this.length-1]),G.unshift(this[0]),G.length!==T.length||!G.every(function(e,a){return e===T[a]}))return G;G=[],T.shuffle()}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZ2FtZVN0YXJ0IiwiJGVhc3lCdXR0b24iLCJwbGF5Um91bmQiLCJyb3VuZE51bWJlciIsImNvbnNvbGUiLCJzaG93IiwicmFuZG9tQ29sb3JzQXJyIiwiY29sb3JQYWxldHRlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwic2VxdWVuY2VNYXRjaGVyIiwic2VxdWVuY2VBcnJheSIsImVsZW1lbnRTZWxlY3RvciIsInJvdW5kQXJyYXkiLCJtYXAiLCJpdGVtIiwicmdiVG9IZXgiLCJhbGVydCIsImVuZEdhbWUiLCIkbmV4dEJ1dHRvbiIsImxvZyIsInNodWZmbGVkQXJyYXkiLCJlYWNoIiwiaWR4IiwiZWwiLCJjc3MiLCJpbmRleCIsInRhcmdldCIsInJlcGxhY2UiLCJtYXRjaCIsInJnYiIsImNvdW50IiwidG9TdHJpbmciLCJzbGljZSIsInByZXYiLCJwcmV2Y29sb3IiLCJ1c2VyUmdiIiwiY2hlY2tDb21wbGV0ZSIsImVsZW1lbnQiLCJwdXNoIiwiYmFja2dyb3VuZENvbG91ciIsInVzZXJTb3J0ZWRBcnJheSIsInJvdW5kQ291bnRlciIsImV2ZXJ5IiwidiIsImkiLCIkcGluZ1NvdW5kIiwicGxheSIsInJlc2V0R2FtZSIsIiRyZXNldEJ1dHRvbiIsIiRnYW1lU3F1YXJlcyIsIiR3aGljaFJvdW5kIiwiZSIsImVuZFRpbWUiLCJ0aW1lRGlmZiIsInVwZGF0ZVRpbWUiLCJ0aGlzIiwic3RhcnRUaW1lIiwidGltZTEiLCJEYXRlIiwibmV4dFJvdW5kIiwidXNlclRpbWUiLCIkZ2FtZUJvYXJkIiwiYXBwZW5kIiwiaGlkZSIsInF1aWNrZXN0VGltZSIsImxvY2FsU3RvcmFnZSIsIiRoYXJkQnV0dG9uIiwidGltZTIiLCJzZXRJdGVtIiwiJGRpZmZpY3VsdHkiLCIkcXVpY2tUaW1lIiwiJGJhY2tncm91bmRTb3VuZCIsImdldEl0ZW0iLCJ0ZXh0IiwiaXNQbGF5aW5nIiwidG9nZ2xlUGxheSIsInBhdXNlIiwib25wbGF5aW5nIiwiaXNwbGF5aW5nIiwib24iLCIkcm91bmQiLCJvbnBhdXNlIiwiY2hhbmdlQ29sb3IiLCJBcnJheSIsInNvcnQiLCJoYXNDbGFzcyIsInVuc2hpZnQiLCJwcm90b3R5cGUiLCJzaHVmZmxlIl0sIm1hcHBpbmdzIjoiWUFDQUEsR0FBRSxXQTRJQSxRQUFTQyxLQXdDVEMsRUFBU0MsT0FDUEMsRUFBQUEsT0FDQUMsRUFBWUMsT0FDWkMsRUFBQUEsT0FJQUYsUUFBQUEsS0F0Q0EsTUFBT0csR0FBYUMsS0FBS0MsTUFBTUQsS0FBS0UsU0FBU0gsRUFBYUksU0EyQzNELFFBQUFDLEtBQ0QsR0FBQUMsR0FBQUMsRUFBQVgsRUFBQSxFQXRDRSxPQUFPWSxHQUFhRixFQUFjRyxJQUFJLFNBQVNDLEdBd0NqRCxNQUFTQyxHQUFtQkQsS0F5QnhCYixRQUFBQSxLQUVFZSxRQUFBQSxJQUFNLGdCQUFOaEIsR0FDQWlCLEVBQUFBLElBQ0RSLElBQ0NPLFFBQUFBLElBQU0sYUFBQUosR0FDTk0sRUFBQUEsVUFDRGpCLFFBQUFrQixJQUFBLGdCQUFBQyxHQUdEbkIsRUFBQUEsV0FBQW9CLEtBQVksU0FBQUMsRUFBQUMsR0FDYjNCLEVBQUEyQixHQUFBQyxJQUFBLGtCQUFBSixFQUFBRSxNQUtELFFBQU1HLEdBQVlDLEdBQ2xCLEdBQU1sQixHQUFBQSxFQUFXbUIsUUFBV25CLE1BQTVCLElBQUFvQixNQUFBLDZCQUNBLE9BQUdILElBQTBCakIsSUFBMUJxQixFQUFlSixPQUFXakIsS0FDM0IsSUFBR3NCLFNBQVVELEVBQUUsR0FBQSxJQUFBRSxTQUFBLEtBQUFDLE9BQUEsSUFDYkMsSUFBQUEsU0FBU0osRUFBVCxHQUFBLElBQUFFLFNBQUEsS0FBQUMsT0FBQSxJQUNBRSxJQUFBQSxTQUFZRCxFQUFBQSxHQUFLVCxJQUFJTyxTQUFBLEtBQUFDLE9BQXJCLEdBQUFHLEVBSUFMLFFBQUFBLEtBQ0FNLEdBQUFBLEtBQ0R4QyxHQUFBLFdBQUF5QixLQUFBLFNBQUFJLEVBQUFZLEdBQ0RQLEdBQUFB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LFVBQUosVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUNBLFVBQUl6QyxVQUFKLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFhSixVQUFiLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFJcUQsVUFBaUIsVUFBckIsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFJckMsVUFBSixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQ0EsVUFBSVQsVUFBa0IsVUFBdEIsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFJaUIsVUFBSixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQ0EsVUFBSWEsVUFBSixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQUEsVUFBVUMsVUFBVixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFlBQ0EsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsWUFDQSxVQUFJOEIsVUFBZUMsVUFBYU8sVUFBUSxVQUFyQixVQUFuQixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUNBRixVQUFXRyxVQUFLVCxVQUFoQixVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQUNBLFVBQUlVLFVBQUosVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxZQXRDRyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsVUFBVyxV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a0IsR0FDZGxCLEVBQWNrRSxDQXhDWixLQUFLLEdBQUkxQyxHQUFJLEVBQUdBLEVBQUksRUFBR0EsSUEwQ3JCeEIsRUFBQUEsT0FBY1osNkJBQWxCWCxLQUNFdUIsSUFDQVIsSUFGRnNFLE9BVkZDLE1BQU1JLFVBQVVDLFFBQVUsV0EyQzFCLElBQUEsR0FBU3BELEdBQUFBLEVBQUFBLEVBQUFBLEtBQVQ1QixPQUEwQixFQUFBb0MsSUFDeEJ4QixFQUFBa0IsS0FBQWlCLEtBQUFYLEdBUUEzQyxJQU5FbUIsRUFBTW1CLEtBQUFBLFdBQ05KLE1BQUFBLEdBQWFJLEtBQUFBLFdBRWZ0QyxFQUFZcUMsS0FBQWlCLEtBQVdwQixLQUFBQSxPQUF2QixJQXpDQWYsRUFBY2tFLFFBQVEvQixLQUFLLElBNEMzQnRELEVBQVlPLFNBQVpJLEVBQStCNEIsU0FBL0JwQixFQUFBc0IsTUFBQSxTQUFBQyxFQUFBQyxHQUFBLE1BQUFELEtBQUEvQixFQUFBZ0MsS0FHMEUsTUFBUUQsRUFGbEYxQyxNQXpDRVcsRUFBVzRFIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuJCgoKSA9PiB7XG5cbiAgY29uc29sZS5sb2coJ0lnb3IsIEphdmFTY3JpcHRcXCcgYWxpdmUhJyk7XG5cbiAgY29uc3QgJGdhbWVCb2FyZCA9ICQoJy5nYW1lQm9hcmQnKTtcbiAgY29uc3QgJGRpZmZpY3VsdHkgPSAkKCcuZGlmZmljdWx0eScpO1xuICBjb25zdCAkZWFzeUJ1dHRvbiA9ICQoJy5lYXN5QnV0dG9uJyk7XG4gIGNvbnN0ICRoYXJkQnV0dG9uID0gJCgnLmhhcmRCdXR0b24nKTtcbiAgY29uc3QgJHJlc2V0QnV0dG9uID0gJCgnLnJlc2V0QnV0dG9uJyk7XG4gIGNvbnN0ICRuZXh0QnV0dG9uID0gJCgnLm5leHRCdXR0b24nKTtcbiAgY29uc3QgJHF1aWNrVGltZSA9ICQoJy5xdWlja1RpbWUnKTtcbiAgY29uc3QgJHdoaWNoUm91bmQgPSAkKCcucm91bmREaXNwbGF5Jyk7XG4gIC8vIGNvbnN0ICRzb3VuZCA9ICQoJy5zb3VuZE9uT2ZmJyk7XG4gIGNvbnN0ICRwaW5nU291bmQgPSAkKCdhdWRpbycpWzBdO1xuICBjb25zdCAkYmFja2dyb3VuZFNvdW5kID0gJCgnI2JhY2tncm91bmRTb3VuZCcpO1xuICBsZXQgdGltZTEgPSBudWxsO1xuICBsZXQgdGltZTIgPSBudWxsO1xuICBsZXQgdXNlclRpbWUgPSBudWxsO1xuXG4gIGNvbnN0IGNvbG9yUGFsZXR0ZSA9IFtcbiAgICBbJyMzZGI1ZjknLCAnIzQ4YThlOCcsICcjNTM5YWQ3JywgJyM1ZThkYzYnLCAnIzY5N2ZiNScsICcjNzQ3MmE0JywgJyM3ZTY0OTMnLCAnIzg5NTc4MicsICcjOTQ0YTcxJywgJyM5ZjNjNjAnLCAnI2FhMmY0ZicsICcjYjUyMTNlJywgJyNjMDE0MmQnXSxcbiAgICBbJyM0NGYyNjcnLCAnIzRiZGY2OCcsICcjNTFjZDY5JywgJyM1OGJhNmEnLCAnIzVlYTc2YicsICcjNjU5NTZjJywgJyM2YjgyNmQnLCAnIzcyNmY2ZScsICcjNzk1ZDZmJywgJyM3ZjRhNzAnLCAnIzg2Mzc3MScsICcjOGMyNTcyJywgJyM5MzEyNzMnXSxcbiAgICBbJyM1NTNlMTMnLCAnIzVhM2MxYycsICcjNWYzYTI1JywgJyM2NTM4MmYnLCAnIzZhMzYzOCcsICcjNmYzNDQxJywgJyM3NDMyNGInLCAnIzdhMzA1NCcsICcjN2YyZTVkJywgJyM4NDJjNjYnLCAnIzhhMmE2ZicsICcjOGYyODc5JywgJyM5NDI2ODInXSxcbiAgICBbJyMxNDhlYTknLCAnIzI3OGZhYScsICcjM2E5MGFiJywgJyM0ZDkwYWInLCAnIzYwOTFhYycsICcjNzM5MmFkJywgJyM4NjkyYWUnLCAnIzk5OTNhZScsICcjYWM5NGFmJywgJyNiZjk1YjAnLCAnI2QyOTViMScsICcjZTU5NmIxJywgJyNmODk3YjInXSxcbiAgICBbJyM0OTM1ODInLCAnIzUyNDU4NicsICcjNWI1NjhiJywgJyM2MzY2OGYnLCAnIzZjNzY5MycsICcjNzU4Nzk4JywgJyM3ZTk3OWMnLCAnIzg2YTdhMCcsICcjOGZiOGE1JywgJyM5OGM4YTknLCAnI2ExZDhhZCcsICcjYTllOWIyJywgJyNiMmY5YjYnXSxcbiAgICBbJyM2NzQ2ZjInLCAnIzcyNDFlMycsICcjN2QzYmQ0JywgJyM4NzM1YzUnLCAnIzkyMzBiNicsICcjOWQyYmE3JywgJyNhNzI1OTcnLCAnI2IyMWY4OCcsICcjYmQxYTc5JywgJyNjODE1NmEnLCAnI2QzMGY1YicsICcjZGQwOTRjJywgJyNlODA0M2QnXSxcbiAgICBbJyMyMzE4NGMnLCAnIzMyMWU0YycsICcjNDAyNDRkJywgJyM0ZjJhNGQnLCAnIzVlMmY0ZCcsICcjNmMzNTRkJywgJyM3YjNiNGUnLCAnIzhhNDE0ZScsICcjOTg0NzRlJywgJyNhNzRkNGUnLCAnI2I2NTI0ZScsICcjYzQ1ODRmJywgJyNkMzVlNGYnXSxcbiAgICBbJyM3OGEwZDgnLCAnIzdjYTFjZCcsICcjODBhMmMyJywgJyM4NGE0YjcnLCAnIzg5YTVhZCcsICcjOGRhNmEyJywgJyM5MWE3OTcnLCAnIzk1YTk4YycsICcjOTlhYTgxJywgJyM5Y2FiNzcnLCAnI2EyYWQ2YycsICcjYTZhZTYxJywgJyNhYWFmNTYnXSxcbiAgICBbJyMxZmU4NzYnLCAnIzI5ZTI2OCcsICcjMzRkYzYwJywgJyMzZWQ2NTgnLCAnIzQ5ZDA1MScsICcjNTNjYTQ5JywgJyM1ZWM0NDEnLCAnIzY4YmQzOScsICcjNzJiNzMxJywgJyM3ZGIxMmEnLCAnIzg3YWIyMicsICcjOTJhNTFhJywgJyM5YzlmMTInXSxcbiAgICBbJyMzZjQ4ODcnLCAnIzRjNDg4NScsICcjNWE0ODg0JywgJyM2NzQ5ODInLCAnIzc1NDk4MScsICcjODI0OTdmJywgJyM5MDRhN2UnLCAnIzlkNGE3YycsICcjYWE0YTdhJywgJyNiODRhNzknLCAnI2M1NGI3NycsICcjZDM0Yjc2JywgJyNlMDRiNzQnXSxcbiAgICBbJyMxYTU3ZTgnLCAnIzI1NWRkNicsICcjMzA2MmM0JywgJyMzYjY4YjMnLCAnIzQ1NmRhMScsICcjNTA3MzhmJywgJyM1Yjc4N2QnLCAnIzY2N2U2YicsICcjNzE4NDU5JywgJyM3Yjg5NDgnLCAnIzg2OGYzNicsICcjOTE5NDI0JywgJyM5MjlhMTInXSxcbiAgICBbJyMwNWE4M2UnLCAnIzE4YWQ0ZScsICcjMmJiMzVlJywgJyMzZmI4NmUnLCAnIzUyYmQ3ZScsICcjNjVjMjhlJywgJyM3OGM3OWUnLCAnIzhjY2RhZicsICcjOWZkMmJmJywgJyNiMmQ3Y2YnLCAnI2M1ZGRkZicsICcjZDllMmVmJywgJyNlY2U3ZmYnXSxcbiAgICBbJyMyZmRlZDgnLCAnIzNhZTBjYScsICcjNDVlMmJiJywgJyM1MGU0YWQnLCAnIzViZTY5ZicsICcjNjZlODkwJywgJyM3MWVhODInLCAnIzdiZWI3NCcsICcjODZlZDY1JywgJyM5MWVmNTcnLCAnIzljZjE0OScsICcjYTdmMzNhJywgJyNiMmY1MmMnXSxcbiAgICBbJyM0NjJlNzUnLCAnIzUyM2Q3MycsICcjNWQ0ZDcwJywgJyM2OTVjNmUnLCAnIzc0NmI2YycsICcjODA3YjY5JywgJyM4YjhhNjcnLCAnIzk3OTk2NScsICcjYTNhOTYyJywgJyNhZWI4NjAnLCAnI2JhYzc1ZScsICcjYzVkNzViJywgJyNkMWU2NTknXSxcbiAgICBbJyM1ZGRhYzMnLCAnIzY5ZDNhNycsICcjNzZjYzlhJywgJyM4MmM0OGUnLCAnIzhmYmQ4MScsICcjOWJiNjc0JywgJyNhN2FmNjgnLCAnI2I0YTg1YicsICcjYzBhMTRmJywgJyNjZDlhNDInLCAnI2Q5OTIzNicsICcjYzY4YjJhJywgJyNmMjg0MWQnXSxcbiAgICBbJyMwNTJlM2QnLCAnIzEyM2M0YycsICcjMjA0OTVjJywgJyMyZDU3NmInLCAnIzNiNjQ3YScsICcjNDg3MjhhJywgJyM1NTgwOTknLCAnIzYzOGRhOCcsICcjNzA5YmI4JywgJyM3ZWE4YzcnLCAnIzhiYjZkNicsICcjOTljM2U2JywgJyNhNmQxZjUnXSxcbiAgICBbJyMyYzA4YmEnLCAnIzM4MGJhZicsICcjNDQwZWEzJywgJyM1MDEyOTgnLCAnIzVjMTU4ZCcsICcjNjYxODgxJywgJyM3NDFiNzYnLCAnIzgwMWU2YicsICcjOGMyMTVmJywgJyM5ODI1NTQnLCAnI2E0Mjg0OScsICcjYjAyYjNkJywgJyNiYzJlMzInXSxcbiAgICBbJyMwNmJmNzknLCAnIzEyYjM3ZCcsICcjMWZhODgwJywgJyMyYjljODQnLCAnIzM4OTE4NycsICcjNDQ4NThiJywgJyM1MTdhOGUnLCAnIzVkNmU5MScsICcjNjk2Mjk1JywgJyM3NjU3OTgnLCAnIzgyNGI5YycsICcjOGY0MGEwJywgJyM5YjM0YTMnXSxcbiAgICBbJyMzZDc3MGUnLCAnIzRhODIxNCcsICcjNTc4ZTFiJywgJyM2NDk5MjEnLCAnIzcyYTQyNycsICcjN2ZiMDJkJywgJyM4Y2JiMzQnLCAnIzk5YzYzYScsICcjYTZkMjQwJywgJyNiNGRkNDYnLCAnI2MxZTg0ZCcsICcjY2VmNDM1JywgJyNkYmZmNTknXSxcbiAgICBbJyM1Y2ExMGUnLCAnIzY3OWIxNicsICcjNzI5NDFkJywgJyM3ZDhlMjUnLCAnIzg4ODcyYycsICcjOTM4MTM0JywgJyM5ZTdhM2InLCAnI2E4NzQ0MycsICcjYjM2ZDRiJywgJyNiZTY3NTInLCAnI2M5NjA1YScsICcjZDQ1YTYxJywgJyNkZjUzNjknXSxcbiAgICBbJyM3YmM5ZTUnLCAnIzgyYzVkNScsICcjOGFjMmM2JywgJyM5MWJlYjcnLCAnIzk4YmJhNycsICcjOWZiNzk3JywgJyNhN2I0ODgnLCAnI2FlYjA3OCcsICcjYjVhYzY5JywgJyNiY2E5NWEnLCAnI2M0YTU0YScsICcjY2JhMzJiJywgJyNkMjllMmInXSxcbiAgICBbJyM3MWQ3MmYnLCAnIzdiYzgyZScsICcjODViOTJjJywgJyM4ZmFhMmInLCAnIzk5OWIyYScsICcjYTM4YzI4JywgJyNhZDdkMjcnLCAnI2I2NmQyNicsICcjYzA1ZTI0JywgJyNjYTRmMjMnLCAnI2Q0NDAyMicsICcjZGUzMTIwJywgJyNlODIyMWYnXSxcbiAgICBbJyNkNTg3MGInLCAnI2M1ODUxNCcsICcjYjU4MjFkJywgJyNhNTgwMjYnLCAnIzk1N2UyZicsICcjODU3YjM4JywgJyM3NDc5NDEnLCAnIzY0Nzc0OScsICcjNTQ3NDUyJywgJyM0NDcyNWInLCAnIzM0NzA2NCcsICcjMjQ2ZDZkJywgJyMxNDZiNzYnXSxcbiAgICBbJyNmMjNmOGUnLCAnI2U0NDA4ZCcsICcjZDY0MThiJywgJyNjODQzOGEnLCAnI2JhNDQ4OScsICcjYWM0NTg4JywgJyM5ZTQ3ODcnLCAnIzhmNDg4NScsICcjODE0OTg0JywgJyM3MzRhODMnLCAnIzY1NGI4MScsICcjNTc0ZDgwJywgJyM0OTRlN2YnXSxcbiAgICBbJyNkYWIyZjYnLCAnI2NmYWFlMicsICcjYzRhMmNlJywgJyNiOTliYjknLCAnI2FlOTNhNScsICcjYTM4YjkxJywgJyM5ODgzN2QnLCAnIzhlN2I2OCcsICcjODM3MzU0JywgJyM3ODZiNDAnLCAnIzZkNjQyYicsICcjNjI1YzE3JywgJyM1NzU0MDMnXSxcbiAgICBbJyNkYTg3Y2UnLCAnI2QyOGRjMCcsICcjY2E5M2IyJywgJyNjMjk5YTQnLCAnI2JhOWY5NicsICcjYjI5NTg4JywgJyNhYmFiN2EnLCAnIzkzYjI2YicsICcjOWJiODVkJywgJyM5M2JlNGYnLCAnIzhiYzQ0MScsICcjODNjYTMzJywgJyM3YmQwMjUnXSxcbiAgICBbJyNmODk5NTEnLCAnI2VkOTE1YicsICcjZTI4YTY2JywgJyNkNzgyNzAnLCAnI2NjN2E3YScsICcjYzE3Mjg1JywgJyNiNjZiOGYnLCAnI2FiNjM5OScsICcjYTA1YmE0JywgJyM5NTUzYWUnLCAnIzhhNGJiOCcsICcjN2Y0NGMzJywgJyM3NDNjY2QnXSxcbiAgICBbJyNmNWQyYmYnLCAnI2U2YzNjMScsICcjZDdiM2M0JywgJyNjOGE0YzcnLCAnI2JhOTRjOScsICcjYWI4NGNiJywgJyM5Yzc1Y2UnLCAnIzhkNjVkMScsICcjN2U1NmQzJywgJyM2ZjQ3ZDUnLCAnIzYxMzdkOCcsICcjNTIyOGRhJywgJyM0MzE4ZGQnXSxcbiAgICBbJyM4YWJjMTgnLCAnIzgxYjMyYScsICcjNzlhYjNiJywgJyM3MGEyNGInLCAnIzY3OTk1ZicsICcjNWY5MTcxJywgJyM1Njg4ODInLCAnIzRkN2Y5NCcsICcjNDU3N2E2JywgJyMzYzZlYjgnLCAnIzMzNjVjYScsICcjMmI1ZGRiJywgJyMyMjU0ZWQnXSxcbiAgICBbJyNiNmM1MDYnLCAnI2FiYjkxNScsICcjYTFhZTI0JywgJyM5NmEyMzMnLCAnIzhiOTY0MicsICcjODE4YTUxJywgJyM3NjdlNjEnLCAnIzZiNzM3MCcsICcjNjE2NzdmJywgJyM1NjViOGUnLCAnIzRiNGY5ZCcsICcjNDE0NGFjJywgJyMzNjM4YmInXVxuICBdO1xuICAvLyBDb250YWlucyAzMCBhcnJheXMsIGVhY2ggd2l0aCAxMyBpdGVtcyBpbiBlYWNoLiBVc2VkIGluIGVhY2ggcm91bmQgdG8gcGljayBhIHJhbmRvbSBhcnJheSB0byBwcm9kdWNlIHRoZSByb3VuZEFycmF5IGFuZCBzaHVmZmxlZEFycmF5LlxuXG4gIGNvbnN0IGVsZW1lbnRTZWxlY3RvciA9IFtcbiAgICBbMCwgMywgNiwgOSwgMTJdLFxuICAgIFswLCAzLCA1LCA3LCA5LCAxMl0sXG4gICAgWzAsIDEsIDMsIDYsIDksIDExLCAxMl0sXG4gICAgWzAsIDEsIDMsIDUsIDcsIDksIDExLCAxMl0sXG4gICAgWzAsIDEsIDMsIDQsIDYsIDgsIDksIDExLCAxMl0sXG4gICAgWzAsIDEsIDIsIDQsIDUsIDcsIDgsIDEwLCAxMSwgMTJdLFxuICAgIFswLCAxLCAyLCAzLCA1LCA2LCA3LCA5LCAxMCwgMTEsIDEyXSxcbiAgICBbMCwgMSwgMiwgMywgNCwgNSwgNywgOCwgOSwgMTAsIDExLCAxMl0sXG4gICAgWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTJdXG4gIF07XG4gIC8vIENvbnRhaW5zIDkgYXJyYXlzIHdpdGggdmFyeWluZyBpbmRpY2VzLCB1c2VkIHRvIGRldGVybWluZSBob3cgbWFueSBpbmRpY2VzIHRvIGRlcGxveSBkZXBlbmRpbmcgdXBvbiB3aGljaCByb3VuZCBhbmQgd2hhdCBnYW1lIG1vZGUuXG5cbiAgbGV0IHJvdW5kQ291bnRlciA9IDA7XG4gIGxldCByb3VuZE51bWJlciA9IG51bGw7XG4gIGxldCAkcm91bmQgPSAkKCcucm91bmQnKTtcbiAgbGV0ICRnYW1lU3F1YXJlcyA9ICQoJy5zcXVhcmUnKTtcbiAgbGV0IHJvdW5kQXJyYXkgPSBudWxsO1xuICBsZXQgcmFuZG9tQ29sb3JzQXJyID0gbnVsbDtcbiAgbGV0IHNodWZmbGVkQXJyYXkgPSBbXTtcbiAgbGV0IHByZXYsIHByZXZjb2xvciA9IG51bGw7XG4gIGxldCBjb3VudCA9IDA7XG4gIGxldCBxdWlja2VzdFRpbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncXVpY2tlc3RUaW1lJykgfHwgNDU7XG4gICRxdWlja1RpbWUudGV4dChxdWlja2VzdFRpbWUpO1xuICBsZXQgaXNQbGF5aW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gdG9nZ2xlUGxheSAoKSB7XG4gICAgaWYgKGlzUGxheWluZykge1xuICAgICAgJGJhY2tncm91bmRTb3VuZC5wYXVzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkYmFja2dyb3VuZFNvdW5kLnBsYXkoKTtcbiAgICB9XG4gIH07XG5cbiAgJGJhY2tncm91bmRTb3VuZC5vbnBsYXlpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgaXNwbGF5aW5nID0gdHJ1ZTtcbiAgfTtcbiAgJGJhY2tncm91bmRTb3VuZC5vbnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICAgIGlzcGxheWluZyA9IGZhbHNlO1xuICB9O1xuXG5cbiAgJGdhbWVCb2FyZC5vbignY2xpY2snLCAnLnNxdWFyZScsIGNoYW5nZUNvbG9yKTtcbiAgLy8gRXZlbnQgTGlzdGVuZXIgdXNlZCB3aXRoIHRoZSBjaGFuZ2VDb2xvciBmdW5jdGlvbiB0byBhbGxvdyBKUyB0byBsaXN0ZW4gZm9yIGNsaWNrcyBvbiB0aGUgc3F1YXJlcyBhbmQgY2hhbmdlIHRoZSBjb2xvdXJzIG9uY2UgdHdvIGNsaWNrcyBoYXZlIGJlZW4gcHJlc3NlZC5cblxuICAkbmV4dEJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgc2h1ZmZsZWRBcnJheSA9IFtdO1xuICAgIG5leHRSb3VuZCgpO1xuICAgICRyb3VuZC50ZXh0KHJvdW5kQ291bnRlcik7XG4gICAgcGxheVJvdW5kKCk7XG4gIH0pO1xuICAvLyBFdmVudCBMaXN0ZW5lciB1c2VkIHRvIGluaXRpYXRlIHRoZSBuZXh0IHJvdW5kIG9mIHRoZSBnYW1lLiBFbXB0aWVzIHRoZSBzaHVmZmxlZEFycmF5LCBydW5zIHRoZSBmdW5jdGlvbiBuZXh0Um91bmQsIGluY3JlYXNlIHRoZSByb3VuZCBjb3VudGVyIGFuZCByZXBvcHVsYXRlcyB0aGUgbmV4dCByb3VuZCB3aXRoIGFuIGFycmF5LlxuXG4gICRyZXNldEJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVzZXRHYW1lKCk7XG4gIH0pO1xuICAvLyBFdmVudCBMaXN0ZW5lciB1c2VkIHRvIHJlc2V0IHRoZSBnYW1lLiBCcmluZ3MgdGhlIGdhbWUgYmFjayB0byB0aGUgaW5pdGlhbCBzdGF0ZSB3aGVuIGxvYWRlZC4gRG9lcyB0aGlzIGJ5IHJ1bm5pbmcgdGhlIHJlc2V0R2FtZSBmdW5jdGlvbi5cblxuICAkZGlmZmljdWx0eS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdjbGlja2VkJyk7XG5cbiAgICBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ2Vhc3lCdXR0b24nKSkge1xuICAgICAgYWxlcnQoJ1lvdVxcJ3JlIGFib3V0IHRvIHN0YXJ0IGVhc3kgbW9kZS4gSW5zdHJ1Y3Rpb25zOiBTaW1wbHkgbW92ZSB0aGUgYmxvY2tzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHBhbGV0dGUgc28gdGhhdCB0aGV5IGNyZWF0ZSB0aGUgY29ycmVjdCBncmFkaWVudCBiZXR3ZWVuIHRoZSB0d28gZW5kIGNvbG91cnMuIEFmdGVyIHlvdSBjb21wbGV0ZSBlYWNoIHJvdW5kLCBwcmVzcyB0aGUgTmV4dCBSb3VuZCBidXR0b24gdG8gY29udGludWUgdG8gdGhlIGZvbGxvd2luZyByb3VuZC4gSGFyZGx5IHJvY2tldCBzY2llbmNlIScpO1xuICAgICAgcm91bmRDb3VudGVyKys7XG4gICAgICAkcm91bmQudGV4dChyb3VuZENvdW50ZXIpO1xuICAgICAgcm91bmROdW1iZXIgPSAxO1xuICAgICAgZ2FtZVN0YXJ0KCk7XG4gICAgICBwbGF5Um91bmQoKTtcbiAgICAgIHN0YXJ0VGltZSgpO1xuICAgICAgY2hhbmdlQ29sb3IoKTtcblxuICAgIH0gZWxzZSBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ2hhcmRCdXR0b24nKSkge1xuICAgICAgYWxlcnQoJ1lvdVxcJ3JlIGFib3V0IHRvIHN0YXJ0IGhhcmQgbW9kZS4gSW5zdHJ1Y3Rpb25zOiBTaW1wbHkgbW92ZSB0aGUgYmxvY2tzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHBhbGV0dGUgc28gdGhhdCB0aGV5IGNyZWF0ZSB0aGUgY29ycmVjdCBncmFkaWVudCBiZXR3ZWVuIHRoZSB0d28gZW5kIGNvbG91cnMuIEFmdGVyIHlvdSBjb21wbGV0ZSBlYWNoIHJvdW5kLCBwcmVzcyB0aGUgTmV4dCBSb3VuZCBidXR0b24gdG8gY29udGludWUgdG8gdGhlIGZvbGxvd2luZyByb3VuZC4gIEhhcmRseSByb2NrZXQgc2NpZW5jZSEnKTtcbiAgICAgIHJvdW5kQ291bnRlcisrO1xuICAgICAgJHJvdW5kLnRleHQocm91bmRDb3VudGVyKTtcbiAgICAgIHJvdW5kTnVtYmVyID0gNTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICRnYW1lQm9hcmQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwic3F1YXJlXCI+PC9kaXY+Jyk7XG4gICAgICB9XG4gICAgICBnYW1lU3RhcnQoKTtcbiAgICAgIHBsYXlSb3VuZCgpO1xuICAgICAgc3RhcnRUaW1lKCk7XG4gICAgICBjaGFuZ2VDb2xvcigpO1xuICAgIH1cbiAgfSk7XG4gIC8vIEV2ZW50IExpc3RlbmVyIHVzZWQgdG8gc3RhcnQgdGhlIGdhbWUuIERlcGVuZGluZyBvbiB3aGljaCBnYW1lIG1vZGUgaXMgY2xpY2tlZCwgaXQgcnVucyB0aGUgc2NyaXB0IGZvciBlaXRoZXIgZWFzeSBvciBoYXJkLlxuXG4gIGZ1bmN0aW9uIGdhbWVTdGFydCAoKSB7XG4gICAgJGVhc3lCdXR0b24uaGlkZSgpO1xuICAgICRoYXJkQnV0dG9uLmhpZGUoKTtcbiAgICAkcmVzZXRCdXR0b24uc2hvdygpO1xuICAgICR3aGljaFJvdW5kLnNob3coKTtcbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gc3RhcnQgdGhlIGdhbWUuIEl0IGhpZGVzIHRoZSBkaWZmaWN1bHR5IGJ1dHRvbnMgYW5kIHNob3dzIHRoZSBnYW1lIHNxdWFyZXMgYW5kIHJlc2V0IGJ1dHRvbi5cblxuICBmdW5jdGlvbiBjb2xvcnMoKSB7XG4gICAgcmV0dXJuIGNvbG9yUGFsZXR0ZVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqY29sb3JQYWxldHRlLmxlbmd0aCldO1xuICB9XG4gIC8vIFRoaXMgZnVuY3Rpb24gcmFuZG9tYWx5IGNob29zZXMgb25lIG9mIHRoZSAzMCBjb2xvciBwYWxldHRlcyBmb3IgdXNlIGluIGVhY2ggcm91bmQuXG5cbiAgZnVuY3Rpb24gc2VxdWVuY2VNYXRjaGVyKCkge1xuICAgIGNvbnN0IHNlcXVlbmNlQXJyYXkgPSBlbGVtZW50U2VsZWN0b3Jbcm91bmROdW1iZXItMV07XG4gICAgcmV0dXJuIHJvdW5kQXJyYXkgPSBzZXF1ZW5jZUFycmF5Lm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICByZXR1cm4gcmFuZG9tQ29sb3JzQXJyW2l0ZW1dO1xuICAgIH0pO1xuICB9XG4gIC8vIFRoaXMgZnVuY3Rpb24gdXNlcyB0aGUgcm91bmROdW1iZXIsIG1pbnVzIG9uZSwgdG8gZmluZCB0aGUgYXJyYXkgaW4gdGhlIGVsZW1lbnRTZWxlY3RvciBhbmQgbWFwcyBqdXN0IHRoZSBpbmRpY2VzIGZyb20gdGhhdCBhcnJheSBvbnRvIHRoZSByYW5kb20gYXJyYXkgY2hvc2VuIGZyb20gdGhlIGNvbG9ycyBmdW5jdGlvbiBhbmQgY2FsbHMgaXQgcm91bmRBcnJheSBhcyBpdCB3aWxsIGJlIHRoZSBhcnJheSB0aGF0IHRoZSB1c2VyIG5lZWRzIHRvIG1hdGNoLlxuXG4gIEFycmF5LnByb3RvdHlwZS5zaHVmZmxlID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKGxldCBpPTE7IGk8dGhpcy5sZW5ndGgtMTsgaSsrKSB7XG4gICAgICBzaHVmZmxlZEFycmF5LnB1c2godGhpc1tpXSk7XG4gICAgfVxuICAgIHNodWZmbGVkQXJyYXkuc29ydChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAwLjUgLSBNYXRoLnJhbmRvbSgpO1xuICAgIH0pO1xuICAgIHNodWZmbGVkQXJyYXkucHVzaCh0aGlzW3RoaXMubGVuZ3RoLTFdKTtcbiAgICBzaHVmZmxlZEFycmF5LnVuc2hpZnQodGhpc1swXSk7XG5cbiAgICBpZiAoc2h1ZmZsZWRBcnJheS5sZW5ndGggPT09IHJvdW5kQXJyYXkubGVuZ3RoICYmIHNodWZmbGVkQXJyYXkuZXZlcnkoKHYsaSk9PiB2ID09PSByb3VuZEFycmF5W2ldKSkge1xuICAgICAgc2h1ZmZsZWRBcnJheSA9IFtdO1xuICAgICAgcm91bmRBcnJheS5zaHVmZmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzaHVmZmxlZEFycmF5O1xuICAgIH1cbiAgfTtcbiAgLy8gVGhpcyB0YWtlcyB0aGUgcm91bmRBcnJheSwgcmVtb3ZlcyB0aGUgZmlyc3QgYW5kIGxhc3QgaW5kaWNlcywgYW5kIHRoZW4gc2h1ZmZsZXMgdGhlIG1pZGRsZSBpbmRpY2VzLCBiZWZvcmUgcmVhdHRhY2hpbmcgdGhlIGZpcnN0IGFuZCBsYXN0IGluZGljZXMuIEl0IGFsc28gaGF2ZSBhIGRvdWJsZSBzaHVmZmxlIGZ1bmN0aW9uIGluIGNhc2UgdGhlIGZpcnN0IGZ1bmN0aW9uIHJldHVybnMgdGhlIHNhbWUgYXJyYXkgYXMgdGhlIHJvdW5kQXJyYXkuIFN0b3JlcyB0aGUgYXJyYXkgaW50byBhIHZhcmlhYmxlIGNhbGxlZCBzaHVmZmxlZEFycmF5LlxuXG4gIGZ1bmN0aW9uIHBsYXlSb3VuZCgpIHtcbiAgICByb3VuZE51bWJlcjtcbiAgICBjb25zb2xlLmxvZygnSW4gcGxheSByb3VuZCcsIHJvdW5kTnVtYmVyKTtcbiAgICByYW5kb21Db2xvcnNBcnIgPSBjb2xvcnMoKTtcbiAgICBzZXF1ZW5jZU1hdGNoZXIoKTtcbiAgICBjb25zb2xlLmxvZygncm91bmRBcnJheScsIHJvdW5kQXJyYXkpO1xuICAgIHJvdW5kQXJyYXkuc2h1ZmZsZSgpO1xuICAgIGNvbnNvbGUubG9nKCdzaHVmZmxlZEFycmF5Jywgc2h1ZmZsZWRBcnJheSk7XG5cbiAgICAkKCcuc3F1YXJlJykuZWFjaChmdW5jdGlvbihpZHgsIGVsKSB7XG4gICAgICAkKGVsKS5jc3MoJ2JhY2tncm91bmRDb2xvcicsIHNodWZmbGVkQXJyYXlbaWR4XSk7XG4gICAgfSk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBjb21iaW5lcyB0aGUgZnVuY3Rpb25zIGNvbG9ycywgc2VxdWVuY2VNYXRjaGVyIGFuZCBzaHVmZmxlLiBJdCBpcyBydW4gaW4gZWFjaCByb3VuZC4gT3ZlcmFsbCwgaXQgcGlja3MgYSByYW5kb20gYXJyYXkgZnJvbSB0aGUgY29sb3JQYWxldHRlLCBtYXBzIGl0IGFnYWluc3QgdGhlIHNlcXVlbmNlTWF0Y2hlciB0byBwcm9kdWNlIHRoZSByb3VuZEFycmF5LCB3aGljaCBpcyB0aGVuIHNodWZmbGVkIHRvIHByb2R1Y2UgdGhlIHNodWZmbGVkQXJyYXkuIEl0IHRoZW4gcHVzaGVzIHRoZSBIRVggY29sb3JzIGZyb20gdGhlIHNodWZmbGVkQXJyYXkgaW50byB0aGUgZW1wdHkgZGl2cyBpbiB0aGUgSFRNTC5cblxuICBmdW5jdGlvbiByZ2JUb0hleCAodXNlclJnYikge1xuICAgIHZhciByZ2IgPSB1c2VyUmdiLnJlcGxhY2UoL1xccy9nLCcnKS5tYXRjaCgvXnJnYmE/XFwoKFxcZCspLChcXGQrKSwoXFxkKykvaSk7XG4gICAgcmV0dXJuIChyZ2IgJiYgcmdiLmxlbmd0aCA9PT0gNCkgPyAnIycgK1xuICAgICgnMCcgKyBwYXJzZUludChyZ2JbMV0sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpICtcbiAgICAoJzAnICsgcGFyc2VJbnQocmdiWzJdLDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSArXG4gICAgKCcwJyArIHBhcnNlSW50KHJnYlszXSwxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikgOiB1c2VyUmdiO1xuICB9XG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjb252ZXJ0IHRoZSB1c2VyUmdiIGFycmF5IHdoaWNoIGlzIHJldHVybmVkIGFmdGVyIHR3byBjbGlja3MgaW50byBhbiBhcnJheSBvZiBIRVggY29kZXMgdG8gYmUgY29tcGFyZWQgYWdhaW50IHRoZSByb3VuZEFycmF5LiBUaGUgaW5wdXQgZm9ybWF0IGlzIFwicmdiKHIsIGcsIGIsKVwiIGFuZCBvdXRwdXRzIFwiI0hFWENPREVcIi5cblxuICBmdW5jdGlvbiBjaGVja0NvbXBsZXRlICgpIHtcbiAgICBjb25zdCB1c2VyUmdiID0gW107XG4gICAgJCgnLnNxdWFyZScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvdXIgPSAkKGVsZW1lbnQpLmNzcygnYmFja2dyb3VuZENvbG9yJyk7XG4gICAgICB1c2VyUmdiLnB1c2goYmFja2dyb3VuZENvbG91cik7XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ3VzZXJSZ2InLCB1c2VyUmdiKTtcblxuICAgIGNvbnN0IHVzZXJTb3J0ZWRBcnJheSA9IHVzZXJSZ2IubWFwKHJnYlRvSGV4KTtcbiAgICBjb25zb2xlLmxvZygndXNlclNvcnRlZEFycmF5JywgdXNlclNvcnRlZEFycmF5KTtcbiAgICBjb25zb2xlLmxvZygncm91bmRBcnJheScsIHJvdW5kQXJyYXkpO1xuXG4gICAgaWYgKHVzZXJTb3J0ZWRBcnJheS5sZW5ndGggPT09IHJvdW5kQXJyYXkubGVuZ3RoICYmIHVzZXJTb3J0ZWRBcnJheS5ldmVyeSgodixpKT0+IHYgPT09IHJvdW5kQXJyYXlbaV0pKSB7XG4gICAgICBjb25zb2xlLmxvZygnSXRcXCdzIGEgbWF0Y2gsIHdlbGwgZG9uZScpO1xuICAgICAgJHBpbmdTb3VuZC5wbGF5KCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdyb3VuZENvdW50ZXIgYmVmb3JlIGFsZXJ0cycsIHJvdW5kQ291bnRlcik7XG4gICAgICBpZihyb3VuZENvdW50ZXIgPiA0KSB7XG4gICAgICAgIGFsZXJ0KCdHYW1lIGNvbXBsZXRlJyk7XG4gICAgICAgIGVuZEdhbWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KCdSb3VuZCBjb21wbGV0ZSwgcHJlc3MgTmV4dCBSb3VuZCB0byBjb250aW51ZS4nKTtcbiAgICAgICAgJG5leHRCdXR0b24uc2hvdygpO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdOb3QgcXVpdGUsIGhhdmUgYW5vdGhlciBnbycpO1xuICAgIH1cbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGNoZWNrcyB0byBzZWUgaWYgdGhlIHVzZXIgaGFzIHNvcnRlZCB0aGUgYXJyYXkgdGhhdCB3YXMgcHVzaGVkIGludG8gdGhlIGRpdnMuIEl0IGJlZ2lucyB3aXRoIGFuIGVtcHR5IGFycmF5LCB1c2VyUmdiLCB3aGljaCBpcyBwb3B1bGF0ZWQgd2l0aCB0aGUgcmdiIGNvZGVzIGZyb20gdGhlIGNvbG9ycyB0aGF0IGFyZSBjdXJyZW50bHkgb24gdmlldywgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIGluLiBJdCB0aGVuIGNvbnZlcnRzIHRoZSByZ2IgY29sb3JzIGludG8gaGV4IGNvbG9ycyBhbmQgcHV0cyB0aGVtIGludG8gYSBuZXcgYXJyYXkgY2FsbGVkIHVzZXJTb3J0ZWRBcnJheS4gRmluYWxseSBpdCBjb21wYXJlcyB0aGUgdXNlclNvcnRlZEFycmF5IHRvIHRoZSByb3VuZEFycmF5IHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBpZGVudGljYWwuIElmIHRoZXkgYXJlLCBpdCBhbGVydHMgdGhlIHVzZXIgdGhhdCB0aGUgbmV4dCByb3VuZCBpcyBhdmFpbGFibGUuIE90aGVyd2lzZSwgdGhlIHVzZXIgY29udGludWVzIHRvIHNvcnQgdGhlIGFycmF5LlxuXG4gIGZ1bmN0aW9uIGNoYW5nZUNvbG9yKGUpe1xuICAgIGNvbnN0IGluZGV4ID0gJChlLnRhcmdldCkuaW5kZXgoJy5zcXVhcmUnKTtcbiAgICBjb25zdCBsZW5ndGggPSAkKCcuc3F1YXJlJykubGVuZ3RoO1xuICAgIGlmKGluZGV4ICE9PSAwICYmIGluZGV4ICE9PSAobGVuZ3RoIC0gMSkpIHtcbiAgICAgIGlmKGNvdW50ID09PSAwKXtcbiAgICAgICAgcHJldiA9ICQodGhpcyk7XG4gICAgICAgIHByZXZjb2xvciA9IHByZXYuY3NzKCdiYWNrZ3JvdW5kQ29sb3InKTtcbiAgICAgIH1lbHNlIGlmKGNvdW50ID09PSAxKXtcbiAgICAgICAgcHJldi5jc3MoJ2JhY2tncm91bmRDb2xvcicsICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kQ29sb3InKSk7XG4gICAgICAgICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCBwcmV2Y29sb3IpO1xuICAgICAgICBjb3VudCA9IC0xO1xuICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgICBjb3VudCs9MTtcbiAgICB9XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHN3aXRjaCB0aGUgY29sb3JzIHdpdGhpbiBkaXYuIE9ubHkgb25jZSB0aGUgdXNlciBoYXMgY2xpY2tlZCBvbiB0d28gc2VwZXJhdGUgZGl2cyB3aWxsIHRoZSBiYWNrZ3JvdW5kIGNvbG9ycyBjaGFuZ2UuIEl0IGFsc28gaW5jbHVkZXMgdGhlIGNoZWNrQ29tcGxldGUgZnVuY3Rpb24gc28gdGhhdCBvbmNlIHRoZSBjaGFuZ2UgaGFzIGJlZW4gbWFkZSwgaXQgY2FuIGNoZWNrIHdoZXRoZXIgaXQgaXMgY29ycmVjdCBvciBub3QuXG5cbiAgZnVuY3Rpb24gbmV4dFJvdW5kICgpIHtcbiAgICByb3VuZENvdW50ZXIgKys7XG4gICAgcm91bmROdW1iZXIgKys7XG4gICAgJGdhbWVCb2FyZC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzcXVhcmVcIj48L2Rpdj4nKTtcbiAgICAkbmV4dEJ1dHRvbi5oaWRlKCk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHdoZW4gdGhlIG5leHRCdXR0b24gaXMgY2xpY2tlZC4gVGhlIG5leHRCdXR0b24gb25seSBhcHBlYXJzIGFmdGVyIHRoZSB1c2VyIGhhcyBjb3JyZWN0bHkgc29ydGVkIHRoZSBhcnJheSwgYW5kIGlzIHVzZWQgdG8gbW92ZSB0byB0aGUgbmV4dCByb3VuZC4gSXQgaGlkZXMgb25jZSBpdCBpcyBwcmVzc2VkIHNvIHRoZSB1c2VyIGNhbm5vdCBza2lwIHJvdW5kcy5cblxuICBmdW5jdGlvbiByZXNldEdhbWUoKSB7XG4gICAgcm91bmRDb3VudGVyID0gMDtcbiAgICByb3VuZE51bWJlciA9IG51bGw7XG4gICAgJHJlc2V0QnV0dG9uLmhpZGUoKTtcbiAgICAkbmV4dEJ1dHRvbi5oaWRlKCk7XG4gICAgJGdhbWVTcXVhcmVzLmhpZGUoKTtcbiAgICAkd2hpY2hSb3VuZC5oaWRlKCk7XG4gICAgJGVhc3lCdXR0b24uc2hvdygpO1xuICAgICRoYXJkQnV0dG9uLnNob3coKTtcbiAgICBsZXQgcm91bmRBcnJheSA9IG51bGw7XG4gICAgbGV0IHJhbmRvbUNvbG9yc0FyciA9IG51bGw7XG4gICAgbGV0IHNodWZmbGVkQXJyYXkgPSBbXTtcbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gcmVzZXQgdGhlIGdhbWUuIEl0IGJyaW5ncyB0aGUgZ2FtZSBiYWNrIHRvIHRoZSBvcmlnaW5hbCBzdGF0ZSBhbmQgc3RvcHMgYW55IHRpbWVycyB0aGF0IG1pZ2h0IGhhdmUgYmVlbiBydW5uaW5nLlxuXG4gIGZ1bmN0aW9uIGVuZEdhbWUgKCkge1xuICAgIGVuZFRpbWUoKTtcbiAgICB0aW1lRGlmZigpO1xuICAgIGFsZXJ0KGBHYW1lIENvbXBsZXRlISBZb3UgZmluaXNoZWQgd2l0aCBhIHRpbWUgb2YgJHt1c2VyVGltZX1gKTtcbiAgICB1cGRhdGVUaW1lKCk7XG4gICAgcmVzZXRHYW1lKCk7XG4gIH1cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGVuZCB0aGUgZ2FtZSB1cG9uIGNvbXBsZXRpb24gb2YgdGhlIGZpZnRoIHJvdW5kLiBJdCB0YWtlcyBhIHNlY29uZCB0aW1lLCBjb252ZXJ0cyBpdCB0byBzZWNvbmRzLCBhbmQgdGhlbiBhbGVydHMgdGhlIHVzZXIgdG8gdGhlaXIgZ2FtZSB0aW1lLiBJdCBhbHNvIHVwZGF0ZXMgdGhlIHF1aWNrZXN0IHRpbWUgYW5kIGFsZXJ0cyB0aGUgdXNlciBpZiB0aGV5IHNldCBhIG5ldyBxdWlja2VzdCB0aW1lIG9yIG5vdC4gRmluYWxseSwgaXQgYnJpbmdzIHRoZSBnYW1lIGJhY2sgaW50byB0aGUgc3RhcnQgc3RhdGUuXG5cbiAgZnVuY3Rpb24gc3RhcnRUaW1lKCkge1xuICAgIHRpbWUxID0gbmV3IERhdGUoKTtcbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY2FwdHVyZSB0aGUgdGltZSBhdCB3aGljaCB0aGUgdXNlciBiZWdhbiB0aGUgZ2FtZS5cblxuICBmdW5jdGlvbiBlbmRUaW1lKCkge1xuICAgIHRpbWUyID0gbmV3IERhdGUoKTtcbiAgfVxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY2FwdHVyZSB0aGUgdGltZSBhdCB3aGljaCB0aGUgdXNlciBjb21wbGV0ZWQgdGhlIGdhbWUuXG5cbiAgZnVuY3Rpb24gdGltZURpZmYoKSB7XG4gICAgdXNlclRpbWUgPSAodGltZTIgLSB0aW1lMSkvMTAwMDtcbiAgfVxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byB3b3JrIG91dCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBzdGFydCBvZiB0aGUgZ2FtZSBhbmQgdGhlIGVuZCBvZiB0aGUgZ2FtZSBhbmQgY29udmVydCB0aGUgdGltZSBpbnRvIHNlY29uZHMuXG5cbiAgZnVuY3Rpb24gdXBkYXRlVGltZSAoKSB7XG4gICAgLy8gY29uc29sZS5sb2coYCR7cXVpY2tlc3RUaW1lfSBpcyB0aGUgdGltZSB0byBiZWF0IGJ1dCB0aGUgdXNlciBnb3QgJHt1c2VyVGltZX1gKTtcbiAgICBpZiAodXNlclRpbWUgPCBxdWlja2VzdFRpbWUpIHtcbiAgICAgIGFsZXJ0KGBDb25ncmF0dWxhdGlvbnMsIHlvdSd2ZSBzZXQgdGhlIG5ldyBxdWlja2VzdCB0aW1lIWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChgVW5mb3J0dW5hdGVseSwgeW91IHdlcmVuJ3QgcXVpdGUgZmFzdCBlbm91Z2h0IHRvIHNldCBhIG5ldyBxdWljayB0aW1lLmApO1xuICAgIH1cbiAgICBxdWlja2VzdFRpbWUgPSAodXNlclRpbWUgPCBxdWlja2VzdFRpbWUpID8gdXNlclRpbWUgOiBxdWlja2VzdFRpbWU7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3F1aWNrZXN0VGltZScsIHF1aWNrZXN0VGltZSk7XG4gICAgcmV0dXJuIHF1aWNrZXN0VGltZTtcbiAgfVxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjaGVjayB3aGV0aGVyIHRoZSBnYW1lIHRpbWUgaXMgcXVpY2tlciB0aGFuIHRoZSBjdXJyZW50IHF1aWNrZXN0IHRpbWUuIEl0IGFsZXJ0cyB0aGUgdXNlciB3aGV0aGVyIHRoZXkgaGF2ZSBzZXQgYSBuZXcgcXVpY2sgdGltZSBvciBub3QsIGFuZCBpZiB0aGVyZSBpcyBhIG5ldyBxdWljayB0aW1lLCBpdCB1cGRhdGVzIHRoZSBsb2NhbCBzdG9yYWdlIHdpdGggdGhlIG5ldyBxdWljayB0aW1lLlxuXG59KTtcbiJdfQ==
